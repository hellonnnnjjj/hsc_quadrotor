ARM GAS  /tmp/ccdnfZu7.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"system_at32f4xx.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.SetSysClockTo120M,"ax",%progbits
  18              		.align	1
  19              		.arch armv7e-m
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  23              		.fpu fpv4-sp-d16
  25              	SetSysClockTo120M:
  26              	.LFB126:
  27              		.file 1 "./CMSIS/system_at32f4xx.c"
   1:./CMSIS/system_at32f4xx.c **** /**
   2:./CMSIS/system_at32f4xx.c ****   ******************************************************************************
   3:./CMSIS/system_at32f4xx.c ****   * File   : system_at32f4xx.c
   4:./CMSIS/system_at32f4xx.c ****   * Version: V1.2.4
   5:./CMSIS/system_at32f4xx.c ****   * Date   : 2020-08-26
   6:./CMSIS/system_at32f4xx.c ****   * Brief  : CMSIS Cortex-M4 system source file
   7:./CMSIS/system_at32f4xx.c ****   ******************************************************************************
   8:./CMSIS/system_at32f4xx.c ****   */ 
   9:./CMSIS/system_at32f4xx.c **** 
  10:./CMSIS/system_at32f4xx.c **** /** @addtogroup CMSIS
  11:./CMSIS/system_at32f4xx.c ****   * @{
  12:./CMSIS/system_at32f4xx.c ****   */
  13:./CMSIS/system_at32f4xx.c **** 
  14:./CMSIS/system_at32f4xx.c **** /** @addtogroup at32f4xx_system
  15:./CMSIS/system_at32f4xx.c ****   * @{
  16:./CMSIS/system_at32f4xx.c ****   */
  17:./CMSIS/system_at32f4xx.c **** 
  18:./CMSIS/system_at32f4xx.c **** /** @addtogroup at32f4xx_System_Private_Includes
  19:./CMSIS/system_at32f4xx.c ****   * @{
  20:./CMSIS/system_at32f4xx.c ****   */
  21:./CMSIS/system_at32f4xx.c **** 
  22:./CMSIS/system_at32f4xx.c **** #include "at32f4xx.h"
  23:./CMSIS/system_at32f4xx.c **** 
  24:./CMSIS/system_at32f4xx.c **** /**
  25:./CMSIS/system_at32f4xx.c ****   * @}
  26:./CMSIS/system_at32f4xx.c ****   */
  27:./CMSIS/system_at32f4xx.c **** 
  28:./CMSIS/system_at32f4xx.c **** /** @addtogroup at32f4xx_System_Private_TypesDefinitions
  29:./CMSIS/system_at32f4xx.c ****   * @{
  30:./CMSIS/system_at32f4xx.c ****   */
  31:./CMSIS/system_at32f4xx.c **** 
ARM GAS  /tmp/ccdnfZu7.s 			page 2


  32:./CMSIS/system_at32f4xx.c **** /**
  33:./CMSIS/system_at32f4xx.c ****   * @}
  34:./CMSIS/system_at32f4xx.c ****   */
  35:./CMSIS/system_at32f4xx.c **** 
  36:./CMSIS/system_at32f4xx.c **** /** @addtogroup at32f4xx_System_Private_Defines
  37:./CMSIS/system_at32f4xx.c ****   * @{
  38:./CMSIS/system_at32f4xx.c ****   */
  39:./CMSIS/system_at32f4xx.c **** 
  40:./CMSIS/system_at32f4xx.c **** /*!< Uncomment the line corresponding to the desired System clock (SYSCLK)
  41:./CMSIS/system_at32f4xx.c ****    frequency (after reset the HSI is used as SYSCLK source)
  42:./CMSIS/system_at32f4xx.c **** 
  43:./CMSIS/system_at32f4xx.c ****    IMPORTANT NOTE:
  44:./CMSIS/system_at32f4xx.c ****    ==============
  45:./CMSIS/system_at32f4xx.c ****    1. After each device reset the HSI is used as System clock source.
  46:./CMSIS/system_at32f4xx.c **** 
  47:./CMSIS/system_at32f4xx.c ****    2. Please make sure that the selected System clock doesn't exceed your device's
  48:./CMSIS/system_at32f4xx.c ****       maximum frequency.
  49:./CMSIS/system_at32f4xx.c **** 
  50:./CMSIS/system_at32f4xx.c ****    3. If none of the define below is enabled, the HSI is used as System clock
  51:./CMSIS/system_at32f4xx.c ****     source.
  52:./CMSIS/system_at32f4xx.c **** 
  53:./CMSIS/system_at32f4xx.c ****    4. The System clock configuration functions provided within this file assume that:
  54:./CMSIS/system_at32f4xx.c ****         - For at32f4xx devices, an external 8MHz crystal is used to drive the System clock.
  55:./CMSIS/system_at32f4xx.c ****      If you are using different crystal you have to adapt those functions accordingly.
  56:./CMSIS/system_at32f4xx.c **** 
  57:./CMSIS/system_at32f4xx.c ****       Clock (MHz)
  58:./CMSIS/system_at32f4xx.c ****           PLL from HSE or HSI                      F421 PLL from HSE or HSI
  59:./CMSIS/system_at32f4xx.c ****           SYSCLK        HCLK    PCLK2   PCLK1      SYSCLK       HCLK    PCLK2   PCLK1
  60:./CMSIS/system_at32f4xx.c ****           24            24      24      24         24           24      24      24
  61:./CMSIS/system_at32f4xx.c ****           36            36      36      36         36           36      36      36
  62:./CMSIS/system_at32f4xx.c ****           48            48      48      24         48           48      48      48
  63:./CMSIS/system_at32f4xx.c ****           56            56      56      28         56           56      56      56
  64:./CMSIS/system_at32f4xx.c ****           72            72      72      36         72           72      72      72
  65:./CMSIS/system_at32f4xx.c ****           96            96      48      48         96           96      96      96
  66:./CMSIS/system_at32f4xx.c ****           108           108     54      54         108          108     108     108
  67:./CMSIS/system_at32f4xx.c ****           120           120     60      60         120          120     120     120
  68:./CMSIS/system_at32f4xx.c ****           144           144     72      72
  69:./CMSIS/system_at32f4xx.c ****           150           150     75      75
  70:./CMSIS/system_at32f4xx.c ****           168           168     84      84
  71:./CMSIS/system_at32f4xx.c ****           176           176     88      88
  72:./CMSIS/system_at32f4xx.c ****           192           192     96      96
  73:./CMSIS/system_at32f4xx.c ****           200           200     100     100
  74:./CMSIS/system_at32f4xx.c ****           224           224     112     112
  75:./CMSIS/system_at32f4xx.c ****           240           240     120     120
  76:./CMSIS/system_at32f4xx.c ****     */
  77:./CMSIS/system_at32f4xx.c **** 
  78:./CMSIS/system_at32f4xx.c **** #if defined (AT32F403xx) || defined (AT32F413xx) || \
  79:./CMSIS/system_at32f4xx.c ****     defined (AT32F415xx) || defined (AT32F403Axx)|| \
  80:./CMSIS/system_at32f4xx.c ****     defined (AT32F407xx) || defined (AT32F421xx)
  81:./CMSIS/system_at32f4xx.c **** /* #define SYSCLK_FREQ_HSE          HSE_VALUE */
  82:./CMSIS/system_at32f4xx.c **** /* #define SYSCLK_FREQ_24MHz        24000000 */
  83:./CMSIS/system_at32f4xx.c **** /* #define SYSCLK_FREQ_36MHz        36000000 */
  84:./CMSIS/system_at32f4xx.c **** /* #define SYSCLK_FREQ_48MHz        48000000 */
  85:./CMSIS/system_at32f4xx.c **** /* #define SYSCLK_FREQ_56MHz        56000000 */
  86:./CMSIS/system_at32f4xx.c **** /* #define SYSCLK_FREQ_72MHz        72000000 */
  87:./CMSIS/system_at32f4xx.c **** /* #define SYSCLK_FREQ_96MHz        96000000 */
  88:./CMSIS/system_at32f4xx.c **** /* #define SYSCLK_FREQ_108MHz       108000000 */
ARM GAS  /tmp/ccdnfZu7.s 			page 3


  89:./CMSIS/system_at32f4xx.c ****  #define SYSCLK_FREQ_120MHz       120000000 
  90:./CMSIS/system_at32f4xx.c **** /* #define SYSCLK_FREQ_24MHz_HSI    24000000 */
  91:./CMSIS/system_at32f4xx.c **** /* #define SYSCLK_FREQ_36MHz_HSI    36000000 */
  92:./CMSIS/system_at32f4xx.c **** /* #define SYSCLK_FREQ_48MHz_HSI    48000000 */
  93:./CMSIS/system_at32f4xx.c **** /* #define SYSCLK_FREQ_56MHz_HSI    56000000 */
  94:./CMSIS/system_at32f4xx.c **** /* #define SYSCLK_FREQ_72MHz_HSI    72000000 */
  95:./CMSIS/system_at32f4xx.c **** /* #define SYSCLK_FREQ_96MHz_HSI    96000000 */
  96:./CMSIS/system_at32f4xx.c **** /* #define SYSCLK_FREQ_108MHz_HSI   108000000 */
  97:./CMSIS/system_at32f4xx.c **** /* #define SYSCLK_FREQ_120MHz_HSI   120000000 */
  98:./CMSIS/system_at32f4xx.c **** #endif
  99:./CMSIS/system_at32f4xx.c **** 
 100:./CMSIS/system_at32f4xx.c **** #if defined (AT32F403xx) || defined (AT32F413xx) || \
 101:./CMSIS/system_at32f4xx.c ****     defined (AT32F415xx) || defined (AT32F403Axx)|| \
 102:./CMSIS/system_at32f4xx.c ****     defined (AT32F407xx)
 103:./CMSIS/system_at32f4xx.c **** /* #define SYSCLK_FREQ_144MHz       144000000 */
 104:./CMSIS/system_at32f4xx.c **** /* #define SYSCLK_FREQ_144MHz_HSI   144000000 */
 105:./CMSIS/system_at32f4xx.c **** #endif
 106:./CMSIS/system_at32f4xx.c **** 
 107:./CMSIS/system_at32f4xx.c **** #if defined (AT32F415xx)
 108:./CMSIS/system_at32f4xx.c **** /* #define SYSCLK_FREQ_150MHz       150000000 */
 109:./CMSIS/system_at32f4xx.c **** /* #define SYSCLK_FREQ_150MHz_HSI   150000000 */
 110:./CMSIS/system_at32f4xx.c **** #endif
 111:./CMSIS/system_at32f4xx.c **** 
 112:./CMSIS/system_at32f4xx.c **** #if defined (AT32F403xx) || defined (AT32F413xx) || \
 113:./CMSIS/system_at32f4xx.c ****     defined (AT32F403Axx)|| defined (AT32F407xx)
 114:./CMSIS/system_at32f4xx.c **** /* #define SYSCLK_FREQ_168MHz       168000000 */
 115:./CMSIS/system_at32f4xx.c **** /* #define SYSCLK_FREQ_176MHz       176000000 */
 116:./CMSIS/system_at32f4xx.c **** /* #define SYSCLK_FREQ_192MHz       192000000 */
 117:./CMSIS/system_at32f4xx.c **** /* #define SYSCLK_FREQ_200MHz       200000000 */
 118:./CMSIS/system_at32f4xx.c **** /* #define SYSCLK_FREQ_168MHz_HSI   168000000 */
 119:./CMSIS/system_at32f4xx.c **** /* #define SYSCLK_FREQ_176MHz_HSI   176000000 */
 120:./CMSIS/system_at32f4xx.c **** /* #define SYSCLK_FREQ_192MHz_HSI   192000000 */
 121:./CMSIS/system_at32f4xx.c **** /* #define SYSCLK_FREQ_200MHz_HSI   200000000 */
 122:./CMSIS/system_at32f4xx.c **** #endif
 123:./CMSIS/system_at32f4xx.c **** 
 124:./CMSIS/system_at32f4xx.c **** #if defined (AT32F403Axx)|| defined (AT32F407xx)
 125:./CMSIS/system_at32f4xx.c **** /* #define SYSCLK_FREQ_224MHz       224000000 */
 126:./CMSIS/system_at32f4xx.c **** /* #define SYSCLK_FREQ_240MHz       240000000 */
 127:./CMSIS/system_at32f4xx.c **** /* #define SYSCLK_FREQ_224MHz_HSI   224000000 */
 128:./CMSIS/system_at32f4xx.c **** /* #define SYSCLK_FREQ_240MHz_HSI   240000000 */
 129:./CMSIS/system_at32f4xx.c **** #endif
 130:./CMSIS/system_at32f4xx.c **** 
 131:./CMSIS/system_at32f4xx.c **** /*!< Uncomment the following line if you need to use external SRAM mounted
 132:./CMSIS/system_at32f4xx.c ****      (AT32 High density and XL-density devices) as data memory */
 133:./CMSIS/system_at32f4xx.c **** 
 134:./CMSIS/system_at32f4xx.c **** /* #define DATA_IN_ExtSRAM */
 135:./CMSIS/system_at32f4xx.c **** 
 136:./CMSIS/system_at32f4xx.c **** /*!< Uncomment the following line if you need to relocate your vector Table in
 137:./CMSIS/system_at32f4xx.c ****      Internal SRAM. */
 138:./CMSIS/system_at32f4xx.c **** /* #define VECT_TAB_SRAM */
 139:./CMSIS/system_at32f4xx.c **** #define VECT_TAB_OFFSET  0x0 /*!< Vector Table base offset field. 
 140:./CMSIS/system_at32f4xx.c **** This value must be a multiple of 0x200. */
 141:./CMSIS/system_at32f4xx.c **** 
 142:./CMSIS/system_at32f4xx.c **** 
 143:./CMSIS/system_at32f4xx.c **** /**
 144:./CMSIS/system_at32f4xx.c ****   * @}
 145:./CMSIS/system_at32f4xx.c ****   */
ARM GAS  /tmp/ccdnfZu7.s 			page 4


 146:./CMSIS/system_at32f4xx.c **** #if defined (AT32F415xx)
 147:./CMSIS/system_at32f4xx.c **** #define  FLASH_ACR_DEFAULT(latency)              ((uint32_t)FLASH_ACR_PRFTBE | (latency))
 148:./CMSIS/system_at32f4xx.c **** #elif defined (AT32F421xx)
 149:./CMSIS/system_at32f4xx.c **** #define  FLASH_ACR_DEFAULT(latency)              ((uint32_t)FLASH_ACR_PRFTB_HITCYC | FLASH_ACR_PRFT
 150:./CMSIS/system_at32f4xx.c **** #endif
 151:./CMSIS/system_at32f4xx.c **** /** @addtogroup at32f4xx_System_Private_Macros
 152:./CMSIS/system_at32f4xx.c ****   * @{
 153:./CMSIS/system_at32f4xx.c ****   */
 154:./CMSIS/system_at32f4xx.c **** 
 155:./CMSIS/system_at32f4xx.c **** /**
 156:./CMSIS/system_at32f4xx.c ****   * @}
 157:./CMSIS/system_at32f4xx.c ****   */
 158:./CMSIS/system_at32f4xx.c **** 
 159:./CMSIS/system_at32f4xx.c **** /** @addtogroup at32f4xx_System_Private_Variables
 160:./CMSIS/system_at32f4xx.c ****   * @{
 161:./CMSIS/system_at32f4xx.c ****   */
 162:./CMSIS/system_at32f4xx.c **** 
 163:./CMSIS/system_at32f4xx.c **** /*******************************************************************************
 164:./CMSIS/system_at32f4xx.c **** *  Clock Definitions
 165:./CMSIS/system_at32f4xx.c **** *******************************************************************************/
 166:./CMSIS/system_at32f4xx.c **** #ifdef SYSCLK_FREQ_HSE
 167:./CMSIS/system_at32f4xx.c **** uint32_t SystemCoreClock         = SYSCLK_FREQ_HSE;        /*!< System Clock Frequency (Core Clock)
 168:./CMSIS/system_at32f4xx.c **** #elif defined SYSCLK_FREQ_24MHz
 169:./CMSIS/system_at32f4xx.c **** uint32_t SystemCoreClock         = SYSCLK_FREQ_24MHz;        /*!< System Clock Frequency (Core Cloc
 170:./CMSIS/system_at32f4xx.c **** #elif defined SYSCLK_FREQ_36MHz
 171:./CMSIS/system_at32f4xx.c **** uint32_t SystemCoreClock         = SYSCLK_FREQ_36MHz;        /*!< System Clock Frequency (Core Cloc
 172:./CMSIS/system_at32f4xx.c **** #elif defined SYSCLK_FREQ_48MHz
 173:./CMSIS/system_at32f4xx.c **** uint32_t SystemCoreClock         = SYSCLK_FREQ_48MHz;        /*!< System Clock Frequency (Core Cloc
 174:./CMSIS/system_at32f4xx.c **** #elif defined SYSCLK_FREQ_56MHz
 175:./CMSIS/system_at32f4xx.c **** uint32_t SystemCoreClock         = SYSCLK_FREQ_56MHz;        /*!< System Clock Frequency (Core Cloc
 176:./CMSIS/system_at32f4xx.c **** #elif defined SYSCLK_FREQ_72MHz
 177:./CMSIS/system_at32f4xx.c **** uint32_t SystemCoreClock         = SYSCLK_FREQ_72MHz;        /*!< System Clock Frequency (Core Cloc
 178:./CMSIS/system_at32f4xx.c **** #elif defined SYSCLK_FREQ_96MHz
 179:./CMSIS/system_at32f4xx.c **** uint32_t SystemCoreClock         = SYSCLK_FREQ_96MHz;        /*!< System Clock Frequency (Core Cloc
 180:./CMSIS/system_at32f4xx.c **** #elif defined SYSCLK_FREQ_108MHz
 181:./CMSIS/system_at32f4xx.c **** uint32_t SystemCoreClock         = SYSCLK_FREQ_108MHz;       /*!< System Clock Frequency (Core Cloc
 182:./CMSIS/system_at32f4xx.c **** #elif defined SYSCLK_FREQ_120MHz
 183:./CMSIS/system_at32f4xx.c **** uint32_t SystemCoreClock         = SYSCLK_FREQ_120MHz;       /*!< System Clock Frequency (Core Cloc
 184:./CMSIS/system_at32f4xx.c **** #elif defined SYSCLK_FREQ_144MHz
 185:./CMSIS/system_at32f4xx.c **** uint32_t SystemCoreClock         = SYSCLK_FREQ_144MHz;       /*!< System Clock Frequency (Core Cloc
 186:./CMSIS/system_at32f4xx.c **** #elif defined SYSCLK_FREQ_150MHz
 187:./CMSIS/system_at32f4xx.c **** uint32_t SystemCoreClock         = SYSCLK_FREQ_150MHz;       /*!< System Clock Frequency (Core Cloc
 188:./CMSIS/system_at32f4xx.c **** #elif defined SYSCLK_FREQ_168MHz
 189:./CMSIS/system_at32f4xx.c **** uint32_t SystemCoreClock         = SYSCLK_FREQ_168MHz;       /*!< System Clock Frequency (Core Cloc
 190:./CMSIS/system_at32f4xx.c **** #elif defined SYSCLK_FREQ_176MHz
 191:./CMSIS/system_at32f4xx.c **** uint32_t SystemCoreClock         = SYSCLK_FREQ_176MHz;       /*!< System Clock Frequency (Core Cloc
 192:./CMSIS/system_at32f4xx.c **** #elif defined SYSCLK_FREQ_192MHz
 193:./CMSIS/system_at32f4xx.c **** uint32_t SystemCoreClock         = SYSCLK_FREQ_192MHz;       /*!< System Clock Frequency (Core Cloc
 194:./CMSIS/system_at32f4xx.c **** #elif defined SYSCLK_FREQ_200MHz
 195:./CMSIS/system_at32f4xx.c **** uint32_t SystemCoreClock         = SYSCLK_FREQ_200MHz;       /*!< System Clock Frequency (Core Cloc
 196:./CMSIS/system_at32f4xx.c **** #elif defined SYSCLK_FREQ_224MHz
 197:./CMSIS/system_at32f4xx.c **** uint32_t SystemCoreClock         = SYSCLK_FREQ_224MHz;       /*!< System Clock Frequency (Core Cloc
 198:./CMSIS/system_at32f4xx.c **** #elif defined SYSCLK_FREQ_240MHz
 199:./CMSIS/system_at32f4xx.c **** uint32_t SystemCoreClock         = SYSCLK_FREQ_240MHz;       /*!< System Clock Frequency (Core Cloc
 200:./CMSIS/system_at32f4xx.c **** #elif defined SYSCLK_FREQ_24MHz_HSI
 201:./CMSIS/system_at32f4xx.c **** uint32_t SystemCoreClock         = SYSCLK_FREQ_24MHz_HSI;    /*!< System Clock Frequency (Core Cloc
 202:./CMSIS/system_at32f4xx.c **** #elif defined SYSCLK_FREQ_36MHz_HSI
ARM GAS  /tmp/ccdnfZu7.s 			page 5


 203:./CMSIS/system_at32f4xx.c **** uint32_t SystemCoreClock         = SYSCLK_FREQ_36MHz_HSI;    /*!< System Clock Frequency (Core Cloc
 204:./CMSIS/system_at32f4xx.c **** #elif defined SYSCLK_FREQ_48MHz_HSI
 205:./CMSIS/system_at32f4xx.c **** uint32_t SystemCoreClock         = SYSCLK_FREQ_48MHz_HSI;    /*!< System Clock Frequency (Core Cloc
 206:./CMSIS/system_at32f4xx.c **** #elif defined SYSCLK_FREQ_56MHz_HSI
 207:./CMSIS/system_at32f4xx.c **** uint32_t SystemCoreClock         = SYSCLK_FREQ_56MHz_HSI;    /*!< System Clock Frequency (Core Cloc
 208:./CMSIS/system_at32f4xx.c **** #elif defined SYSCLK_FREQ_72MHz_HSI
 209:./CMSIS/system_at32f4xx.c **** uint32_t SystemCoreClock         = SYSCLK_FREQ_72MHz_HSI;    /*!< System Clock Frequency (Core Cloc
 210:./CMSIS/system_at32f4xx.c **** #elif defined SYSCLK_FREQ_96MHz_HSI
 211:./CMSIS/system_at32f4xx.c **** uint32_t SystemCoreClock         = SYSCLK_FREQ_96MHz_HSI;    /*!< System Clock Frequency (Core Cloc
 212:./CMSIS/system_at32f4xx.c **** #elif defined SYSCLK_FREQ_108MHz_HSI
 213:./CMSIS/system_at32f4xx.c **** uint32_t SystemCoreClock         = SYSCLK_FREQ_108MHz_HSI;    /*!< System Clock Frequency (Core Clo
 214:./CMSIS/system_at32f4xx.c **** #elif defined SYSCLK_FREQ_120MHz_HSI
 215:./CMSIS/system_at32f4xx.c **** uint32_t SystemCoreClock         = SYSCLK_FREQ_120MHz_HSI;    /*!< System Clock Frequency (Core Clo
 216:./CMSIS/system_at32f4xx.c **** #elif defined SYSCLK_FREQ_144MHz_HSI
 217:./CMSIS/system_at32f4xx.c **** uint32_t SystemCoreClock         = SYSCLK_FREQ_144MHz_HSI;    /*!< System Clock Frequency (Core Clo
 218:./CMSIS/system_at32f4xx.c **** #elif defined SYSCLK_FREQ_150MHz_HSI
 219:./CMSIS/system_at32f4xx.c **** uint32_t SystemCoreClock         = SYSCLK_FREQ_150MHz_HSI;    /*!< System Clock Frequency (Core Clo
 220:./CMSIS/system_at32f4xx.c **** #elif defined SYSCLK_FREQ_168MHz_HSI
 221:./CMSIS/system_at32f4xx.c **** uint32_t SystemCoreClock         = SYSCLK_FREQ_168MHz_HSI;    /*!< System Clock Frequency (Core Clo
 222:./CMSIS/system_at32f4xx.c **** #elif defined SYSCLK_FREQ_176MHz_HSI
 223:./CMSIS/system_at32f4xx.c **** uint32_t SystemCoreClock         = SYSCLK_FREQ_176MHz_HSI;    /*!< System Clock Frequency (Core Clo
 224:./CMSIS/system_at32f4xx.c **** #elif defined SYSCLK_FREQ_192MHz_HSI
 225:./CMSIS/system_at32f4xx.c **** uint32_t SystemCoreClock         = SYSCLK_FREQ_192MHz_HSI;    /*!< System Clock Frequency (Core Clo
 226:./CMSIS/system_at32f4xx.c **** #elif defined SYSCLK_FREQ_200MHz_HSI
 227:./CMSIS/system_at32f4xx.c **** uint32_t SystemCoreClock         = SYSCLK_FREQ_200MHz_HSI;    /*!< System Clock Frequency (Core Clo
 228:./CMSIS/system_at32f4xx.c **** #elif defined SYSCLK_FREQ_224MHz_HSI
 229:./CMSIS/system_at32f4xx.c **** uint32_t SystemCoreClock         = SYSCLK_FREQ_224MHz_HSI;    /*!< System Clock Frequency (Core Clo
 230:./CMSIS/system_at32f4xx.c **** #elif defined SYSCLK_FREQ_240MHz_HSI
 231:./CMSIS/system_at32f4xx.c **** uint32_t SystemCoreClock         = SYSCLK_FREQ_240MHz_HSI;    /*!< System Clock Frequency (Core Clo
 232:./CMSIS/system_at32f4xx.c **** #else /*!< HSI Selected as System Clock source */
 233:./CMSIS/system_at32f4xx.c **** #define SYSCLK_FREQ_HSI            HSI_VALUE
 234:./CMSIS/system_at32f4xx.c **** uint32_t SystemCoreClock         = HSI_VALUE;        /*!< System Clock Frequency (Core Clock) */
 235:./CMSIS/system_at32f4xx.c **** #endif
 236:./CMSIS/system_at32f4xx.c **** 
 237:./CMSIS/system_at32f4xx.c **** __I uint8_t AHBPscTable[16] = {0, 0, 0, 0, 0, 0, 0, 0, 1, 2, 3, 4, 6, 7, 8, 9};
 238:./CMSIS/system_at32f4xx.c **** /**
 239:./CMSIS/system_at32f4xx.c ****   * @}
 240:./CMSIS/system_at32f4xx.c ****   */
 241:./CMSIS/system_at32f4xx.c **** 
 242:./CMSIS/system_at32f4xx.c **** /** @addtogroup at32f4xx_System_Private_FunctionPrototypes
 243:./CMSIS/system_at32f4xx.c ****   * @{
 244:./CMSIS/system_at32f4xx.c ****   */
 245:./CMSIS/system_at32f4xx.c **** 
 246:./CMSIS/system_at32f4xx.c **** static void SetSysClock(void);
 247:./CMSIS/system_at32f4xx.c **** 
 248:./CMSIS/system_at32f4xx.c **** #ifdef SYSCLK_FREQ_HSE
 249:./CMSIS/system_at32f4xx.c **** static void SetSysClockToHSE(void);
 250:./CMSIS/system_at32f4xx.c **** #elif defined SYSCLK_FREQ_24MHz
 251:./CMSIS/system_at32f4xx.c **** static void SetSysClockTo24M(void);
 252:./CMSIS/system_at32f4xx.c **** #elif defined SYSCLK_FREQ_36MHz
 253:./CMSIS/system_at32f4xx.c **** static void SetSysClockTo36M(void);
 254:./CMSIS/system_at32f4xx.c **** #elif defined SYSCLK_FREQ_48MHz
 255:./CMSIS/system_at32f4xx.c **** static void SetSysClockTo48M(void);
 256:./CMSIS/system_at32f4xx.c **** #elif defined SYSCLK_FREQ_56MHz
 257:./CMSIS/system_at32f4xx.c **** static void SetSysClockTo56M(void);
 258:./CMSIS/system_at32f4xx.c **** #elif defined SYSCLK_FREQ_72MHz
 259:./CMSIS/system_at32f4xx.c **** static void SetSysClockTo72M(void);
ARM GAS  /tmp/ccdnfZu7.s 			page 6


 260:./CMSIS/system_at32f4xx.c **** #elif defined SYSCLK_FREQ_96MHz
 261:./CMSIS/system_at32f4xx.c **** static void SetSysClockTo96M(void);
 262:./CMSIS/system_at32f4xx.c **** #elif defined SYSCLK_FREQ_108MHz
 263:./CMSIS/system_at32f4xx.c **** static void SetSysClockTo108M(void);
 264:./CMSIS/system_at32f4xx.c **** #elif defined SYSCLK_FREQ_120MHz
 265:./CMSIS/system_at32f4xx.c **** static void SetSysClockTo120M(void);
 266:./CMSIS/system_at32f4xx.c **** #elif defined SYSCLK_FREQ_144MHz
 267:./CMSIS/system_at32f4xx.c **** static void SetSysClockTo144M(void);
 268:./CMSIS/system_at32f4xx.c **** #elif defined SYSCLK_FREQ_150MHz
 269:./CMSIS/system_at32f4xx.c **** static void SetSysClockTo150M(void);
 270:./CMSIS/system_at32f4xx.c **** #elif defined SYSCLK_FREQ_168MHz
 271:./CMSIS/system_at32f4xx.c **** static void SetSysClockTo168M(void);
 272:./CMSIS/system_at32f4xx.c **** #elif defined SYSCLK_FREQ_176MHz
 273:./CMSIS/system_at32f4xx.c **** static void SetSysClockTo176M(void);
 274:./CMSIS/system_at32f4xx.c **** #elif defined SYSCLK_FREQ_192MHz
 275:./CMSIS/system_at32f4xx.c **** static void SetSysClockTo192M(void);
 276:./CMSIS/system_at32f4xx.c **** #elif defined SYSCLK_FREQ_200MHz
 277:./CMSIS/system_at32f4xx.c **** static void SetSysClockTo200M(void);
 278:./CMSIS/system_at32f4xx.c **** #elif defined SYSCLK_FREQ_224MHz
 279:./CMSIS/system_at32f4xx.c **** static void SetSysClockTo224M(void);
 280:./CMSIS/system_at32f4xx.c **** #elif defined SYSCLK_FREQ_240MHz
 281:./CMSIS/system_at32f4xx.c **** static void SetSysClockTo240M(void);
 282:./CMSIS/system_at32f4xx.c **** #elif defined SYSCLK_FREQ_24MHz_HSI
 283:./CMSIS/system_at32f4xx.c **** static void SetSysClockTo24MHSI(void);
 284:./CMSIS/system_at32f4xx.c **** #elif defined SYSCLK_FREQ_36MHz_HSI
 285:./CMSIS/system_at32f4xx.c **** static void SetSysClockTo36MHSI(void);
 286:./CMSIS/system_at32f4xx.c **** #elif defined SYSCLK_FREQ_48MHz_HSI
 287:./CMSIS/system_at32f4xx.c **** static void SetSysClockTo48MHSI(void);
 288:./CMSIS/system_at32f4xx.c **** #elif defined SYSCLK_FREQ_56MHz_HSI
 289:./CMSIS/system_at32f4xx.c **** static void SetSysClockTo56MHSI(void);
 290:./CMSIS/system_at32f4xx.c **** #elif defined SYSCLK_FREQ_72MHz_HSI
 291:./CMSIS/system_at32f4xx.c **** static void SetSysClockTo72MHSI(void);
 292:./CMSIS/system_at32f4xx.c **** #elif defined SYSCLK_FREQ_96MHz_HSI
 293:./CMSIS/system_at32f4xx.c **** static void SetSysClockTo96MHSI(void);
 294:./CMSIS/system_at32f4xx.c **** #elif defined SYSCLK_FREQ_108MHz_HSI
 295:./CMSIS/system_at32f4xx.c **** static void SetSysClockTo108MHSI(void);
 296:./CMSIS/system_at32f4xx.c **** #elif defined SYSCLK_FREQ_120MHz_HSI
 297:./CMSIS/system_at32f4xx.c **** static void SetSysClockTo120MHSI(void);
 298:./CMSIS/system_at32f4xx.c **** #elif defined SYSCLK_FREQ_144MHz_HSI
 299:./CMSIS/system_at32f4xx.c **** static void SetSysClockTo144MHSI(void);
 300:./CMSIS/system_at32f4xx.c **** #elif defined SYSCLK_FREQ_150MHz_HSI
 301:./CMSIS/system_at32f4xx.c **** static void SetSysClockTo150MHSI(void);
 302:./CMSIS/system_at32f4xx.c **** #elif defined SYSCLK_FREQ_168MHz_HSI
 303:./CMSIS/system_at32f4xx.c **** static void SetSysClockTo168MHSI(void);
 304:./CMSIS/system_at32f4xx.c **** #elif defined SYSCLK_FREQ_176MHz_HSI
 305:./CMSIS/system_at32f4xx.c **** static void SetSysClockTo176MHSI(void);
 306:./CMSIS/system_at32f4xx.c **** #elif defined SYSCLK_FREQ_192MHz_HSI
 307:./CMSIS/system_at32f4xx.c **** static void SetSysClockTo192MHSI(void);
 308:./CMSIS/system_at32f4xx.c **** #elif defined SYSCLK_FREQ_200MHz_HSI
 309:./CMSIS/system_at32f4xx.c **** static void SetSysClockTo200MHSI(void);
 310:./CMSIS/system_at32f4xx.c **** #elif defined SYSCLK_FREQ_224MHz_HSI
 311:./CMSIS/system_at32f4xx.c **** static void SetSysClockTo224MHSI(void);
 312:./CMSIS/system_at32f4xx.c **** #elif defined SYSCLK_FREQ_240MHz_HSI
 313:./CMSIS/system_at32f4xx.c **** static void SetSysClockTo240MHSI(void);
 314:./CMSIS/system_at32f4xx.c **** #endif
 315:./CMSIS/system_at32f4xx.c **** 
 316:./CMSIS/system_at32f4xx.c **** #ifdef DATA_IN_ExtSRAM
ARM GAS  /tmp/ccdnfZu7.s 			page 7


 317:./CMSIS/system_at32f4xx.c **** static void SystemInit_ExtMemCtrl(void);
 318:./CMSIS/system_at32f4xx.c **** #endif /* DATA_IN_ExtSRAM */
 319:./CMSIS/system_at32f4xx.c **** 
 320:./CMSIS/system_at32f4xx.c **** /**
 321:./CMSIS/system_at32f4xx.c ****   * @}
 322:./CMSIS/system_at32f4xx.c ****   */
 323:./CMSIS/system_at32f4xx.c **** 
 324:./CMSIS/system_at32f4xx.c **** /** @addtogroup at32f4xx_System_Private_Functions
 325:./CMSIS/system_at32f4xx.c ****   * @{
 326:./CMSIS/system_at32f4xx.c ****   */
 327:./CMSIS/system_at32f4xx.c **** 
 328:./CMSIS/system_at32f4xx.c **** /**
 329:./CMSIS/system_at32f4xx.c ****   * @brief  Setup the microcontroller system
 330:./CMSIS/system_at32f4xx.c ****   *         Initialize the Embedded Flash Interface, the PLL and update the
 331:./CMSIS/system_at32f4xx.c ****   *         SystemCoreClock variable.
 332:./CMSIS/system_at32f4xx.c ****   * @note   This function should be used only after reset.
 333:./CMSIS/system_at32f4xx.c ****   * @param  None
 334:./CMSIS/system_at32f4xx.c ****   * @retval None
 335:./CMSIS/system_at32f4xx.c ****   */
 336:./CMSIS/system_at32f4xx.c **** void SystemInit (void)
 337:./CMSIS/system_at32f4xx.c **** {
 338:./CMSIS/system_at32f4xx.c **** #if defined (AT32F415xx)
 339:./CMSIS/system_at32f4xx.c ****   /* Enable low power mode, 0x40007050[bit2] */
 340:./CMSIS/system_at32f4xx.c ****   RCC_APB1PeriphClockCmd(RCC_APB1PERIPH_PWR, ENABLE);
 341:./CMSIS/system_at32f4xx.c ****   *(volatile uint8_t *)(0x40007050) |= (uint8_t)(0x1 << 2);
 342:./CMSIS/system_at32f4xx.c ****   RCC_APB1PeriphClockCmd(RCC_APB1PERIPH_PWR, DISABLE);
 343:./CMSIS/system_at32f4xx.c **** #endif
 344:./CMSIS/system_at32f4xx.c **** 
 345:./CMSIS/system_at32f4xx.c **** #if defined (__FPU_USED) && (__FPU_USED == 1U)
 346:./CMSIS/system_at32f4xx.c ****   SCB->CPACR |= ((3U << 10U * 2U) |         /* set CP10 Full Access */
 347:./CMSIS/system_at32f4xx.c ****                  (3U << 11U * 2U)  );       /* set CP11 Full Access */
 348:./CMSIS/system_at32f4xx.c **** #endif
 349:./CMSIS/system_at32f4xx.c **** 
 350:./CMSIS/system_at32f4xx.c ****   /* Reset the RCC clock configuration to the default reset state(for debug purpose) */
 351:./CMSIS/system_at32f4xx.c ****   /* Set HSIEN bit */
 352:./CMSIS/system_at32f4xx.c ****   BIT_SET(RCC->CTRL, RCC_CTRL_HSIEN);
 353:./CMSIS/system_at32f4xx.c **** 
 354:./CMSIS/system_at32f4xx.c ****   /* Reset SW, AHBPSC, APB1PSC, APB2PSC, ADCPSC and CLKOUT bits */
 355:./CMSIS/system_at32f4xx.c ****   BIT_CLEAR(RCC->CFG, RCC_CFG_SYSCLKSEL | RCC_CFG_AHBPSC | \
 356:./CMSIS/system_at32f4xx.c ****             RCC_CFG_APB1PSC | RCC_CFG_APB2PSC | \
 357:./CMSIS/system_at32f4xx.c ****             RCC_CFG_ADCPSC | RCC_CFG_CLKOUT);
 358:./CMSIS/system_at32f4xx.c **** 
 359:./CMSIS/system_at32f4xx.c ****   /* Reset HSEEN, HSECFDEN and PLLEN bits */
 360:./CMSIS/system_at32f4xx.c ****   BIT_CLEAR(RCC->CTRL, RCC_CTRL_HSEEN | RCC_CTRL_HSECFDEN | \
 361:./CMSIS/system_at32f4xx.c ****             RCC_CTRL_PLLEN);
 362:./CMSIS/system_at32f4xx.c **** 
 363:./CMSIS/system_at32f4xx.c ****   /* Reset HSEBYPS bit */
 364:./CMSIS/system_at32f4xx.c ****   BIT_CLEAR(RCC->CTRL, RCC_CTRL_HSEBYPS);
 365:./CMSIS/system_at32f4xx.c **** 
 366:./CMSIS/system_at32f4xx.c ****   /* Reset PLLRC, PLLHSEPSC, PLLMUL, USBPSC and PLLRANGE bits */
 367:./CMSIS/system_at32f4xx.c ****   BIT_CLEAR(RCC->CFG, RCC_CFG_PLLRC | RCC_CFG_PLLHSEPSC | \
 368:./CMSIS/system_at32f4xx.c ****             RCC_CFG_PLLMULT | RCC_CFG_USBPSC | RCC_CFG_PLLRANGE);
 369:./CMSIS/system_at32f4xx.c **** 
 370:./CMSIS/system_at32f4xx.c ****   /* Reset USB768B, CLKOUT[3], HSICAL_KEY[7:0] */
 371:./CMSIS/system_at32f4xx.c ****   BIT_CLEAR(RCC->MISC, 0x010100FF);
 372:./CMSIS/system_at32f4xx.c **** 
 373:./CMSIS/system_at32f4xx.c ****   /* Disable all interrupts and clear pending bits  */
ARM GAS  /tmp/ccdnfZu7.s 			page 8


 374:./CMSIS/system_at32f4xx.c ****   RCC->CLKINT = RCC_CLKINT_LSISTBLFC | RCC_CLKINT_LSESTBLFC | \
 375:./CMSIS/system_at32f4xx.c ****                 RCC_CLKINT_HSISTBLFC | RCC_CLKINT_HSESTBLFC | \
 376:./CMSIS/system_at32f4xx.c ****                 RCC_CLKINT_PLLSTBLFC | RCC_CLKINT_HSECFDFC;
 377:./CMSIS/system_at32f4xx.c **** 
 378:./CMSIS/system_at32f4xx.c **** #ifdef DATA_IN_ExtSRAM
 379:./CMSIS/system_at32f4xx.c ****   SystemInit_ExtMemCtrl();
 380:./CMSIS/system_at32f4xx.c **** #endif /* DATA_IN_ExtSRAM */
 381:./CMSIS/system_at32f4xx.c **** 
 382:./CMSIS/system_at32f4xx.c ****   /* Configure the System clock frequency, HCLK, PCLK2 and PCLK1 prescalers */
 383:./CMSIS/system_at32f4xx.c ****   /* Configure the Flash Latency cycles and enable prefetch buffer */
 384:./CMSIS/system_at32f4xx.c ****   SetSysClock();
 385:./CMSIS/system_at32f4xx.c **** 
 386:./CMSIS/system_at32f4xx.c **** #ifdef VECT_TAB_SRAM
 387:./CMSIS/system_at32f4xx.c ****   SCB->VTOR = SRAM_BASE | VECT_TAB_OFFSET; /* Vector Table Relocation in Internal SRAM. */
 388:./CMSIS/system_at32f4xx.c **** #else
 389:./CMSIS/system_at32f4xx.c ****   SCB->VTOR = FLASH_BASE | VECT_TAB_OFFSET; /* Vector Table Relocation in Internal FLASH. */
 390:./CMSIS/system_at32f4xx.c **** #endif
 391:./CMSIS/system_at32f4xx.c **** }
 392:./CMSIS/system_at32f4xx.c **** 
 393:./CMSIS/system_at32f4xx.c **** /**
 394:./CMSIS/system_at32f4xx.c ****   * @brief  Update SystemCoreClock variable according to Clock Register Values.
 395:./CMSIS/system_at32f4xx.c ****   *         The SystemCoreClock variable contains the core clock (HCLK), it can
 396:./CMSIS/system_at32f4xx.c ****   *         be used by the user application to setup the SysTick timer or configure
 397:./CMSIS/system_at32f4xx.c ****   *         other parameters.
 398:./CMSIS/system_at32f4xx.c ****   *
 399:./CMSIS/system_at32f4xx.c ****   * @note   Each time the core clock (HCLK) changes, this function must be called
 400:./CMSIS/system_at32f4xx.c ****   *         to update SystemCoreClock variable value. Otherwise, any configuration
 401:./CMSIS/system_at32f4xx.c ****   *         based on this variable will be incorrect.
 402:./CMSIS/system_at32f4xx.c ****   *
 403:./CMSIS/system_at32f4xx.c ****   * @note   - The system frequency computed by this function is not the real
 404:./CMSIS/system_at32f4xx.c ****   *           frequency in the chip. It is calculated based on the predefined
 405:./CMSIS/system_at32f4xx.c ****   *           constant and the selected clock source:
 406:./CMSIS/system_at32f4xx.c ****   *
 407:./CMSIS/system_at32f4xx.c ****   *           - If SYSCLK source is HSI, SystemCoreClock will contain the HSI_VALUE(*)
 408:./CMSIS/system_at32f4xx.c ****   *
 409:./CMSIS/system_at32f4xx.c ****   *           - If SYSCLK source is HSE, SystemCoreClock will contain the HSE_VALUE(**)
 410:./CMSIS/system_at32f4xx.c ****   *
 411:./CMSIS/system_at32f4xx.c ****   *           - If SYSCLK source is PLL, SystemCoreClock will contain the HSE_VALUE(**)
 412:./CMSIS/system_at32f4xx.c ****   *             or HSI_VALUE(*) multiplied by the PLL factors.
 413:./CMSIS/system_at32f4xx.c ****   *
 414:./CMSIS/system_at32f4xx.c ****   *         (*) HSI_VALUE is a constant defined in at32f4xx.h file (default value
 415:./CMSIS/system_at32f4xx.c ****   *             8 MHz) but the real value may vary depending on the variations
 416:./CMSIS/system_at32f4xx.c ****   *             in voltage and temperature.
 417:./CMSIS/system_at32f4xx.c ****   *
 418:./CMSIS/system_at32f4xx.c ****   *         (**) HSE_VALUE is a constant defined in at32f4xx.h file (default value
 419:./CMSIS/system_at32f4xx.c ****   *              8 MHz or 25 MHz, depedning on the product used), user has to ensure
 420:./CMSIS/system_at32f4xx.c ****   *              that HSE_VALUE is same as the real frequency of the crystal used.
 421:./CMSIS/system_at32f4xx.c ****   *              Otherwise, this function may have wrong result.
 422:./CMSIS/system_at32f4xx.c ****   *
 423:./CMSIS/system_at32f4xx.c ****   *         - The result of this function could be not correct when using fractional
 424:./CMSIS/system_at32f4xx.c ****   *           value for HSE crystal.
 425:./CMSIS/system_at32f4xx.c ****   * @param  None
 426:./CMSIS/system_at32f4xx.c ****   * @retval None
 427:./CMSIS/system_at32f4xx.c ****   */
 428:./CMSIS/system_at32f4xx.c **** void SystemCoreClockUpdate (void)
 429:./CMSIS/system_at32f4xx.c **** {
 430:./CMSIS/system_at32f4xx.c ****   uint32_t tmp = 0, pllmult = 0, pllrefclk = 0, tempcfg = 0;
ARM GAS  /tmp/ccdnfZu7.s 			page 9


 431:./CMSIS/system_at32f4xx.c **** 
 432:./CMSIS/system_at32f4xx.c **** #if defined (AT32F415xx) || defined (AT32F421xx)
 433:./CMSIS/system_at32f4xx.c ****   uint32_t pllcfgen = 0, pllns = 0, pllms = 0, pllfr = 0;
 434:./CMSIS/system_at32f4xx.c ****   uint32_t pllsrcfreq = 0, retfr = 0; 
 435:./CMSIS/system_at32f4xx.c **** #endif
 436:./CMSIS/system_at32f4xx.c **** #if defined (AT32F403Axx)|| defined (AT32F407xx)
 437:./CMSIS/system_at32f4xx.c ****   uint32_t prediv = 0;
 438:./CMSIS/system_at32f4xx.c **** #endif
 439:./CMSIS/system_at32f4xx.c ****   /* Get SYSCLK source -------------------------------------------------------*/
 440:./CMSIS/system_at32f4xx.c ****   tmp = RCC->CFG & RCC_CFG_SYSCLKSTS;
 441:./CMSIS/system_at32f4xx.c **** 
 442:./CMSIS/system_at32f4xx.c ****   switch (tmp)
 443:./CMSIS/system_at32f4xx.c ****   {
 444:./CMSIS/system_at32f4xx.c ****   case RCC_CFG_SYSCLKSTS_HSI:  /* HSI used as system clock */
 445:./CMSIS/system_at32f4xx.c **** #if !defined (AT32F403xx)
 446:./CMSIS/system_at32f4xx.c ****     if(BIT_READ(RCC->MISC, RCC_HSI_DIV_EN) && BIT_READ(RCC->MISC2, RCC_HSI_SYS_CTRL))
 447:./CMSIS/system_at32f4xx.c ****       SystemCoreClock = HSI_VALUE * 6;
 448:./CMSIS/system_at32f4xx.c ****     else
 449:./CMSIS/system_at32f4xx.c ****       SystemCoreClock = HSI_VALUE;
 450:./CMSIS/system_at32f4xx.c **** #else
 451:./CMSIS/system_at32f4xx.c ****     SystemCoreClock = HSI_VALUE;
 452:./CMSIS/system_at32f4xx.c **** #endif
 453:./CMSIS/system_at32f4xx.c ****     break;
 454:./CMSIS/system_at32f4xx.c **** 
 455:./CMSIS/system_at32f4xx.c ****   case RCC_CFG_SYSCLKSTS_HSE:  /* HSE used as system clock */
 456:./CMSIS/system_at32f4xx.c ****     SystemCoreClock = HSE_VALUE;
 457:./CMSIS/system_at32f4xx.c ****     break;
 458:./CMSIS/system_at32f4xx.c **** 
 459:./CMSIS/system_at32f4xx.c ****   case RCC_CFG_SYSCLKSTS_PLL:  /* PLL used as system clock */
 460:./CMSIS/system_at32f4xx.c ****     /* Get PLL clock source and multiplication factor ----------------------*/
 461:./CMSIS/system_at32f4xx.c ****     pllrefclk = RCC->CFG & RCC_CFG_PLLRC;
 462:./CMSIS/system_at32f4xx.c ****     tempcfg = RCC->CFG;
 463:./CMSIS/system_at32f4xx.c ****     pllmult = RCC_GET_PLLMULT(tempcfg);
 464:./CMSIS/system_at32f4xx.c **** 
 465:./CMSIS/system_at32f4xx.c **** #if defined (AT32F415xx) || defined (AT32F421xx)
 466:./CMSIS/system_at32f4xx.c ****     /* Get_ClocksFreq for PLLconfig2 */
 467:./CMSIS/system_at32f4xx.c ****     pllcfgen = BIT_READ(RCC->PLL, PLL_CFGEN_MASK);
 468:./CMSIS/system_at32f4xx.c **** 
 469:./CMSIS/system_at32f4xx.c ****     if(pllcfgen == PLL_CFGEN_ENABLE)
 470:./CMSIS/system_at32f4xx.c ****     {
 471:./CMSIS/system_at32f4xx.c ****       pllns = BIT_READ(RCC->PLL, PLL_NS_MASK);
 472:./CMSIS/system_at32f4xx.c ****       pllms = BIT_READ(RCC->PLL, PLL_MS_MASK);
 473:./CMSIS/system_at32f4xx.c ****       pllfr = BIT_READ(RCC->PLL, PLL_FR_MASK);
 474:./CMSIS/system_at32f4xx.c **** 
 475:./CMSIS/system_at32f4xx.c ****       RCC_FR_VALUE(pllfr, retfr);
 476:./CMSIS/system_at32f4xx.c **** 
 477:./CMSIS/system_at32f4xx.c ****       if (pllrefclk == 0x00)
 478:./CMSIS/system_at32f4xx.c ****       {
 479:./CMSIS/system_at32f4xx.c ****         /* HSI oscillator clock divided by 2 selected as PLL clock entry */
 480:./CMSIS/system_at32f4xx.c ****         pllsrcfreq = (HSI_VALUE >> 1);
 481:./CMSIS/system_at32f4xx.c ****       }
 482:./CMSIS/system_at32f4xx.c ****       else
 483:./CMSIS/system_at32f4xx.c ****       {
 484:./CMSIS/system_at32f4xx.c ****         /* HSE selected as PLL clock entry */
 485:./CMSIS/system_at32f4xx.c ****         if ((RCC->CFG & RCC_CFG_PLLHSEPSC) != (uint32_t)RESET)
 486:./CMSIS/system_at32f4xx.c ****         {
 487:./CMSIS/system_at32f4xx.c ****           pllsrcfreq = (HSE_VALUE >> 1);
ARM GAS  /tmp/ccdnfZu7.s 			page 10


 488:./CMSIS/system_at32f4xx.c ****         }
 489:./CMSIS/system_at32f4xx.c ****         else
 490:./CMSIS/system_at32f4xx.c ****         {
 491:./CMSIS/system_at32f4xx.c ****           pllsrcfreq = HSE_VALUE;
 492:./CMSIS/system_at32f4xx.c ****         }
 493:./CMSIS/system_at32f4xx.c ****       }
 494:./CMSIS/system_at32f4xx.c **** 
 495:./CMSIS/system_at32f4xx.c ****       SystemCoreClock = (pllsrcfreq * (pllns >> PLL_NS_POS)) / \
 496:./CMSIS/system_at32f4xx.c ****       ((pllms >> PLL_MS_POS) * retfr);
 497:./CMSIS/system_at32f4xx.c ****     }else
 498:./CMSIS/system_at32f4xx.c **** #endif
 499:./CMSIS/system_at32f4xx.c ****     {
 500:./CMSIS/system_at32f4xx.c ****       /* Get PLL clock source and multiplication factor ----------------------*/
 501:./CMSIS/system_at32f4xx.c ****       pllmult = BIT_READ(RCC->CFG, RCC_CFG_PLLMULT);
 502:./CMSIS/system_at32f4xx.c ****       pllmult = RCC_GET_PLLMULT(pllmult);
 503:./CMSIS/system_at32f4xx.c ****   
 504:./CMSIS/system_at32f4xx.c ****       if (pllrefclk == 0x00)
 505:./CMSIS/system_at32f4xx.c ****       {
 506:./CMSIS/system_at32f4xx.c ****         /* HSI oscillator clock divided by 2 selected as PLL clock entry */
 507:./CMSIS/system_at32f4xx.c ****         SystemCoreClock = (HSI_VALUE >> 1) * pllmult;
 508:./CMSIS/system_at32f4xx.c ****       }
 509:./CMSIS/system_at32f4xx.c ****       else
 510:./CMSIS/system_at32f4xx.c ****       {
 511:./CMSIS/system_at32f4xx.c ****         /* HSE selected as PLL clock entry */
 512:./CMSIS/system_at32f4xx.c ****         if ((RCC->CFG & RCC_CFG_PLLHSEPSC) != (uint32_t)RESET)
 513:./CMSIS/system_at32f4xx.c ****         {
 514:./CMSIS/system_at32f4xx.c **** #if defined (AT32F403Axx)|| defined (AT32F407xx)
 515:./CMSIS/system_at32f4xx.c ****           prediv = (RCC->MISC2 & RCC_HSE_DIV_MASK);
 516:./CMSIS/system_at32f4xx.c ****           prediv = prediv >> RCC_HSE_DIV_POS;
 517:./CMSIS/system_at32f4xx.c ****           /* HSE oscillator clock divided by prediv */
 518:./CMSIS/system_at32f4xx.c ****           SystemCoreClock = (HSE_VALUE / (prediv + 2)) * pllmult;
 519:./CMSIS/system_at32f4xx.c **** #else
 520:./CMSIS/system_at32f4xx.c ****           /* HSE oscillator clock divided by 2 */
 521:./CMSIS/system_at32f4xx.c ****           SystemCoreClock = (HSE_VALUE >> 1) * pllmult;
 522:./CMSIS/system_at32f4xx.c **** #endif
 523:./CMSIS/system_at32f4xx.c ****         }
 524:./CMSIS/system_at32f4xx.c ****         else
 525:./CMSIS/system_at32f4xx.c ****         {
 526:./CMSIS/system_at32f4xx.c ****           SystemCoreClock = HSE_VALUE * pllmult;
 527:./CMSIS/system_at32f4xx.c ****         }
 528:./CMSIS/system_at32f4xx.c ****       }
 529:./CMSIS/system_at32f4xx.c ****     }
 530:./CMSIS/system_at32f4xx.c **** 
 531:./CMSIS/system_at32f4xx.c ****     break;
 532:./CMSIS/system_at32f4xx.c **** 
 533:./CMSIS/system_at32f4xx.c ****   default:
 534:./CMSIS/system_at32f4xx.c ****     SystemCoreClock = HSI_VALUE;
 535:./CMSIS/system_at32f4xx.c ****     break;
 536:./CMSIS/system_at32f4xx.c ****   }
 537:./CMSIS/system_at32f4xx.c **** 
 538:./CMSIS/system_at32f4xx.c ****   /* Compute HCLK clock frequency ----------------*/
 539:./CMSIS/system_at32f4xx.c ****   /* Get HCLK prescaler */
 540:./CMSIS/system_at32f4xx.c ****   tmp = AHBPscTable[((RCC->CFG & RCC_CFG_AHBPSC) >> 4)];
 541:./CMSIS/system_at32f4xx.c ****   /* HCLK clock frequency */
 542:./CMSIS/system_at32f4xx.c ****   SystemCoreClock >>= tmp;
 543:./CMSIS/system_at32f4xx.c **** }
 544:./CMSIS/system_at32f4xx.c **** 
ARM GAS  /tmp/ccdnfZu7.s 			page 11


 545:./CMSIS/system_at32f4xx.c **** /**
 546:./CMSIS/system_at32f4xx.c ****   * @brief  Configures the System clock frequency, HCLK, PCLK2 and PCLK1 prescalers.
 547:./CMSIS/system_at32f4xx.c ****   * @param  None
 548:./CMSIS/system_at32f4xx.c ****   * @retval None
 549:./CMSIS/system_at32f4xx.c ****   */
 550:./CMSIS/system_at32f4xx.c **** static void SetSysClock(void)
 551:./CMSIS/system_at32f4xx.c **** {
 552:./CMSIS/system_at32f4xx.c **** #ifdef SYSCLK_FREQ_HSE
 553:./CMSIS/system_at32f4xx.c ****   SetSysClockToHSE();
 554:./CMSIS/system_at32f4xx.c **** #elif defined SYSCLK_FREQ_24MHz
 555:./CMSIS/system_at32f4xx.c ****   SetSysClockTo24M();
 556:./CMSIS/system_at32f4xx.c **** #elif defined SYSCLK_FREQ_36MHz
 557:./CMSIS/system_at32f4xx.c ****   SetSysClockTo36M();
 558:./CMSIS/system_at32f4xx.c **** #elif defined SYSCLK_FREQ_48MHz
 559:./CMSIS/system_at32f4xx.c ****   SetSysClockTo48M();
 560:./CMSIS/system_at32f4xx.c **** #elif defined SYSCLK_FREQ_56MHz
 561:./CMSIS/system_at32f4xx.c ****   SetSysClockTo56M();
 562:./CMSIS/system_at32f4xx.c **** #elif defined SYSCLK_FREQ_72MHz
 563:./CMSIS/system_at32f4xx.c ****   SetSysClockTo72M();
 564:./CMSIS/system_at32f4xx.c **** #elif defined SYSCLK_FREQ_96MHz
 565:./CMSIS/system_at32f4xx.c ****   SetSysClockTo96M();
 566:./CMSIS/system_at32f4xx.c **** #elif defined SYSCLK_FREQ_108MHz
 567:./CMSIS/system_at32f4xx.c ****   SetSysClockTo108M();
 568:./CMSIS/system_at32f4xx.c **** #elif defined SYSCLK_FREQ_120MHz
 569:./CMSIS/system_at32f4xx.c ****   SetSysClockTo120M();
 570:./CMSIS/system_at32f4xx.c **** #elif defined SYSCLK_FREQ_144MHz
 571:./CMSIS/system_at32f4xx.c ****   SetSysClockTo144M();
 572:./CMSIS/system_at32f4xx.c **** #elif defined SYSCLK_FREQ_150MHz
 573:./CMSIS/system_at32f4xx.c ****   SetSysClockTo150M();
 574:./CMSIS/system_at32f4xx.c **** #elif defined SYSCLK_FREQ_168MHz
 575:./CMSIS/system_at32f4xx.c ****   SetSysClockTo168M();
 576:./CMSIS/system_at32f4xx.c **** #elif defined SYSCLK_FREQ_176MHz
 577:./CMSIS/system_at32f4xx.c ****   SetSysClockTo176M();
 578:./CMSIS/system_at32f4xx.c **** #elif defined SYSCLK_FREQ_192MHz
 579:./CMSIS/system_at32f4xx.c ****   SetSysClockTo192M();
 580:./CMSIS/system_at32f4xx.c **** #elif defined SYSCLK_FREQ_200MHz
 581:./CMSIS/system_at32f4xx.c ****   SetSysClockTo200M();
 582:./CMSIS/system_at32f4xx.c **** #elif defined SYSCLK_FREQ_224MHz
 583:./CMSIS/system_at32f4xx.c ****   SetSysClockTo224M();
 584:./CMSIS/system_at32f4xx.c **** #elif defined SYSCLK_FREQ_240MHz
 585:./CMSIS/system_at32f4xx.c ****   SetSysClockTo240M();
 586:./CMSIS/system_at32f4xx.c **** #elif defined SYSCLK_FREQ_24MHz_HSI
 587:./CMSIS/system_at32f4xx.c ****   SetSysClockTo24MHSI();
 588:./CMSIS/system_at32f4xx.c **** #elif defined SYSCLK_FREQ_36MHz_HSI
 589:./CMSIS/system_at32f4xx.c ****   SetSysClockTo36MHSI();
 590:./CMSIS/system_at32f4xx.c **** #elif defined SYSCLK_FREQ_48MHz_HSI
 591:./CMSIS/system_at32f4xx.c ****   SetSysClockTo48MHSI();
 592:./CMSIS/system_at32f4xx.c **** #elif defined SYSCLK_FREQ_56MHz_HSI
 593:./CMSIS/system_at32f4xx.c ****   SetSysClockTo56MHSI();
 594:./CMSIS/system_at32f4xx.c **** #elif defined SYSCLK_FREQ_72MHz_HSI
 595:./CMSIS/system_at32f4xx.c ****   SetSysClockTo72MHSI();
 596:./CMSIS/system_at32f4xx.c **** #elif defined SYSCLK_FREQ_96MHz_HSI
 597:./CMSIS/system_at32f4xx.c ****   SetSysClockTo96MHSI();
 598:./CMSIS/system_at32f4xx.c **** #elif defined SYSCLK_FREQ_108MHz_HSI
 599:./CMSIS/system_at32f4xx.c ****   SetSysClockTo108MHSI();
 600:./CMSIS/system_at32f4xx.c **** #elif defined SYSCLK_FREQ_120MHz_HSI
 601:./CMSIS/system_at32f4xx.c ****   SetSysClockTo120MHSI();
ARM GAS  /tmp/ccdnfZu7.s 			page 12


 602:./CMSIS/system_at32f4xx.c **** #elif defined SYSCLK_FREQ_144MHz_HSI
 603:./CMSIS/system_at32f4xx.c ****   SetSysClockTo144MHSI();
 604:./CMSIS/system_at32f4xx.c **** #elif defined SYSCLK_FREQ_150MHz_HSI
 605:./CMSIS/system_at32f4xx.c ****   SetSysClockTo150MHSI();
 606:./CMSIS/system_at32f4xx.c **** #elif defined SYSCLK_FREQ_168MHz_HSI
 607:./CMSIS/system_at32f4xx.c ****   SetSysClockTo168MHSI();
 608:./CMSIS/system_at32f4xx.c **** #elif defined SYSCLK_FREQ_176MHz_HSI
 609:./CMSIS/system_at32f4xx.c ****   SetSysClockTo176MHSI();
 610:./CMSIS/system_at32f4xx.c **** #elif defined SYSCLK_FREQ_192MHz_HSI
 611:./CMSIS/system_at32f4xx.c ****   SetSysClockTo192MHSI();
 612:./CMSIS/system_at32f4xx.c **** #elif defined SYSCLK_FREQ_200MHz_HSI
 613:./CMSIS/system_at32f4xx.c ****   SetSysClockTo200MHSI();
 614:./CMSIS/system_at32f4xx.c **** #elif defined SYSCLK_FREQ_224MHz_HSI
 615:./CMSIS/system_at32f4xx.c ****   SetSysClockTo224MHSI();
 616:./CMSIS/system_at32f4xx.c **** #elif defined SYSCLK_FREQ_240MHz_HSI
 617:./CMSIS/system_at32f4xx.c ****   SetSysClockTo240MHSI();
 618:./CMSIS/system_at32f4xx.c **** #endif
 619:./CMSIS/system_at32f4xx.c **** 
 620:./CMSIS/system_at32f4xx.c ****   /* If none of the define above is enabled, the HSI is used as System clock
 621:./CMSIS/system_at32f4xx.c ****      source (default after reset) */
 622:./CMSIS/system_at32f4xx.c **** }
 623:./CMSIS/system_at32f4xx.c **** 
 624:./CMSIS/system_at32f4xx.c **** /**
 625:./CMSIS/system_at32f4xx.c ****   * @brief  Setup the external memory controller. Called in startup_at32f4xx.s
 626:./CMSIS/system_at32f4xx.c ****   *          before jump to __main
 627:./CMSIS/system_at32f4xx.c ****   * @param  None
 628:./CMSIS/system_at32f4xx.c ****   * @retval None
 629:./CMSIS/system_at32f4xx.c ****   */
 630:./CMSIS/system_at32f4xx.c **** #ifdef DATA_IN_ExtSRAM
 631:./CMSIS/system_at32f4xx.c **** /**
 632:./CMSIS/system_at32f4xx.c ****   * @brief  Setup the external memory controller.
 633:./CMSIS/system_at32f4xx.c ****   *         Called in startup_at32f4xx_xx.s/.c before jump to main.
 634:./CMSIS/system_at32f4xx.c ****   * 	      This function configures the external SRAM mounted
 635:./CMSIS/system_at32f4xx.c ****   *         (AT32 High density devices). This SRAM will be used as program
 636:./CMSIS/system_at32f4xx.c ****   *         data memory (including heap and stack).
 637:./CMSIS/system_at32f4xx.c ****   * @param  None
 638:./CMSIS/system_at32f4xx.c ****   * @retval None
 639:./CMSIS/system_at32f4xx.c ****   */
 640:./CMSIS/system_at32f4xx.c **** void SystemInit_ExtMemCtrl(void)
 641:./CMSIS/system_at32f4xx.c **** {
 642:./CMSIS/system_at32f4xx.c ****   /* Enable XMC clock */
 643:./CMSIS/system_at32f4xx.c ****   RCC->AHBEN = RCC_AHBEN_SRAMEN | RCC_AHBEN_FLASHEN | RCC_AHBEN_XMCEN;
 644:./CMSIS/system_at32f4xx.c **** 
 645:./CMSIS/system_at32f4xx.c ****   /* Enable GPIOD, GPIOE, GPIOF and GPIOG clocks */
 646:./CMSIS/system_at32f4xx.c ****   RCC->APB2EN = RCC_APB2EN_GPIODEN | RCC_APB2EN_GPIOEEN | RCC_APB2EN_GPIOFEN | RCC_APB2EN_GPIOGEN;
 647:./CMSIS/system_at32f4xx.c **** 
 648:./CMSIS/system_at32f4xx.c ****   /* ---------------  SRAM Data lines, NOE and NWE configuration ---------------*/
 649:./CMSIS/system_at32f4xx.c ****   /*----------------  SRAM Address lines configuration -------------------------*/
 650:./CMSIS/system_at32f4xx.c ****   /*----------------  NOE and NWE configuration --------------------------------*/
 651:./CMSIS/system_at32f4xx.c ****   /*----------------  NE3 configuration ----------------------------------------*/
 652:./CMSIS/system_at32f4xx.c ****   /*----------------  NBL0, NBL1 configuration ---------------------------------*/
 653:./CMSIS/system_at32f4xx.c **** 
 654:./CMSIS/system_at32f4xx.c ****   GPIOD->CTRLL = 0x44BB44BB;
 655:./CMSIS/system_at32f4xx.c ****   GPIOD->CTRLH = 0xBBBBBBBB;
 656:./CMSIS/system_at32f4xx.c **** 
 657:./CMSIS/system_at32f4xx.c ****   GPIOE->CTRLL = 0xB44444BB;
 658:./CMSIS/system_at32f4xx.c ****   GPIOE->CTRLH = 0xBBBBBBBB;
ARM GAS  /tmp/ccdnfZu7.s 			page 13


 659:./CMSIS/system_at32f4xx.c **** 
 660:./CMSIS/system_at32f4xx.c ****   GPIOF->CTRLL = 0x44BBBBBB;
 661:./CMSIS/system_at32f4xx.c ****   GPIOF->CTRLH = 0xBBBB4444;
 662:./CMSIS/system_at32f4xx.c **** 
 663:./CMSIS/system_at32f4xx.c ****   GPIOG->CTRLL = 0x44BBBBBB;
 664:./CMSIS/system_at32f4xx.c ****   GPIOG->CTRLH = 0x44444B44;
 665:./CMSIS/system_at32f4xx.c **** 
 666:./CMSIS/system_at32f4xx.c ****   /*----------------  XMC Configuration ---------------------------------------*/
 667:./CMSIS/system_at32f4xx.c ****   /*----------------  Enable XMC Bank1_SRAM Bank ------------------------------*/
 668:./CMSIS/system_at32f4xx.c **** 
 669:./CMSIS/system_at32f4xx.c ****   XMC_Bank1->BK1CTRLR[4] = 0x00001011;
 670:./CMSIS/system_at32f4xx.c ****   XMC_Bank1->BK1CTRLR[5] = 0x00000200;
 671:./CMSIS/system_at32f4xx.c **** }
 672:./CMSIS/system_at32f4xx.c **** #endif /* DATA_IN_ExtSRAM */
 673:./CMSIS/system_at32f4xx.c **** 
 674:./CMSIS/system_at32f4xx.c **** #ifndef SYSCLK_FREQ_HSI
 675:./CMSIS/system_at32f4xx.c **** #ifdef AT32F403xx
 676:./CMSIS/system_at32f4xx.c **** /**
 677:./CMSIS/system_at32f4xx.c ****   * @brief  Delay to wait for HSE stable.
 678:./CMSIS/system_at32f4xx.c ****   * @note   This function should be used before reading the HSESTBL flag.
 679:./CMSIS/system_at32f4xx.c ****   * @param  None
 680:./CMSIS/system_at32f4xx.c ****   * @retval None
 681:./CMSIS/system_at32f4xx.c ****   */
 682:./CMSIS/system_at32f4xx.c **** static void WaitHseStbl(uint32_t delay)
 683:./CMSIS/system_at32f4xx.c **** {
 684:./CMSIS/system_at32f4xx.c ****   uint32_t i;
 685:./CMSIS/system_at32f4xx.c **** 
 686:./CMSIS/system_at32f4xx.c ****   for(i = 0; i < delay; i++)
 687:./CMSIS/system_at32f4xx.c ****     ;
 688:./CMSIS/system_at32f4xx.c **** }
 689:./CMSIS/system_at32f4xx.c **** #endif
 690:./CMSIS/system_at32f4xx.c **** #endif /* SYSCLK_FREQ_HSI */
 691:./CMSIS/system_at32f4xx.c **** 
 692:./CMSIS/system_at32f4xx.c **** #ifdef SYSCLK_FREQ_HSE
 693:./CMSIS/system_at32f4xx.c **** /**
 694:./CMSIS/system_at32f4xx.c ****   * @brief  Selects HSE as System clock source and configure HCLK, PCLK2
 695:./CMSIS/system_at32f4xx.c ****   *         and PCLK1 prescalers.
 696:./CMSIS/system_at32f4xx.c ****   * @note   This function should be used only after reset.
 697:./CMSIS/system_at32f4xx.c ****   * @param  None
 698:./CMSIS/system_at32f4xx.c ****   * @retval None
 699:./CMSIS/system_at32f4xx.c ****   */
 700:./CMSIS/system_at32f4xx.c **** static void SetSysClockToHSE(void)
 701:./CMSIS/system_at32f4xx.c **** {
 702:./CMSIS/system_at32f4xx.c ****   __IO uint32_t StartUpCounter = 0, HSEStatus = 0;
 703:./CMSIS/system_at32f4xx.c **** 
 704:./CMSIS/system_at32f4xx.c ****   /* SYSCLK, HCLK, PCLK2 and PCLK1 configuration ---------------------------*/
 705:./CMSIS/system_at32f4xx.c ****   /* Enable HSE */
 706:./CMSIS/system_at32f4xx.c ****   RCC->CTRL |= ((uint32_t)RCC_CTRL_HSEEN);
 707:./CMSIS/system_at32f4xx.c **** 
 708:./CMSIS/system_at32f4xx.c ****   /* Wait till HSE is ready and if Time out is reached exit */
 709:./CMSIS/system_at32f4xx.c ****   do
 710:./CMSIS/system_at32f4xx.c ****   {
 711:./CMSIS/system_at32f4xx.c ****     HSEStatus = RCC->CTRL & RCC_CTRL_HSESTBL;
 712:./CMSIS/system_at32f4xx.c ****     StartUpCounter++;
 713:./CMSIS/system_at32f4xx.c ****   }
 714:./CMSIS/system_at32f4xx.c ****   while((HSEStatus == 0) && (StartUpCounter != HSE_STARTUP_TIMEOUT));
 715:./CMSIS/system_at32f4xx.c **** #ifdef AT32F403xx 
ARM GAS  /tmp/ccdnfZu7.s 			page 14


 716:./CMSIS/system_at32f4xx.c ****   WaitHseStbl(HSE_STABLE_DELAY);
 717:./CMSIS/system_at32f4xx.c **** #endif
 718:./CMSIS/system_at32f4xx.c ****   if ((RCC->CTRL & RCC_CTRL_HSESTBL) != RESET)
 719:./CMSIS/system_at32f4xx.c ****   {
 720:./CMSIS/system_at32f4xx.c ****     HSEStatus = (uint32_t)0x01;
 721:./CMSIS/system_at32f4xx.c ****   }
 722:./CMSIS/system_at32f4xx.c ****   else
 723:./CMSIS/system_at32f4xx.c ****   {
 724:./CMSIS/system_at32f4xx.c ****     HSEStatus = (uint32_t)0x00;
 725:./CMSIS/system_at32f4xx.c ****   }
 726:./CMSIS/system_at32f4xx.c **** 
 727:./CMSIS/system_at32f4xx.c ****   if (HSEStatus == (uint32_t)0x01)
 728:./CMSIS/system_at32f4xx.c ****   {
 729:./CMSIS/system_at32f4xx.c **** #if defined (AT32F415xx) || defined (AT32F421xx)
 730:./CMSIS/system_at32f4xx.c ****     FLASH->ACR = FLASH_ACR_DEFAULT(FLASH_ACR_LATENCY_0);
 731:./CMSIS/system_at32f4xx.c **** #endif
 732:./CMSIS/system_at32f4xx.c ****     /* HCLK = SYSCLK */
 733:./CMSIS/system_at32f4xx.c ****     RCC->CFG |= (uint32_t)RCC_CFG_AHBPSC_DIV1;
 734:./CMSIS/system_at32f4xx.c **** 
 735:./CMSIS/system_at32f4xx.c ****     /* PCLK2 = HCLK */
 736:./CMSIS/system_at32f4xx.c ****     RCC->CFG &= 0xFFFFC7FF;
 737:./CMSIS/system_at32f4xx.c ****     RCC->CFG |= (uint32_t)RCC_CFG_APB2PSC_DIV1;
 738:./CMSIS/system_at32f4xx.c **** 
 739:./CMSIS/system_at32f4xx.c ****     /* PCLK1 = HCLK */
 740:./CMSIS/system_at32f4xx.c ****     RCC->CFG &= 0xFFFFF8FF;
 741:./CMSIS/system_at32f4xx.c ****     RCC->CFG |= (uint32_t)RCC_CFG_APB1PSC_DIV1;
 742:./CMSIS/system_at32f4xx.c **** 
 743:./CMSIS/system_at32f4xx.c ****     /* Select HSE as system clock source */
 744:./CMSIS/system_at32f4xx.c ****     RCC->CFG &= (uint32_t)((uint32_t)~(RCC_CFG_SYSCLKSEL));
 745:./CMSIS/system_at32f4xx.c ****     RCC->CFG |= (uint32_t)RCC_CFG_SYSCLKSEL_HSE;
 746:./CMSIS/system_at32f4xx.c **** 
 747:./CMSIS/system_at32f4xx.c ****     /* Wait till HSE is used as system clock source */
 748:./CMSIS/system_at32f4xx.c ****     while ((RCC->CFG & (uint32_t)RCC_CFG_SYSCLKSTS) != (uint32_t)0x04)
 749:./CMSIS/system_at32f4xx.c ****     {
 750:./CMSIS/system_at32f4xx.c ****     }
 751:./CMSIS/system_at32f4xx.c ****   }
 752:./CMSIS/system_at32f4xx.c ****   else
 753:./CMSIS/system_at32f4xx.c ****   {
 754:./CMSIS/system_at32f4xx.c ****     /* If HSE fails to start-up, the application will have wrong clock
 755:./CMSIS/system_at32f4xx.c ****          configuration. User can add here some code to deal with this error */
 756:./CMSIS/system_at32f4xx.c ****   }
 757:./CMSIS/system_at32f4xx.c **** }
 758:./CMSIS/system_at32f4xx.c **** #elif defined SYSCLK_FREQ_24MHz
 759:./CMSIS/system_at32f4xx.c **** /**
 760:./CMSIS/system_at32f4xx.c ****   * @brief  Sets System clock frequency to 24MHz and configure HCLK, PCLK2
 761:./CMSIS/system_at32f4xx.c ****   *         and PCLK1 prescalers.
 762:./CMSIS/system_at32f4xx.c ****   * @note   This function should be used only after reset.
 763:./CMSIS/system_at32f4xx.c ****   * @param  None
 764:./CMSIS/system_at32f4xx.c ****   * @retval None
 765:./CMSIS/system_at32f4xx.c ****   */
 766:./CMSIS/system_at32f4xx.c **** static void SetSysClockTo24M(void)
 767:./CMSIS/system_at32f4xx.c **** {
 768:./CMSIS/system_at32f4xx.c ****   __IO uint32_t StartUpCounter = 0, HSEStatus = 0;
 769:./CMSIS/system_at32f4xx.c **** 
 770:./CMSIS/system_at32f4xx.c ****   /* SYSCLK, HCLK, PCLK2 and PCLK1 configuration ---------------------------*/
 771:./CMSIS/system_at32f4xx.c ****   /* Enable HSE */
 772:./CMSIS/system_at32f4xx.c ****   RCC->CTRL |= ((uint32_t)RCC_CTRL_HSEEN);
ARM GAS  /tmp/ccdnfZu7.s 			page 15


 773:./CMSIS/system_at32f4xx.c **** 
 774:./CMSIS/system_at32f4xx.c ****   /* Wait till HSE is ready and if Time out is reached exit */
 775:./CMSIS/system_at32f4xx.c ****   do
 776:./CMSIS/system_at32f4xx.c ****   {
 777:./CMSIS/system_at32f4xx.c ****     HSEStatus = RCC->CTRL & RCC_CTRL_HSESTBL;
 778:./CMSIS/system_at32f4xx.c ****     StartUpCounter++;
 779:./CMSIS/system_at32f4xx.c ****   }
 780:./CMSIS/system_at32f4xx.c ****   while((HSEStatus == 0) && (StartUpCounter != HSE_STARTUP_TIMEOUT));
 781:./CMSIS/system_at32f4xx.c **** #ifdef AT32F403xx 
 782:./CMSIS/system_at32f4xx.c ****   WaitHseStbl(HSE_STABLE_DELAY);
 783:./CMSIS/system_at32f4xx.c **** #endif
 784:./CMSIS/system_at32f4xx.c ****   if ((RCC->CTRL & RCC_CTRL_HSESTBL) != RESET)
 785:./CMSIS/system_at32f4xx.c ****   {
 786:./CMSIS/system_at32f4xx.c ****     HSEStatus = (uint32_t)0x01;
 787:./CMSIS/system_at32f4xx.c ****   }
 788:./CMSIS/system_at32f4xx.c ****   else
 789:./CMSIS/system_at32f4xx.c ****   {
 790:./CMSIS/system_at32f4xx.c ****     HSEStatus = (uint32_t)0x00;
 791:./CMSIS/system_at32f4xx.c ****   }
 792:./CMSIS/system_at32f4xx.c **** 
 793:./CMSIS/system_at32f4xx.c ****   if (HSEStatus == (uint32_t)0x01)
 794:./CMSIS/system_at32f4xx.c ****   {
 795:./CMSIS/system_at32f4xx.c **** #if defined (AT32F415xx) || defined (AT32F421xx)
 796:./CMSIS/system_at32f4xx.c ****     FLASH->ACR = FLASH_ACR_DEFAULT(FLASH_ACR_LATENCY_0);
 797:./CMSIS/system_at32f4xx.c **** #endif
 798:./CMSIS/system_at32f4xx.c ****     /* HCLK = SYSCLK */
 799:./CMSIS/system_at32f4xx.c ****     RCC->CFG |= (uint32_t)RCC_CFG_AHBPSC_DIV1;
 800:./CMSIS/system_at32f4xx.c **** 
 801:./CMSIS/system_at32f4xx.c ****     /* PCLK2 = HCLK */
 802:./CMSIS/system_at32f4xx.c ****     RCC->CFG &= 0xFFFFC7FF;
 803:./CMSIS/system_at32f4xx.c ****     RCC->CFG |= (uint32_t)RCC_CFG_APB2PSC_DIV1;
 804:./CMSIS/system_at32f4xx.c **** 
 805:./CMSIS/system_at32f4xx.c ****     /* PCLK1 = HCLK */
 806:./CMSIS/system_at32f4xx.c ****     RCC->CFG &= 0xFFFFF8FF;
 807:./CMSIS/system_at32f4xx.c ****     RCC->CFG |= (uint32_t)RCC_CFG_APB1PSC_DIV1;
 808:./CMSIS/system_at32f4xx.c **** 
 809:./CMSIS/system_at32f4xx.c ****     /*  PLL configuration:  = (HSE / 2) * 6 = 24 MHz */
 810:./CMSIS/system_at32f4xx.c ****     RCC->CFG &= RCC_CFG_PLLCFG_MASK;
 811:./CMSIS/system_at32f4xx.c ****     RCC->CFG |= (uint32_t)(RCC_CFG_PLLRC_HSE | RCC_CFG_PLLHSEPSC_HSE_DIV2 | RCC_CFG_PLLMULT6);
 812:./CMSIS/system_at32f4xx.c **** 
 813:./CMSIS/system_at32f4xx.c **** #if defined (AT32F415xx) || defined (AT32F421xx)
 814:./CMSIS/system_at32f4xx.c ****     /* Config PLL clock resource frequency */
 815:./CMSIS/system_at32f4xx.c ****     RCC_PLLFrefTableConfig(HSE_VALUE);
 816:./CMSIS/system_at32f4xx.c **** #endif
 817:./CMSIS/system_at32f4xx.c ****     /* Enable PLL */
 818:./CMSIS/system_at32f4xx.c ****     RCC->CTRL |= RCC_CTRL_PLLEN;
 819:./CMSIS/system_at32f4xx.c **** 
 820:./CMSIS/system_at32f4xx.c ****     /* Wait till PLL is ready */
 821:./CMSIS/system_at32f4xx.c ****     while((RCC->CTRL & RCC_CTRL_PLLSTBL) == 0)
 822:./CMSIS/system_at32f4xx.c ****     {
 823:./CMSIS/system_at32f4xx.c ****     }
 824:./CMSIS/system_at32f4xx.c **** 
 825:./CMSIS/system_at32f4xx.c ****     /* Select PLL as system clock source */
 826:./CMSIS/system_at32f4xx.c ****     RCC->CFG &= (uint32_t)((uint32_t)~(RCC_CFG_SYSCLKSEL));
 827:./CMSIS/system_at32f4xx.c ****     RCC->CFG |= (uint32_t)RCC_CFG_SYSCLKSEL_PLL;
 828:./CMSIS/system_at32f4xx.c **** 
 829:./CMSIS/system_at32f4xx.c ****     /* Wait till PLL is used as system clock source */
ARM GAS  /tmp/ccdnfZu7.s 			page 16


 830:./CMSIS/system_at32f4xx.c ****     while ((RCC->CFG & (uint32_t)RCC_CFG_SYSCLKSTS) != RCC_CFG_SYSCLKSTS_PLL)
 831:./CMSIS/system_at32f4xx.c ****     {
 832:./CMSIS/system_at32f4xx.c ****     }
 833:./CMSIS/system_at32f4xx.c **** #ifdef AT32F403xx
 834:./CMSIS/system_at32f4xx.c ****     WaitHseStbl(PLL_STABLE_DELAY);
 835:./CMSIS/system_at32f4xx.c **** #endif
 836:./CMSIS/system_at32f4xx.c ****   }
 837:./CMSIS/system_at32f4xx.c ****   else
 838:./CMSIS/system_at32f4xx.c ****   {
 839:./CMSIS/system_at32f4xx.c ****     /* If HSE fails to start-up, the application will have wrong clock
 840:./CMSIS/system_at32f4xx.c ****          configuration. User can add here some code to deal with this error */
 841:./CMSIS/system_at32f4xx.c ****   }
 842:./CMSIS/system_at32f4xx.c **** }
 843:./CMSIS/system_at32f4xx.c **** #elif defined SYSCLK_FREQ_36MHz
 844:./CMSIS/system_at32f4xx.c **** /**
 845:./CMSIS/system_at32f4xx.c ****   * @brief  Sets System clock frequency to 36MHz and configure HCLK, PCLK2
 846:./CMSIS/system_at32f4xx.c ****   *         and PCLK1 prescalers.
 847:./CMSIS/system_at32f4xx.c ****   * @note   This function should be used only after reset.
 848:./CMSIS/system_at32f4xx.c ****   * @param  None
 849:./CMSIS/system_at32f4xx.c ****   * @retval None
 850:./CMSIS/system_at32f4xx.c ****   */
 851:./CMSIS/system_at32f4xx.c **** static void SetSysClockTo36M(void)
 852:./CMSIS/system_at32f4xx.c **** {
 853:./CMSIS/system_at32f4xx.c ****   __IO uint32_t StartUpCounter = 0, HSEStatus = 0;
 854:./CMSIS/system_at32f4xx.c **** 
 855:./CMSIS/system_at32f4xx.c ****   /* SYSCLK, HCLK, PCLK2 and PCLK1 configuration ---------------------------*/
 856:./CMSIS/system_at32f4xx.c ****   /* Enable HSE */
 857:./CMSIS/system_at32f4xx.c ****   RCC->CTRL |= ((uint32_t)RCC_CTRL_HSEEN);
 858:./CMSIS/system_at32f4xx.c **** 
 859:./CMSIS/system_at32f4xx.c ****   /* Wait till HSE is ready and if Time out is reached exit */
 860:./CMSIS/system_at32f4xx.c ****   do
 861:./CMSIS/system_at32f4xx.c ****   {
 862:./CMSIS/system_at32f4xx.c ****     HSEStatus = RCC->CTRL & RCC_CTRL_HSESTBL;
 863:./CMSIS/system_at32f4xx.c ****     StartUpCounter++;
 864:./CMSIS/system_at32f4xx.c ****   }
 865:./CMSIS/system_at32f4xx.c ****   while((HSEStatus == 0) && (StartUpCounter != HSE_STARTUP_TIMEOUT));
 866:./CMSIS/system_at32f4xx.c **** #ifdef AT32F403xx 
 867:./CMSIS/system_at32f4xx.c ****   WaitHseStbl(HSE_STABLE_DELAY);
 868:./CMSIS/system_at32f4xx.c **** #endif
 869:./CMSIS/system_at32f4xx.c ****   if ((RCC->CTRL & RCC_CTRL_HSESTBL) != RESET)
 870:./CMSIS/system_at32f4xx.c ****   {
 871:./CMSIS/system_at32f4xx.c ****     HSEStatus = (uint32_t)0x01;
 872:./CMSIS/system_at32f4xx.c ****   }
 873:./CMSIS/system_at32f4xx.c ****   else
 874:./CMSIS/system_at32f4xx.c ****   {
 875:./CMSIS/system_at32f4xx.c ****     HSEStatus = (uint32_t)0x00;
 876:./CMSIS/system_at32f4xx.c ****   }
 877:./CMSIS/system_at32f4xx.c **** 
 878:./CMSIS/system_at32f4xx.c ****   if (HSEStatus == (uint32_t)0x01)
 879:./CMSIS/system_at32f4xx.c ****   {
 880:./CMSIS/system_at32f4xx.c **** #if defined (AT32F415xx) || defined (AT32F421xx)
 881:./CMSIS/system_at32f4xx.c ****     FLASH->ACR = FLASH_ACR_DEFAULT(FLASH_ACR_LATENCY_1);
 882:./CMSIS/system_at32f4xx.c **** #endif
 883:./CMSIS/system_at32f4xx.c ****     /* HCLK = SYSCLK */
 884:./CMSIS/system_at32f4xx.c ****     RCC->CFG |= (uint32_t)RCC_CFG_AHBPSC_DIV1;
 885:./CMSIS/system_at32f4xx.c **** 
 886:./CMSIS/system_at32f4xx.c ****     /* PCLK2 = HCLK */
ARM GAS  /tmp/ccdnfZu7.s 			page 17


 887:./CMSIS/system_at32f4xx.c ****     RCC->CFG &= 0xFFFFC7FF;
 888:./CMSIS/system_at32f4xx.c ****     RCC->CFG |= (uint32_t)RCC_CFG_APB2PSC_DIV1;
 889:./CMSIS/system_at32f4xx.c **** 
 890:./CMSIS/system_at32f4xx.c ****     /* PCLK1 = HCLK */
 891:./CMSIS/system_at32f4xx.c ****     RCC->CFG &= 0xFFFFF8FF;
 892:./CMSIS/system_at32f4xx.c ****     RCC->CFG |= (uint32_t)RCC_CFG_APB1PSC_DIV1;
 893:./CMSIS/system_at32f4xx.c **** 
 894:./CMSIS/system_at32f4xx.c ****     /*  PLL configuration: PLLCLK = (HSE / 2) * 9 = 36 MHz */
 895:./CMSIS/system_at32f4xx.c ****     RCC->CFG &= RCC_CFG_PLLCFG_MASK;
 896:./CMSIS/system_at32f4xx.c ****     RCC->CFG |= (uint32_t)(RCC_CFG_PLLRC_HSE | RCC_CFG_PLLHSEPSC_HSE_DIV2 | RCC_CFG_PLLMULT9);
 897:./CMSIS/system_at32f4xx.c **** 
 898:./CMSIS/system_at32f4xx.c **** #if defined (AT32F415xx) || defined (AT32F421xx)
 899:./CMSIS/system_at32f4xx.c ****     /* Config PLL clock resource frequency */
 900:./CMSIS/system_at32f4xx.c ****     RCC_PLLFrefTableConfig(HSE_VALUE);
 901:./CMSIS/system_at32f4xx.c **** #endif
 902:./CMSIS/system_at32f4xx.c ****     /* Enable PLL */
 903:./CMSIS/system_at32f4xx.c ****     RCC->CTRL |= RCC_CTRL_PLLEN;
 904:./CMSIS/system_at32f4xx.c **** 
 905:./CMSIS/system_at32f4xx.c ****     /* Wait till PLL is ready */
 906:./CMSIS/system_at32f4xx.c ****     while((RCC->CTRL & RCC_CTRL_PLLSTBL) == 0)
 907:./CMSIS/system_at32f4xx.c ****     {
 908:./CMSIS/system_at32f4xx.c ****     }
 909:./CMSIS/system_at32f4xx.c **** 
 910:./CMSIS/system_at32f4xx.c ****     /* Select PLL as system clock source */
 911:./CMSIS/system_at32f4xx.c ****     RCC->CFG &= (uint32_t)((uint32_t)~(RCC_CFG_SYSCLKSEL));
 912:./CMSIS/system_at32f4xx.c ****     RCC->CFG |= (uint32_t)RCC_CFG_SYSCLKSEL_PLL;
 913:./CMSIS/system_at32f4xx.c **** 
 914:./CMSIS/system_at32f4xx.c ****     /* Wait till PLL is used as system clock source */
 915:./CMSIS/system_at32f4xx.c ****     while ((RCC->CFG & (uint32_t)RCC_CFG_SYSCLKSTS) != RCC_CFG_SYSCLKSTS_PLL)
 916:./CMSIS/system_at32f4xx.c ****     {
 917:./CMSIS/system_at32f4xx.c ****     }
 918:./CMSIS/system_at32f4xx.c **** #ifdef AT32F403xx
 919:./CMSIS/system_at32f4xx.c ****     WaitHseStbl(PLL_STABLE_DELAY);
 920:./CMSIS/system_at32f4xx.c **** #endif
 921:./CMSIS/system_at32f4xx.c ****   }
 922:./CMSIS/system_at32f4xx.c ****   else
 923:./CMSIS/system_at32f4xx.c ****   {
 924:./CMSIS/system_at32f4xx.c ****     /* If HSE fails to start-up, the application will have wrong clock
 925:./CMSIS/system_at32f4xx.c ****          configuration. User can add here some code to deal with this error */
 926:./CMSIS/system_at32f4xx.c ****   }
 927:./CMSIS/system_at32f4xx.c **** }
 928:./CMSIS/system_at32f4xx.c **** #elif defined SYSCLK_FREQ_48MHz
 929:./CMSIS/system_at32f4xx.c **** /**
 930:./CMSIS/system_at32f4xx.c ****   * @brief  Sets System clock frequency to 48MHz and configure HCLK, PCLK2
 931:./CMSIS/system_at32f4xx.c ****   *         and PCLK1 prescalers.
 932:./CMSIS/system_at32f4xx.c ****   * @note   This function should be used only after reset.
 933:./CMSIS/system_at32f4xx.c ****   * @param  None
 934:./CMSIS/system_at32f4xx.c ****   * @retval None
 935:./CMSIS/system_at32f4xx.c ****   */
 936:./CMSIS/system_at32f4xx.c **** static void SetSysClockTo48M(void)
 937:./CMSIS/system_at32f4xx.c **** {
 938:./CMSIS/system_at32f4xx.c ****   __IO uint32_t StartUpCounter = 0, HSEStatus = 0;
 939:./CMSIS/system_at32f4xx.c **** 
 940:./CMSIS/system_at32f4xx.c ****   /* SYSCLK, HCLK, PCLK2 and PCLK1 configuration ---------------------------*/
 941:./CMSIS/system_at32f4xx.c ****   /* Enable HSE */
 942:./CMSIS/system_at32f4xx.c ****   RCC->CTRL |= ((uint32_t)RCC_CTRL_HSEEN);
 943:./CMSIS/system_at32f4xx.c **** 
ARM GAS  /tmp/ccdnfZu7.s 			page 18


 944:./CMSIS/system_at32f4xx.c ****   /* Wait till HSE is ready and if Time out is reached exit */
 945:./CMSIS/system_at32f4xx.c ****   do
 946:./CMSIS/system_at32f4xx.c ****   {
 947:./CMSIS/system_at32f4xx.c ****     HSEStatus = RCC->CTRL & RCC_CTRL_HSESTBL;
 948:./CMSIS/system_at32f4xx.c ****     StartUpCounter++;
 949:./CMSIS/system_at32f4xx.c ****   }
 950:./CMSIS/system_at32f4xx.c ****   while((HSEStatus == 0) && (StartUpCounter != HSE_STARTUP_TIMEOUT));
 951:./CMSIS/system_at32f4xx.c **** #ifdef AT32F403xx 
 952:./CMSIS/system_at32f4xx.c ****   WaitHseStbl(HSE_STABLE_DELAY);
 953:./CMSIS/system_at32f4xx.c **** #endif
 954:./CMSIS/system_at32f4xx.c ****   if ((RCC->CTRL & RCC_CTRL_HSESTBL) != RESET)
 955:./CMSIS/system_at32f4xx.c ****   {
 956:./CMSIS/system_at32f4xx.c ****     HSEStatus = (uint32_t)0x01;
 957:./CMSIS/system_at32f4xx.c ****   }
 958:./CMSIS/system_at32f4xx.c ****   else
 959:./CMSIS/system_at32f4xx.c ****   {
 960:./CMSIS/system_at32f4xx.c ****     HSEStatus = (uint32_t)0x00;
 961:./CMSIS/system_at32f4xx.c ****   }
 962:./CMSIS/system_at32f4xx.c **** 
 963:./CMSIS/system_at32f4xx.c ****   if (HSEStatus == (uint32_t)0x01)
 964:./CMSIS/system_at32f4xx.c ****   {
 965:./CMSIS/system_at32f4xx.c **** #if defined (AT32F415xx) || defined (AT32F421xx)
 966:./CMSIS/system_at32f4xx.c ****     FLASH->ACR = FLASH_ACR_DEFAULT(FLASH_ACR_LATENCY_1);	
 967:./CMSIS/system_at32f4xx.c **** #endif
 968:./CMSIS/system_at32f4xx.c ****     /* HCLK = SYSCLK */
 969:./CMSIS/system_at32f4xx.c ****     RCC->CFG |= (uint32_t)RCC_CFG_AHBPSC_DIV1;
 970:./CMSIS/system_at32f4xx.c **** 
 971:./CMSIS/system_at32f4xx.c **** #if !defined (AT32F421xx)
 972:./CMSIS/system_at32f4xx.c ****     /* PCLK2 = HCLK */
 973:./CMSIS/system_at32f4xx.c ****     RCC->CFG &= 0xFFFFC7FF;
 974:./CMSIS/system_at32f4xx.c ****     RCC->CFG |= (uint32_t)RCC_CFG_APB2PSC_DIV1;
 975:./CMSIS/system_at32f4xx.c **** 
 976:./CMSIS/system_at32f4xx.c ****     /* PCLK1 = HCLK/2 */
 977:./CMSIS/system_at32f4xx.c ****     RCC->CFG &= 0xFFFFF8FF;
 978:./CMSIS/system_at32f4xx.c ****     RCC->CFG |= (uint32_t)RCC_CFG_APB1PSC_DIV2;
 979:./CMSIS/system_at32f4xx.c **** #else
 980:./CMSIS/system_at32f4xx.c ****     /* PCLK2 = HCLK */
 981:./CMSIS/system_at32f4xx.c ****     RCC->CFG &= 0xFFFFC7FF;
 982:./CMSIS/system_at32f4xx.c ****     RCC->CFG |= (uint32_t)RCC_CFG_APB2PSC_DIV1;
 983:./CMSIS/system_at32f4xx.c **** 
 984:./CMSIS/system_at32f4xx.c ****     /* PCLK1 = HCLK */
 985:./CMSIS/system_at32f4xx.c ****     RCC->CFG &= 0xFFFFF8FF;
 986:./CMSIS/system_at32f4xx.c ****     RCC->CFG |= (uint32_t)RCC_CFG_APB1PSC_DIV1;
 987:./CMSIS/system_at32f4xx.c **** #endif
 988:./CMSIS/system_at32f4xx.c **** 
 989:./CMSIS/system_at32f4xx.c ****     /*  PLL configuration: PLLCLK = HSE * 6 = 48 MHz */
 990:./CMSIS/system_at32f4xx.c ****     RCC->CFG &= RCC_CFG_PLLCFG_MASK;
 991:./CMSIS/system_at32f4xx.c ****     RCC->CFG |= (uint32_t)(RCC_CFG_PLLRC_HSE | RCC_CFG_PLLMULT6);
 992:./CMSIS/system_at32f4xx.c **** 
 993:./CMSIS/system_at32f4xx.c **** #if defined (AT32F415xx) || defined (AT32F421xx)
 994:./CMSIS/system_at32f4xx.c ****     /* Config PLL clock resource frequency */
 995:./CMSIS/system_at32f4xx.c ****     RCC_PLLFrefTableConfig(HSE_VALUE);
 996:./CMSIS/system_at32f4xx.c **** #endif
 997:./CMSIS/system_at32f4xx.c ****     /* Enable PLL */
 998:./CMSIS/system_at32f4xx.c ****     RCC->CTRL |= RCC_CTRL_PLLEN;
 999:./CMSIS/system_at32f4xx.c **** 
1000:./CMSIS/system_at32f4xx.c ****     /* Wait till PLL is ready */
ARM GAS  /tmp/ccdnfZu7.s 			page 19


1001:./CMSIS/system_at32f4xx.c ****     while((RCC->CTRL & RCC_CTRL_PLLSTBL) == 0)
1002:./CMSIS/system_at32f4xx.c ****     {
1003:./CMSIS/system_at32f4xx.c ****     }
1004:./CMSIS/system_at32f4xx.c **** 
1005:./CMSIS/system_at32f4xx.c ****     /* Select PLL as system clock source */
1006:./CMSIS/system_at32f4xx.c ****     RCC->CFG &= (uint32_t)((uint32_t)~(RCC_CFG_SYSCLKSEL));
1007:./CMSIS/system_at32f4xx.c ****     RCC->CFG |= (uint32_t)RCC_CFG_SYSCLKSEL_PLL;
1008:./CMSIS/system_at32f4xx.c **** 
1009:./CMSIS/system_at32f4xx.c ****     /* Wait till PLL is used as system clock source */
1010:./CMSIS/system_at32f4xx.c ****     while ((RCC->CFG & (uint32_t)RCC_CFG_SYSCLKSTS) != RCC_CFG_SYSCLKSTS_PLL)
1011:./CMSIS/system_at32f4xx.c ****     {
1012:./CMSIS/system_at32f4xx.c ****     }
1013:./CMSIS/system_at32f4xx.c **** #ifdef AT32F403xx
1014:./CMSIS/system_at32f4xx.c ****     WaitHseStbl(PLL_STABLE_DELAY);
1015:./CMSIS/system_at32f4xx.c **** #endif
1016:./CMSIS/system_at32f4xx.c ****   }
1017:./CMSIS/system_at32f4xx.c ****   else
1018:./CMSIS/system_at32f4xx.c ****   {
1019:./CMSIS/system_at32f4xx.c ****     /* If HSE fails to start-up, the application will have wrong clock
1020:./CMSIS/system_at32f4xx.c ****          configuration. User can add here some code to deal with this error */
1021:./CMSIS/system_at32f4xx.c ****   }
1022:./CMSIS/system_at32f4xx.c **** }
1023:./CMSIS/system_at32f4xx.c **** 
1024:./CMSIS/system_at32f4xx.c **** #elif defined SYSCLK_FREQ_56MHz
1025:./CMSIS/system_at32f4xx.c **** /**
1026:./CMSIS/system_at32f4xx.c ****   * @brief  Sets System clock frequency to 56MHz and configure HCLK, PCLK2
1027:./CMSIS/system_at32f4xx.c ****   *         and PCLK1 prescalers.
1028:./CMSIS/system_at32f4xx.c ****   * @note   This function should be used only after reset.
1029:./CMSIS/system_at32f4xx.c ****   * @param  None
1030:./CMSIS/system_at32f4xx.c ****   * @retval None
1031:./CMSIS/system_at32f4xx.c ****   */
1032:./CMSIS/system_at32f4xx.c **** static void SetSysClockTo56M(void)
1033:./CMSIS/system_at32f4xx.c **** {
1034:./CMSIS/system_at32f4xx.c ****   __IO uint32_t StartUpCounter = 0, HSEStatus = 0;
1035:./CMSIS/system_at32f4xx.c **** 
1036:./CMSIS/system_at32f4xx.c ****   /* SYSCLK, HCLK, PCLK2 and PCLK1 configuration ---------------------------*/
1037:./CMSIS/system_at32f4xx.c ****   /* Enable HSE */
1038:./CMSIS/system_at32f4xx.c ****   RCC->CTRL |= ((uint32_t)RCC_CTRL_HSEEN);
1039:./CMSIS/system_at32f4xx.c **** 
1040:./CMSIS/system_at32f4xx.c ****   /* Wait till HSE is ready and if Time out is reached exit */
1041:./CMSIS/system_at32f4xx.c ****   do
1042:./CMSIS/system_at32f4xx.c ****   {
1043:./CMSIS/system_at32f4xx.c ****     HSEStatus = RCC->CTRL & RCC_CTRL_HSESTBL;
1044:./CMSIS/system_at32f4xx.c ****     StartUpCounter++;
1045:./CMSIS/system_at32f4xx.c ****   }
1046:./CMSIS/system_at32f4xx.c ****   while((HSEStatus == 0) && (StartUpCounter != HSE_STARTUP_TIMEOUT));
1047:./CMSIS/system_at32f4xx.c **** #ifdef AT32F403xx 
1048:./CMSIS/system_at32f4xx.c ****   WaitHseStbl(HSE_STABLE_DELAY);
1049:./CMSIS/system_at32f4xx.c **** #endif
1050:./CMSIS/system_at32f4xx.c ****   if ((RCC->CTRL & RCC_CTRL_HSESTBL) != RESET)
1051:./CMSIS/system_at32f4xx.c ****   {
1052:./CMSIS/system_at32f4xx.c ****     HSEStatus = (uint32_t)0x01;
1053:./CMSIS/system_at32f4xx.c ****   }
1054:./CMSIS/system_at32f4xx.c ****   else
1055:./CMSIS/system_at32f4xx.c ****   {
1056:./CMSIS/system_at32f4xx.c ****     HSEStatus = (uint32_t)0x00;
1057:./CMSIS/system_at32f4xx.c ****   }
ARM GAS  /tmp/ccdnfZu7.s 			page 20


1058:./CMSIS/system_at32f4xx.c **** 
1059:./CMSIS/system_at32f4xx.c ****   if (HSEStatus == (uint32_t)0x01)
1060:./CMSIS/system_at32f4xx.c ****   {
1061:./CMSIS/system_at32f4xx.c **** #if defined (AT32F415xx) || defined (AT32F421xx)
1062:./CMSIS/system_at32f4xx.c ****     FLASH->ACR = FLASH_ACR_DEFAULT(FLASH_ACR_LATENCY_1);	
1063:./CMSIS/system_at32f4xx.c **** #endif
1064:./CMSIS/system_at32f4xx.c ****     /* HCLK = SYSCLK */
1065:./CMSIS/system_at32f4xx.c ****     RCC->CFG |= (uint32_t)RCC_CFG_AHBPSC_DIV1;
1066:./CMSIS/system_at32f4xx.c **** 
1067:./CMSIS/system_at32f4xx.c **** #if !defined (AT32F421xx)
1068:./CMSIS/system_at32f4xx.c ****     /* PCLK2 = HCLK */
1069:./CMSIS/system_at32f4xx.c ****     RCC->CFG &= 0xFFFFC7FF;
1070:./CMSIS/system_at32f4xx.c ****     RCC->CFG |= (uint32_t)RCC_CFG_APB2PSC_DIV1;
1071:./CMSIS/system_at32f4xx.c **** 
1072:./CMSIS/system_at32f4xx.c ****     /* PCLK1 = HCLK/2 */
1073:./CMSIS/system_at32f4xx.c ****     RCC->CFG &= 0xFFFFF8FF;
1074:./CMSIS/system_at32f4xx.c ****     RCC->CFG |= (uint32_t)RCC_CFG_APB1PSC_DIV2;
1075:./CMSIS/system_at32f4xx.c **** #else
1076:./CMSIS/system_at32f4xx.c ****     /* PCLK2 = HCLK */
1077:./CMSIS/system_at32f4xx.c ****     RCC->CFG &= 0xFFFFC7FF;
1078:./CMSIS/system_at32f4xx.c ****     RCC->CFG |= (uint32_t)RCC_CFG_APB2PSC_DIV1;
1079:./CMSIS/system_at32f4xx.c **** 
1080:./CMSIS/system_at32f4xx.c ****     /* PCLK1 = HCLK */
1081:./CMSIS/system_at32f4xx.c ****     RCC->CFG &= 0xFFFFF8FF;
1082:./CMSIS/system_at32f4xx.c ****     RCC->CFG |= (uint32_t)RCC_CFG_APB1PSC_DIV1;
1083:./CMSIS/system_at32f4xx.c **** #endif
1084:./CMSIS/system_at32f4xx.c **** 
1085:./CMSIS/system_at32f4xx.c ****     /* PLL configuration: PLLCLK = HSE * 7 = 56 MHz */
1086:./CMSIS/system_at32f4xx.c ****     RCC->CFG &= RCC_CFG_PLLCFG_MASK;
1087:./CMSIS/system_at32f4xx.c ****     RCC->CFG |= (uint32_t)(RCC_CFG_PLLRC_HSE | RCC_CFG_PLLMULT7);
1088:./CMSIS/system_at32f4xx.c **** 
1089:./CMSIS/system_at32f4xx.c **** #if defined (AT32F415xx) || defined (AT32F421xx)
1090:./CMSIS/system_at32f4xx.c ****     /* Config PLL clock resource frequency */
1091:./CMSIS/system_at32f4xx.c ****     RCC_PLLFrefTableConfig(HSE_VALUE);
1092:./CMSIS/system_at32f4xx.c **** #endif
1093:./CMSIS/system_at32f4xx.c ****     /* Enable PLL */
1094:./CMSIS/system_at32f4xx.c ****     RCC->CTRL |= RCC_CTRL_PLLEN;
1095:./CMSIS/system_at32f4xx.c **** 
1096:./CMSIS/system_at32f4xx.c ****     /* Wait till PLL is ready */
1097:./CMSIS/system_at32f4xx.c ****     while((RCC->CTRL & RCC_CTRL_PLLSTBL) == 0)
1098:./CMSIS/system_at32f4xx.c ****     {
1099:./CMSIS/system_at32f4xx.c ****     }
1100:./CMSIS/system_at32f4xx.c **** 
1101:./CMSIS/system_at32f4xx.c ****     /* Select PLL as system clock source */
1102:./CMSIS/system_at32f4xx.c ****     RCC->CFG &= (uint32_t)((uint32_t)~(RCC_CFG_SYSCLKSEL));
1103:./CMSIS/system_at32f4xx.c ****     RCC->CFG |= (uint32_t)RCC_CFG_SYSCLKSEL_PLL;
1104:./CMSIS/system_at32f4xx.c **** 
1105:./CMSIS/system_at32f4xx.c ****     /* Wait till PLL is used as system clock source */
1106:./CMSIS/system_at32f4xx.c ****     while ((RCC->CFG & (uint32_t)RCC_CFG_SYSCLKSTS) != RCC_CFG_SYSCLKSTS_PLL)
1107:./CMSIS/system_at32f4xx.c ****     {
1108:./CMSIS/system_at32f4xx.c ****     }
1109:./CMSIS/system_at32f4xx.c **** #ifdef AT32F403xx
1110:./CMSIS/system_at32f4xx.c ****     WaitHseStbl(PLL_STABLE_DELAY);
1111:./CMSIS/system_at32f4xx.c **** #endif
1112:./CMSIS/system_at32f4xx.c ****   }
1113:./CMSIS/system_at32f4xx.c ****   else
1114:./CMSIS/system_at32f4xx.c ****   {
ARM GAS  /tmp/ccdnfZu7.s 			page 21


1115:./CMSIS/system_at32f4xx.c ****     /* If HSE fails to start-up, the application will have wrong clock
1116:./CMSIS/system_at32f4xx.c ****          configuration. User can add here some code to deal with this error */
1117:./CMSIS/system_at32f4xx.c ****   }
1118:./CMSIS/system_at32f4xx.c **** }
1119:./CMSIS/system_at32f4xx.c **** 
1120:./CMSIS/system_at32f4xx.c **** #elif defined SYSCLK_FREQ_72MHz
1121:./CMSIS/system_at32f4xx.c **** /**
1122:./CMSIS/system_at32f4xx.c ****   * @brief  Sets System clock frequency to 72MHz and configure HCLK, PCLK2
1123:./CMSIS/system_at32f4xx.c ****   *         and PCLK1 prescalers.
1124:./CMSIS/system_at32f4xx.c ****   * @note   This function should be used only after reset.
1125:./CMSIS/system_at32f4xx.c ****   * @param  None
1126:./CMSIS/system_at32f4xx.c ****   * @retval None
1127:./CMSIS/system_at32f4xx.c ****   */
1128:./CMSIS/system_at32f4xx.c **** static void SetSysClockTo72M(void)
1129:./CMSIS/system_at32f4xx.c **** {
1130:./CMSIS/system_at32f4xx.c ****   __IO uint32_t StartUpCounter = 0, HSEStatus = 0;
1131:./CMSIS/system_at32f4xx.c **** 
1132:./CMSIS/system_at32f4xx.c ****   /* SYSCLK, HCLK, PCLK2 and PCLK1 configuration ---------------------------*/
1133:./CMSIS/system_at32f4xx.c ****   /* Enable HSE */
1134:./CMSIS/system_at32f4xx.c ****   RCC->CTRL |= ((uint32_t)RCC_CTRL_HSEEN);
1135:./CMSIS/system_at32f4xx.c **** 
1136:./CMSIS/system_at32f4xx.c ****   /* Wait till HSE is ready and if Time out is reached exit */
1137:./CMSIS/system_at32f4xx.c ****   do
1138:./CMSIS/system_at32f4xx.c ****   {
1139:./CMSIS/system_at32f4xx.c ****     HSEStatus = RCC->CTRL & RCC_CTRL_HSESTBL;
1140:./CMSIS/system_at32f4xx.c ****     StartUpCounter++;
1141:./CMSIS/system_at32f4xx.c ****   }
1142:./CMSIS/system_at32f4xx.c ****   while((HSEStatus == 0) && (StartUpCounter != HSE_STARTUP_TIMEOUT));
1143:./CMSIS/system_at32f4xx.c **** #ifdef AT32F403xx 
1144:./CMSIS/system_at32f4xx.c ****   WaitHseStbl(HSE_STABLE_DELAY);
1145:./CMSIS/system_at32f4xx.c **** #endif
1146:./CMSIS/system_at32f4xx.c ****   if ((RCC->CTRL & RCC_CTRL_HSESTBL) != RESET)
1147:./CMSIS/system_at32f4xx.c ****   {
1148:./CMSIS/system_at32f4xx.c ****     HSEStatus = (uint32_t)0x01;
1149:./CMSIS/system_at32f4xx.c ****   }
1150:./CMSIS/system_at32f4xx.c ****   else
1151:./CMSIS/system_at32f4xx.c ****   {
1152:./CMSIS/system_at32f4xx.c ****     HSEStatus = (uint32_t)0x00;
1153:./CMSIS/system_at32f4xx.c ****   }
1154:./CMSIS/system_at32f4xx.c **** 
1155:./CMSIS/system_at32f4xx.c ****   if (HSEStatus == (uint32_t)0x01)
1156:./CMSIS/system_at32f4xx.c ****   {
1157:./CMSIS/system_at32f4xx.c **** #if defined (AT32F415xx) || defined (AT32F421xx)
1158:./CMSIS/system_at32f4xx.c ****     FLASH->ACR = FLASH_ACR_DEFAULT(FLASH_ACR_LATENCY_2);
1159:./CMSIS/system_at32f4xx.c **** #endif
1160:./CMSIS/system_at32f4xx.c ****     /* HCLK = SYSCLK */
1161:./CMSIS/system_at32f4xx.c ****     RCC->CFG |= (uint32_t)RCC_CFG_AHBPSC_DIV1;
1162:./CMSIS/system_at32f4xx.c **** 
1163:./CMSIS/system_at32f4xx.c **** #if !defined (AT32F421xx)
1164:./CMSIS/system_at32f4xx.c ****     /* PCLK2 = HCLK */
1165:./CMSIS/system_at32f4xx.c ****     RCC->CFG &= 0xFFFFC7FF;
1166:./CMSIS/system_at32f4xx.c ****     RCC->CFG |= (uint32_t)RCC_CFG_APB2PSC_DIV1;
1167:./CMSIS/system_at32f4xx.c **** 
1168:./CMSIS/system_at32f4xx.c ****     /* PCLK1 = HCLK/2 */
1169:./CMSIS/system_at32f4xx.c ****     RCC->CFG &= 0xFFFFF8FF;
1170:./CMSIS/system_at32f4xx.c ****     RCC->CFG |= (uint32_t)RCC_CFG_APB1PSC_DIV2;
1171:./CMSIS/system_at32f4xx.c **** #else
ARM GAS  /tmp/ccdnfZu7.s 			page 22


1172:./CMSIS/system_at32f4xx.c ****     /* PCLK2 = HCLK */
1173:./CMSIS/system_at32f4xx.c ****     RCC->CFG &= 0xFFFFC7FF;
1174:./CMSIS/system_at32f4xx.c ****     RCC->CFG |= (uint32_t)RCC_CFG_APB2PSC_DIV1;
1175:./CMSIS/system_at32f4xx.c **** 
1176:./CMSIS/system_at32f4xx.c ****     /* PCLK1 = HCLK */
1177:./CMSIS/system_at32f4xx.c ****     RCC->CFG &= 0xFFFFF8FF;
1178:./CMSIS/system_at32f4xx.c ****     RCC->CFG |= (uint32_t)RCC_CFG_APB1PSC_DIV1;
1179:./CMSIS/system_at32f4xx.c **** #endif
1180:./CMSIS/system_at32f4xx.c **** 
1181:./CMSIS/system_at32f4xx.c ****     /*  PLL configuration: PLLCLK = HSE * 9 = 72 MHz */
1182:./CMSIS/system_at32f4xx.c ****     RCC->CFG &= RCC_CFG_PLLCFG_MASK;
1183:./CMSIS/system_at32f4xx.c ****     RCC->CFG |= (uint32_t)(RCC_CFG_PLLRC_HSE | RCC_CFG_PLLMULT9);
1184:./CMSIS/system_at32f4xx.c **** 
1185:./CMSIS/system_at32f4xx.c **** #if defined (AT32F415xx) || defined (AT32F421xx)
1186:./CMSIS/system_at32f4xx.c ****     /* Config PLL clock resource frequency */
1187:./CMSIS/system_at32f4xx.c ****     RCC_PLLFrefTableConfig(HSE_VALUE);
1188:./CMSIS/system_at32f4xx.c **** #endif
1189:./CMSIS/system_at32f4xx.c ****     /* Enable PLL */
1190:./CMSIS/system_at32f4xx.c ****     RCC->CTRL |= RCC_CTRL_PLLEN;
1191:./CMSIS/system_at32f4xx.c **** 
1192:./CMSIS/system_at32f4xx.c ****     /* Wait till PLL is ready */
1193:./CMSIS/system_at32f4xx.c ****     while((RCC->CTRL & RCC_CTRL_PLLSTBL) == 0)
1194:./CMSIS/system_at32f4xx.c ****     {
1195:./CMSIS/system_at32f4xx.c ****     }
1196:./CMSIS/system_at32f4xx.c **** 
1197:./CMSIS/system_at32f4xx.c ****     /* Select PLL as system clock source */
1198:./CMSIS/system_at32f4xx.c ****     RCC->CFG &= (uint32_t)((uint32_t)~(RCC_CFG_SYSCLKSEL));
1199:./CMSIS/system_at32f4xx.c ****     RCC->CFG |= (uint32_t)RCC_CFG_SYSCLKSEL_PLL;
1200:./CMSIS/system_at32f4xx.c **** 
1201:./CMSIS/system_at32f4xx.c ****     /* Wait till PLL is used as system clock source */
1202:./CMSIS/system_at32f4xx.c ****     while ((RCC->CFG & (uint32_t)RCC_CFG_SYSCLKSTS) != RCC_CFG_SYSCLKSTS_PLL)
1203:./CMSIS/system_at32f4xx.c ****     {
1204:./CMSIS/system_at32f4xx.c ****     }
1205:./CMSIS/system_at32f4xx.c **** #ifdef AT32F403xx
1206:./CMSIS/system_at32f4xx.c ****     WaitHseStbl(PLL_STABLE_DELAY);
1207:./CMSIS/system_at32f4xx.c **** #endif
1208:./CMSIS/system_at32f4xx.c ****   }
1209:./CMSIS/system_at32f4xx.c ****   else
1210:./CMSIS/system_at32f4xx.c ****   {
1211:./CMSIS/system_at32f4xx.c ****     /* If HSE fails to start-up, the application will have wrong clock
1212:./CMSIS/system_at32f4xx.c ****          configuration. User can add here some code to deal with this error */
1213:./CMSIS/system_at32f4xx.c ****   }
1214:./CMSIS/system_at32f4xx.c **** }
1215:./CMSIS/system_at32f4xx.c **** 
1216:./CMSIS/system_at32f4xx.c **** #elif defined SYSCLK_FREQ_96MHz
1217:./CMSIS/system_at32f4xx.c **** /**
1218:./CMSIS/system_at32f4xx.c ****   * @brief  Sets System clock frequency to 96MHz and configure HCLK, PCLK2
1219:./CMSIS/system_at32f4xx.c ****   *         and PCLK1 prescalers.
1220:./CMSIS/system_at32f4xx.c ****   * @note   This function should be used only after reset.
1221:./CMSIS/system_at32f4xx.c ****   * @param  None
1222:./CMSIS/system_at32f4xx.c ****   * @retval None
1223:./CMSIS/system_at32f4xx.c ****   */
1224:./CMSIS/system_at32f4xx.c **** static void SetSysClockTo96M(void)
1225:./CMSIS/system_at32f4xx.c **** {
1226:./CMSIS/system_at32f4xx.c ****   __IO uint32_t StartUpCounter = 0, HSEStatus = 0;
1227:./CMSIS/system_at32f4xx.c **** 
1228:./CMSIS/system_at32f4xx.c ****   /* SYSCLK, HCLK, PCLK2 and PCLK1 configuration ---------------------------*/
ARM GAS  /tmp/ccdnfZu7.s 			page 23


1229:./CMSIS/system_at32f4xx.c ****   /* Enable HSE */
1230:./CMSIS/system_at32f4xx.c ****   RCC->CTRL |= ((uint32_t)RCC_CTRL_HSEEN);
1231:./CMSIS/system_at32f4xx.c **** 
1232:./CMSIS/system_at32f4xx.c ****   /* Wait till HSE is ready and if Time out is reached exit */
1233:./CMSIS/system_at32f4xx.c ****   do
1234:./CMSIS/system_at32f4xx.c ****   {
1235:./CMSIS/system_at32f4xx.c ****     HSEStatus = RCC->CTRL & RCC_CTRL_HSESTBL;
1236:./CMSIS/system_at32f4xx.c ****     StartUpCounter++;
1237:./CMSIS/system_at32f4xx.c ****   }
1238:./CMSIS/system_at32f4xx.c ****   while((HSEStatus == 0) && (StartUpCounter != HSE_STARTUP_TIMEOUT));
1239:./CMSIS/system_at32f4xx.c **** #ifdef AT32F403xx 
1240:./CMSIS/system_at32f4xx.c ****   WaitHseStbl(HSE_STABLE_DELAY);
1241:./CMSIS/system_at32f4xx.c **** #endif
1242:./CMSIS/system_at32f4xx.c ****   if ((RCC->CTRL & RCC_CTRL_HSESTBL) != RESET)
1243:./CMSIS/system_at32f4xx.c ****   {
1244:./CMSIS/system_at32f4xx.c ****     HSEStatus = (uint32_t)0x01;
1245:./CMSIS/system_at32f4xx.c ****   }
1246:./CMSIS/system_at32f4xx.c ****   else
1247:./CMSIS/system_at32f4xx.c ****   {
1248:./CMSIS/system_at32f4xx.c ****     HSEStatus = (uint32_t)0x00;
1249:./CMSIS/system_at32f4xx.c ****   }
1250:./CMSIS/system_at32f4xx.c **** 
1251:./CMSIS/system_at32f4xx.c ****   if (HSEStatus == (uint32_t)0x01)
1252:./CMSIS/system_at32f4xx.c ****   {
1253:./CMSIS/system_at32f4xx.c **** #if defined (AT32F415xx) || defined (AT32F421xx)
1254:./CMSIS/system_at32f4xx.c ****     FLASH->ACR = FLASH_ACR_DEFAULT(FLASH_ACR_LATENCY_2);
1255:./CMSIS/system_at32f4xx.c **** #endif
1256:./CMSIS/system_at32f4xx.c ****     /* HCLK = SYSCLK */
1257:./CMSIS/system_at32f4xx.c ****     RCC->CFG |= (uint32_t)RCC_CFG_AHBPSC_DIV1;
1258:./CMSIS/system_at32f4xx.c **** 
1259:./CMSIS/system_at32f4xx.c **** #if !defined (AT32F421xx)
1260:./CMSIS/system_at32f4xx.c ****     /* PCLK2 = HCLK/2 */
1261:./CMSIS/system_at32f4xx.c ****     RCC->CFG &= 0xFFFFC7FF;
1262:./CMSIS/system_at32f4xx.c ****     RCC->CFG |= (uint32_t)RCC_CFG_APB2PSC_DIV2;
1263:./CMSIS/system_at32f4xx.c **** 
1264:./CMSIS/system_at32f4xx.c ****     /* PCLK1 = HCLK/2 */
1265:./CMSIS/system_at32f4xx.c ****     RCC->CFG &= 0xFFFFF8FF;
1266:./CMSIS/system_at32f4xx.c ****     RCC->CFG |= (uint32_t)RCC_CFG_APB1PSC_DIV2;
1267:./CMSIS/system_at32f4xx.c **** #else
1268:./CMSIS/system_at32f4xx.c ****     /* PCLK2 = HCLK */
1269:./CMSIS/system_at32f4xx.c ****     RCC->CFG &= 0xFFFFC7FF;
1270:./CMSIS/system_at32f4xx.c ****     RCC->CFG |= (uint32_t)RCC_CFG_APB2PSC_DIV1;
1271:./CMSIS/system_at32f4xx.c **** 
1272:./CMSIS/system_at32f4xx.c ****     /* PCLK1 = HCLK */
1273:./CMSIS/system_at32f4xx.c ****     RCC->CFG &= 0xFFFFF8FF;
1274:./CMSIS/system_at32f4xx.c ****     RCC->CFG |= (uint32_t)RCC_CFG_APB1PSC_DIV1;
1275:./CMSIS/system_at32f4xx.c **** #endif
1276:./CMSIS/system_at32f4xx.c **** 
1277:./CMSIS/system_at32f4xx.c ****     /*  PLL configuration: PLLCLK = HSE * 12 = 96 MHz */
1278:./CMSIS/system_at32f4xx.c ****     RCC->CFG &= RCC_CFG_PLLCFG_MASK;
1279:./CMSIS/system_at32f4xx.c **** #if defined (AT32F415xx) || defined (AT32F421xx)
1280:./CMSIS/system_at32f4xx.c ****     RCC->CFG |= (uint32_t)(RCC_CFG_PLLRC_HSE | RCC_CFG_PLLMULT12);
1281:./CMSIS/system_at32f4xx.c **** #else
1282:./CMSIS/system_at32f4xx.c ****     RCC->CFG |= (uint32_t)(RCC_CFG_PLLRC_HSE | RCC_CFG_PLLMULT12 | RCC_CFG_PLLRANGE_GT72MHZ);
1283:./CMSIS/system_at32f4xx.c **** #endif
1284:./CMSIS/system_at32f4xx.c **** 
1285:./CMSIS/system_at32f4xx.c **** #if defined (AT32F415xx) || defined (AT32F421xx)
ARM GAS  /tmp/ccdnfZu7.s 			page 24


1286:./CMSIS/system_at32f4xx.c ****     /* Config PLL clock resource frequency */
1287:./CMSIS/system_at32f4xx.c ****     RCC_PLLFrefTableConfig(HSE_VALUE);
1288:./CMSIS/system_at32f4xx.c **** #endif
1289:./CMSIS/system_at32f4xx.c ****     /* Enable PLL */
1290:./CMSIS/system_at32f4xx.c ****     RCC->CTRL |= RCC_CTRL_PLLEN;
1291:./CMSIS/system_at32f4xx.c **** 
1292:./CMSIS/system_at32f4xx.c ****     /* Wait till PLL is ready */
1293:./CMSIS/system_at32f4xx.c ****     while((RCC->CTRL & RCC_CTRL_PLLSTBL) == 0)
1294:./CMSIS/system_at32f4xx.c ****     {
1295:./CMSIS/system_at32f4xx.c ****     }
1296:./CMSIS/system_at32f4xx.c **** 
1297:./CMSIS/system_at32f4xx.c ****     /* Select PLL as system clock source */
1298:./CMSIS/system_at32f4xx.c ****     RCC->CFG &= (uint32_t)((uint32_t)~(RCC_CFG_SYSCLKSEL));
1299:./CMSIS/system_at32f4xx.c ****     RCC->CFG |= (uint32_t)RCC_CFG_SYSCLKSEL_PLL;
1300:./CMSIS/system_at32f4xx.c **** 
1301:./CMSIS/system_at32f4xx.c ****     /* Wait till PLL is used as system clock source */
1302:./CMSIS/system_at32f4xx.c ****     while ((RCC->CFG & (uint32_t)RCC_CFG_SYSCLKSTS) != RCC_CFG_SYSCLKSTS_PLL)
1303:./CMSIS/system_at32f4xx.c ****     {
1304:./CMSIS/system_at32f4xx.c ****     }
1305:./CMSIS/system_at32f4xx.c **** #ifdef AT32F403xx
1306:./CMSIS/system_at32f4xx.c ****     WaitHseStbl(PLL_STABLE_DELAY);
1307:./CMSIS/system_at32f4xx.c **** #endif
1308:./CMSIS/system_at32f4xx.c ****   }
1309:./CMSIS/system_at32f4xx.c ****   else
1310:./CMSIS/system_at32f4xx.c ****   {
1311:./CMSIS/system_at32f4xx.c ****     /* If HSE fails to start-up, the application will have wrong clock
1312:./CMSIS/system_at32f4xx.c ****          configuration. User can add here some code to deal with this error */
1313:./CMSIS/system_at32f4xx.c ****   }
1314:./CMSIS/system_at32f4xx.c **** }
1315:./CMSIS/system_at32f4xx.c **** 
1316:./CMSIS/system_at32f4xx.c **** #elif defined SYSCLK_FREQ_108MHz
1317:./CMSIS/system_at32f4xx.c **** /**
1318:./CMSIS/system_at32f4xx.c ****   * @brief  Sets System clock frequency to 108MHz and configure HCLK, PCLK2
1319:./CMSIS/system_at32f4xx.c ****   *         and PCLK1 prescalers.
1320:./CMSIS/system_at32f4xx.c ****   * @note   This function should be used only after reset.
1321:./CMSIS/system_at32f4xx.c ****   * @param  None
1322:./CMSIS/system_at32f4xx.c ****   * @retval None
1323:./CMSIS/system_at32f4xx.c ****   */
1324:./CMSIS/system_at32f4xx.c **** static void SetSysClockTo108M(void)
1325:./CMSIS/system_at32f4xx.c **** {
1326:./CMSIS/system_at32f4xx.c ****   __IO uint32_t StartUpCounter = 0, HSEStatus = 0;
1327:./CMSIS/system_at32f4xx.c **** 
1328:./CMSIS/system_at32f4xx.c ****   /* SYSCLK, HCLK, PCLK2 and PCLK1 configuration ---------------------------*/
1329:./CMSIS/system_at32f4xx.c ****   /* Enable HSE */
1330:./CMSIS/system_at32f4xx.c ****   RCC->CTRL |= ((uint32_t)RCC_CTRL_HSEEN);
1331:./CMSIS/system_at32f4xx.c **** 
1332:./CMSIS/system_at32f4xx.c ****   /* Wait till HSE is ready and if Time out is reached exit */
1333:./CMSIS/system_at32f4xx.c ****   do
1334:./CMSIS/system_at32f4xx.c ****   {
1335:./CMSIS/system_at32f4xx.c ****     HSEStatus = RCC->CTRL & RCC_CTRL_HSESTBL;
1336:./CMSIS/system_at32f4xx.c ****     StartUpCounter++;
1337:./CMSIS/system_at32f4xx.c ****   }
1338:./CMSIS/system_at32f4xx.c ****   while((HSEStatus == 0) && (StartUpCounter != HSE_STARTUP_TIMEOUT));
1339:./CMSIS/system_at32f4xx.c **** #ifdef AT32F403xx 
1340:./CMSIS/system_at32f4xx.c ****   WaitHseStbl(HSE_STABLE_DELAY);
1341:./CMSIS/system_at32f4xx.c **** #endif
1342:./CMSIS/system_at32f4xx.c ****   if ((RCC->CTRL & RCC_CTRL_HSESTBL) != RESET)
ARM GAS  /tmp/ccdnfZu7.s 			page 25


1343:./CMSIS/system_at32f4xx.c ****   {
1344:./CMSIS/system_at32f4xx.c ****     HSEStatus = (uint32_t)0x01;
1345:./CMSIS/system_at32f4xx.c ****   }
1346:./CMSIS/system_at32f4xx.c ****   else
1347:./CMSIS/system_at32f4xx.c ****   {
1348:./CMSIS/system_at32f4xx.c ****     HSEStatus = (uint32_t)0x00;
1349:./CMSIS/system_at32f4xx.c ****   }
1350:./CMSIS/system_at32f4xx.c **** 
1351:./CMSIS/system_at32f4xx.c ****   if (HSEStatus == (uint32_t)0x01)
1352:./CMSIS/system_at32f4xx.c ****   {
1353:./CMSIS/system_at32f4xx.c **** #if defined (AT32F415xx) || defined (AT32F421xx)
1354:./CMSIS/system_at32f4xx.c ****     FLASH->ACR = FLASH_ACR_DEFAULT(FLASH_ACR_LATENCY_3);
1355:./CMSIS/system_at32f4xx.c **** #endif
1356:./CMSIS/system_at32f4xx.c ****     /* HCLK = SYSCLK */
1357:./CMSIS/system_at32f4xx.c ****     RCC->CFG |= (uint32_t)RCC_CFG_AHBPSC_DIV1;
1358:./CMSIS/system_at32f4xx.c **** 
1359:./CMSIS/system_at32f4xx.c **** #if !defined (AT32F421xx)
1360:./CMSIS/system_at32f4xx.c ****     /* PCLK2 = HCLK/2 */
1361:./CMSIS/system_at32f4xx.c ****     RCC->CFG &= 0xFFFFC7FF;
1362:./CMSIS/system_at32f4xx.c ****     RCC->CFG |= (uint32_t)RCC_CFG_APB2PSC_DIV2;
1363:./CMSIS/system_at32f4xx.c **** 
1364:./CMSIS/system_at32f4xx.c ****     /* PCLK1 = HCLK/2 */
1365:./CMSIS/system_at32f4xx.c ****     RCC->CFG &= 0xFFFFF8FF;
1366:./CMSIS/system_at32f4xx.c ****     RCC->CFG |= (uint32_t)RCC_CFG_APB1PSC_DIV2;
1367:./CMSIS/system_at32f4xx.c **** #else
1368:./CMSIS/system_at32f4xx.c ****     /* PCLK2 = HCLK */
1369:./CMSIS/system_at32f4xx.c ****     RCC->CFG &= 0xFFFFC7FF;
1370:./CMSIS/system_at32f4xx.c ****     RCC->CFG |= (uint32_t)RCC_CFG_APB2PSC_DIV1;
1371:./CMSIS/system_at32f4xx.c **** 
1372:./CMSIS/system_at32f4xx.c ****     /* PCLK1 = HCLK */
1373:./CMSIS/system_at32f4xx.c ****     RCC->CFG &= 0xFFFFF8FF;
1374:./CMSIS/system_at32f4xx.c ****     RCC->CFG |= (uint32_t)RCC_CFG_APB1PSC_DIV1;
1375:./CMSIS/system_at32f4xx.c **** #endif
1376:./CMSIS/system_at32f4xx.c **** 
1377:./CMSIS/system_at32f4xx.c ****     /*  PLL configuration: PLLCLK = (HSE/2) * 27 = 108 MHz */
1378:./CMSIS/system_at32f4xx.c ****     RCC->CFG &= RCC_CFG_PLLCFG_MASK;
1379:./CMSIS/system_at32f4xx.c **** 
1380:./CMSIS/system_at32f4xx.c **** #if defined (AT32F415xx) || defined (AT32F421xx)
1381:./CMSIS/system_at32f4xx.c ****     RCC->CFG |= (uint32_t)(RCC_CFG_PLLRC_HSE | RCC_CFG_PLLHSEPSC_HSE_DIV2 | RCC_CFG_PLLMULT27);
1382:./CMSIS/system_at32f4xx.c **** #else
1383:./CMSIS/system_at32f4xx.c ****     RCC->CFG |= (uint32_t)(RCC_CFG_PLLRC_HSE | RCC_CFG_PLLHSEPSC_HSE_DIV2 | RCC_CFG_PLLMULT27 \
1384:./CMSIS/system_at32f4xx.c ****                            | RCC_CFG_PLLRANGE_GT72MHZ);
1385:./CMSIS/system_at32f4xx.c **** #endif
1386:./CMSIS/system_at32f4xx.c **** 
1387:./CMSIS/system_at32f4xx.c **** #if defined (AT32F415xx) || defined (AT32F421xx)
1388:./CMSIS/system_at32f4xx.c ****     /* Config PLL clock resource frequency */
1389:./CMSIS/system_at32f4xx.c ****     RCC_PLLFrefTableConfig(HSE_VALUE);
1390:./CMSIS/system_at32f4xx.c **** #endif
1391:./CMSIS/system_at32f4xx.c ****     /* Enable PLL */
1392:./CMSIS/system_at32f4xx.c ****     RCC->CTRL |= RCC_CTRL_PLLEN;
1393:./CMSIS/system_at32f4xx.c **** 
1394:./CMSIS/system_at32f4xx.c ****     /* Wait till PLL is ready */
1395:./CMSIS/system_at32f4xx.c ****     while((RCC->CTRL & RCC_CTRL_PLLSTBL) == 0)
1396:./CMSIS/system_at32f4xx.c ****     {
1397:./CMSIS/system_at32f4xx.c ****     }
1398:./CMSIS/system_at32f4xx.c **** 
1399:./CMSIS/system_at32f4xx.c ****     /* Select PLL as system clock source */
ARM GAS  /tmp/ccdnfZu7.s 			page 26


1400:./CMSIS/system_at32f4xx.c ****     RCC->CFG &= (uint32_t)((uint32_t)~(RCC_CFG_SYSCLKSEL));
1401:./CMSIS/system_at32f4xx.c ****     RCC->CFG |= (uint32_t)RCC_CFG_SYSCLKSEL_PLL;
1402:./CMSIS/system_at32f4xx.c **** 
1403:./CMSIS/system_at32f4xx.c ****     /* Wait till PLL is used as system clock source */
1404:./CMSIS/system_at32f4xx.c ****     while ((RCC->CFG & (uint32_t)RCC_CFG_SYSCLKSTS) != RCC_CFG_SYSCLKSTS_PLL)
1405:./CMSIS/system_at32f4xx.c ****     {
1406:./CMSIS/system_at32f4xx.c ****     }
1407:./CMSIS/system_at32f4xx.c **** #ifdef AT32F403xx
1408:./CMSIS/system_at32f4xx.c ****     WaitHseStbl(PLL_STABLE_DELAY);
1409:./CMSIS/system_at32f4xx.c **** #endif
1410:./CMSIS/system_at32f4xx.c ****   }
1411:./CMSIS/system_at32f4xx.c ****   else
1412:./CMSIS/system_at32f4xx.c ****   {
1413:./CMSIS/system_at32f4xx.c ****     /* If HSE fails to start-up, the application will have wrong clock
1414:./CMSIS/system_at32f4xx.c ****          configuration. User can add here some code to deal with this error */
1415:./CMSIS/system_at32f4xx.c ****   }
1416:./CMSIS/system_at32f4xx.c **** }
1417:./CMSIS/system_at32f4xx.c **** 
1418:./CMSIS/system_at32f4xx.c **** #elif defined SYSCLK_FREQ_120MHz
1419:./CMSIS/system_at32f4xx.c **** /**
1420:./CMSIS/system_at32f4xx.c ****   * @brief  Sets System clock frequency to 120MHz and configure HCLK, PCLK2
1421:./CMSIS/system_at32f4xx.c ****   *         and PCLK1 prescalers.
1422:./CMSIS/system_at32f4xx.c ****   * @note   This function should be used only after reset.
1423:./CMSIS/system_at32f4xx.c ****   * @param  None
1424:./CMSIS/system_at32f4xx.c ****   * @retval None
1425:./CMSIS/system_at32f4xx.c ****   */
1426:./CMSIS/system_at32f4xx.c **** static void SetSysClockTo120M(void)
1427:./CMSIS/system_at32f4xx.c **** {
  28              		.loc 1 1427 1 view -0
  29              		.cfi_startproc
  30              		@ args = 0, pretend = 0, frame = 8
  31              		@ frame_needed = 0, uses_anonymous_args = 0
  32 0000 10B5     		push	{r4, lr}
  33              	.LCFI0:
  34              		.cfi_def_cfa_offset 8
  35              		.cfi_offset 4, -8
  36              		.cfi_offset 14, -4
  37 0002 82B0     		sub	sp, sp, #8
  38              	.LCFI1:
  39              		.cfi_def_cfa_offset 16
1428:./CMSIS/system_at32f4xx.c ****   __IO uint32_t StartUpCounter = 0, HSEStatus = 0;
  40              		.loc 1 1428 3 view .LVU1
  41              		.loc 1 1428 17 is_stmt 0 view .LVU2
  42 0004 0023     		movs	r3, #0
  43 0006 0193     		str	r3, [sp, #4]
  44              		.loc 1 1428 37 view .LVU3
  45 0008 0093     		str	r3, [sp]
1429:./CMSIS/system_at32f4xx.c **** 
1430:./CMSIS/system_at32f4xx.c ****   /* SYSCLK, HCLK, PCLK2 and PCLK1 configuration ---------------------------*/
1431:./CMSIS/system_at32f4xx.c ****   /* Enable HSE */
1432:./CMSIS/system_at32f4xx.c ****   RCC->CTRL |= ((uint32_t)RCC_CTRL_HSEEN);
  46              		.loc 1 1432 3 is_stmt 1 view .LVU4
  47              		.loc 1 1432 13 is_stmt 0 view .LVU5
  48 000a 304A     		ldr	r2, .L11
  49 000c 1368     		ldr	r3, [r2]
  50 000e 43F48033 		orr	r3, r3, #65536
  51 0012 1360     		str	r3, [r2]
ARM GAS  /tmp/ccdnfZu7.s 			page 27


  52              	.L3:
1433:./CMSIS/system_at32f4xx.c **** 
1434:./CMSIS/system_at32f4xx.c ****   /* Wait till HSE is ready and if Time out is reached exit */
1435:./CMSIS/system_at32f4xx.c ****   do
  53              		.loc 1 1435 3 is_stmt 1 discriminator 2 view .LVU6
1436:./CMSIS/system_at32f4xx.c ****   {
1437:./CMSIS/system_at32f4xx.c ****     HSEStatus = RCC->CTRL & RCC_CTRL_HSESTBL;
  54              		.loc 1 1437 5 discriminator 2 view .LVU7
  55              		.loc 1 1437 20 is_stmt 0 discriminator 2 view .LVU8
  56 0014 2D4B     		ldr	r3, .L11
  57 0016 1B68     		ldr	r3, [r3]
  58              		.loc 1 1437 27 discriminator 2 view .LVU9
  59 0018 03F40033 		and	r3, r3, #131072
  60              		.loc 1 1437 15 discriminator 2 view .LVU10
  61 001c 0093     		str	r3, [sp]
1438:./CMSIS/system_at32f4xx.c ****     StartUpCounter++;
  62              		.loc 1 1438 5 is_stmt 1 discriminator 2 view .LVU11
  63              		.loc 1 1438 19 is_stmt 0 discriminator 2 view .LVU12
  64 001e 019B     		ldr	r3, [sp, #4]
  65 0020 0133     		adds	r3, r3, #1
  66 0022 0193     		str	r3, [sp, #4]
1439:./CMSIS/system_at32f4xx.c ****   }
1440:./CMSIS/system_at32f4xx.c ****   while((HSEStatus == 0) && (StartUpCounter != HSE_STARTUP_TIMEOUT));
  67              		.loc 1 1440 8 is_stmt 1 discriminator 2 view .LVU13
  68              		.loc 1 1440 20 is_stmt 0 discriminator 2 view .LVU14
  69 0024 009B     		ldr	r3, [sp]
  70              		.loc 1 1440 3 discriminator 2 view .LVU15
  71 0026 1BB9     		cbnz	r3, .L2
  72              		.loc 1 1440 45 discriminator 1 view .LVU16
  73 0028 019B     		ldr	r3, [sp, #4]
  74              		.loc 1 1440 26 discriminator 1 view .LVU17
  75 002a B3F5405F 		cmp	r3, #12288
  76 002e F1D1     		bne	.L3
  77              	.L2:
1441:./CMSIS/system_at32f4xx.c **** #ifdef AT32F403xx 
1442:./CMSIS/system_at32f4xx.c ****   WaitHseStbl(HSE_STABLE_DELAY);
1443:./CMSIS/system_at32f4xx.c **** #endif
1444:./CMSIS/system_at32f4xx.c ****   if ((RCC->CTRL & RCC_CTRL_HSESTBL) != RESET)
  78              		.loc 1 1444 3 is_stmt 1 view .LVU18
  79              		.loc 1 1444 11 is_stmt 0 view .LVU19
  80 0030 264B     		ldr	r3, .L11
  81 0032 1B68     		ldr	r3, [r3]
  82              		.loc 1 1444 6 view .LVU20
  83 0034 13F4003F 		tst	r3, #131072
  84 0038 06D0     		beq	.L4
1445:./CMSIS/system_at32f4xx.c ****   {
1446:./CMSIS/system_at32f4xx.c ****     HSEStatus = (uint32_t)0x01;
  85              		.loc 1 1446 5 is_stmt 1 view .LVU21
  86              		.loc 1 1446 15 is_stmt 0 view .LVU22
  87 003a 0123     		movs	r3, #1
  88 003c 0093     		str	r3, [sp]
  89              	.L5:
1447:./CMSIS/system_at32f4xx.c ****   }
1448:./CMSIS/system_at32f4xx.c ****   else
1449:./CMSIS/system_at32f4xx.c ****   {
1450:./CMSIS/system_at32f4xx.c ****     HSEStatus = (uint32_t)0x00;
1451:./CMSIS/system_at32f4xx.c ****   }
ARM GAS  /tmp/ccdnfZu7.s 			page 28


1452:./CMSIS/system_at32f4xx.c **** 
1453:./CMSIS/system_at32f4xx.c ****   if (HSEStatus == (uint32_t)0x01)
  90              		.loc 1 1453 3 is_stmt 1 view .LVU23
  91              		.loc 1 1453 17 is_stmt 0 view .LVU24
  92 003e 009B     		ldr	r3, [sp]
  93              		.loc 1 1453 6 view .LVU25
  94 0040 012B     		cmp	r3, #1
  95 0042 04D0     		beq	.L10
  96              	.L1:
1454:./CMSIS/system_at32f4xx.c ****   {
1455:./CMSIS/system_at32f4xx.c **** #if defined (AT32F415xx) || defined (AT32F421xx)
1456:./CMSIS/system_at32f4xx.c ****     FLASH->ACR = FLASH_ACR_DEFAULT(FLASH_ACR_LATENCY_3);
1457:./CMSIS/system_at32f4xx.c **** #endif
1458:./CMSIS/system_at32f4xx.c ****     /* HCLK = SYSCLK */
1459:./CMSIS/system_at32f4xx.c ****     RCC->CFG |= (uint32_t)RCC_CFG_AHBPSC_DIV1;
1460:./CMSIS/system_at32f4xx.c **** 
1461:./CMSIS/system_at32f4xx.c **** #if !defined (AT32F421xx)
1462:./CMSIS/system_at32f4xx.c ****     /* PCLK2 = HCLK/2 */
1463:./CMSIS/system_at32f4xx.c ****     RCC->CFG &= 0xFFFFC7FF;
1464:./CMSIS/system_at32f4xx.c ****     RCC->CFG |= (uint32_t)RCC_CFG_APB2PSC_DIV2;
1465:./CMSIS/system_at32f4xx.c **** 
1466:./CMSIS/system_at32f4xx.c ****     /* PCLK1 = HCLK/2 */
1467:./CMSIS/system_at32f4xx.c ****     RCC->CFG &= 0xFFFFF8FF;
1468:./CMSIS/system_at32f4xx.c ****     RCC->CFG |= (uint32_t)RCC_CFG_APB1PSC_DIV2;
1469:./CMSIS/system_at32f4xx.c **** #else
1470:./CMSIS/system_at32f4xx.c ****     /* PCLK2 = HCLK */
1471:./CMSIS/system_at32f4xx.c ****     RCC->CFG &= 0xFFFFC7FF;
1472:./CMSIS/system_at32f4xx.c ****     RCC->CFG |= (uint32_t)RCC_CFG_APB2PSC_DIV1;
1473:./CMSIS/system_at32f4xx.c **** 
1474:./CMSIS/system_at32f4xx.c ****     /* PCLK1 = HCLK */
1475:./CMSIS/system_at32f4xx.c ****     RCC->CFG &= 0xFFFFF8FF;
1476:./CMSIS/system_at32f4xx.c ****     RCC->CFG |= (uint32_t)RCC_CFG_APB1PSC_DIV1;
1477:./CMSIS/system_at32f4xx.c **** #endif
1478:./CMSIS/system_at32f4xx.c **** 
1479:./CMSIS/system_at32f4xx.c ****     /*  PLL configuration: PLLCLK = HSE * 15 = 120 MHz */
1480:./CMSIS/system_at32f4xx.c ****     RCC->CFG &= RCC_CFG_PLLCFG_MASK;
1481:./CMSIS/system_at32f4xx.c **** 
1482:./CMSIS/system_at32f4xx.c **** #if defined (AT32F415xx) || defined (AT32F421xx)
1483:./CMSIS/system_at32f4xx.c ****     RCC->CFG |= (uint32_t)(RCC_CFG_PLLRC_HSE | RCC_CFG_PLLMULT15);
1484:./CMSIS/system_at32f4xx.c **** #else
1485:./CMSIS/system_at32f4xx.c ****     RCC->CFG |= (uint32_t)(RCC_CFG_PLLRC_HSE | RCC_CFG_PLLMULT15 | RCC_CFG_PLLRANGE_GT72MHZ);
1486:./CMSIS/system_at32f4xx.c **** #endif
1487:./CMSIS/system_at32f4xx.c **** 
1488:./CMSIS/system_at32f4xx.c **** #if defined (AT32F415xx) || defined (AT32F421xx)
1489:./CMSIS/system_at32f4xx.c ****     /* Config PLL clock resource frequency */
1490:./CMSIS/system_at32f4xx.c ****     RCC_PLLFrefTableConfig(HSE_VALUE);
1491:./CMSIS/system_at32f4xx.c **** #endif
1492:./CMSIS/system_at32f4xx.c ****     /* Enable PLL */
1493:./CMSIS/system_at32f4xx.c ****     RCC->CTRL |= RCC_CTRL_PLLEN;
1494:./CMSIS/system_at32f4xx.c **** 
1495:./CMSIS/system_at32f4xx.c ****     /* Wait till PLL is ready */
1496:./CMSIS/system_at32f4xx.c ****     while((RCC->CTRL & RCC_CTRL_PLLSTBL) == 0)
1497:./CMSIS/system_at32f4xx.c ****     {
1498:./CMSIS/system_at32f4xx.c ****     }
1499:./CMSIS/system_at32f4xx.c **** #if defined (AT32F413xx) || defined (AT32F403Axx)|| \
1500:./CMSIS/system_at32f4xx.c ****     defined (AT32F407xx) || defined (AT32F415xx) || \
1501:./CMSIS/system_at32f4xx.c ****     defined (AT32F421xx)
ARM GAS  /tmp/ccdnfZu7.s 			page 29


1502:./CMSIS/system_at32f4xx.c ****     RCC_StepModeCmd(ENABLE);
1503:./CMSIS/system_at32f4xx.c **** #endif
1504:./CMSIS/system_at32f4xx.c ****     /* Select PLL as system clock source */
1505:./CMSIS/system_at32f4xx.c ****     RCC->CFG &= (uint32_t)((uint32_t)~(RCC_CFG_SYSCLKSEL));
1506:./CMSIS/system_at32f4xx.c ****     RCC->CFG |= (uint32_t)RCC_CFG_SYSCLKSEL_PLL;
1507:./CMSIS/system_at32f4xx.c **** 
1508:./CMSIS/system_at32f4xx.c ****     /* Wait till PLL is used as system clock source */
1509:./CMSIS/system_at32f4xx.c ****     while ((RCC->CFG & (uint32_t)RCC_CFG_SYSCLKSTS) != RCC_CFG_SYSCLKSTS_PLL)
1510:./CMSIS/system_at32f4xx.c ****     {
1511:./CMSIS/system_at32f4xx.c ****     }
1512:./CMSIS/system_at32f4xx.c **** #ifdef AT32F403xx
1513:./CMSIS/system_at32f4xx.c ****     WaitHseStbl(PLL_STABLE_DELAY);
1514:./CMSIS/system_at32f4xx.c **** #endif
1515:./CMSIS/system_at32f4xx.c **** #if defined (AT32F413xx) || defined (AT32F403Axx)|| \
1516:./CMSIS/system_at32f4xx.c ****     defined (AT32F407xx) || defined (AT32F415xx) || \
1517:./CMSIS/system_at32f4xx.c ****     defined (AT32F421xx)
1518:./CMSIS/system_at32f4xx.c ****     RCC_StepModeCmd(DISABLE);
1519:./CMSIS/system_at32f4xx.c **** #endif
1520:./CMSIS/system_at32f4xx.c ****   }
1521:./CMSIS/system_at32f4xx.c ****   else
1522:./CMSIS/system_at32f4xx.c ****   {
1523:./CMSIS/system_at32f4xx.c ****     /* If HSE fails to start-up, the application will have wrong clock
1524:./CMSIS/system_at32f4xx.c ****          configuration. User can add here some code to deal with this error */
1525:./CMSIS/system_at32f4xx.c ****   }
1526:./CMSIS/system_at32f4xx.c **** }
  97              		.loc 1 1526 1 view .LVU26
  98 0044 02B0     		add	sp, sp, #8
  99              	.LCFI2:
 100              		.cfi_remember_state
 101              		.cfi_def_cfa_offset 8
 102              		@ sp needed
 103 0046 10BD     		pop	{r4, pc}
 104              	.L4:
 105              	.LCFI3:
 106              		.cfi_restore_state
1450:./CMSIS/system_at32f4xx.c ****   }
 107              		.loc 1 1450 5 is_stmt 1 view .LVU27
1450:./CMSIS/system_at32f4xx.c ****   }
 108              		.loc 1 1450 15 is_stmt 0 view .LVU28
 109 0048 0023     		movs	r3, #0
 110 004a 0093     		str	r3, [sp]
 111 004c F7E7     		b	.L5
 112              	.L10:
1456:./CMSIS/system_at32f4xx.c **** #endif
 113              		.loc 1 1456 5 is_stmt 1 view .LVU29
1456:./CMSIS/system_at32f4xx.c **** #endif
 114              		.loc 1 1456 16 is_stmt 0 view .LVU30
 115 004e 204B     		ldr	r3, .L11+4
 116 0050 40F25312 		movw	r2, #339
 117 0054 1A60     		str	r2, [r3]
1459:./CMSIS/system_at32f4xx.c **** 
 118              		.loc 1 1459 5 is_stmt 1 view .LVU31
1459:./CMSIS/system_at32f4xx.c **** 
 119              		.loc 1 1459 14 is_stmt 0 view .LVU32
 120 0056 1D4C     		ldr	r4, .L11
 121 0058 6368     		ldr	r3, [r4, #4]
 122 005a 6360     		str	r3, [r4, #4]
ARM GAS  /tmp/ccdnfZu7.s 			page 30


1471:./CMSIS/system_at32f4xx.c ****     RCC->CFG |= (uint32_t)RCC_CFG_APB2PSC_DIV1;
 123              		.loc 1 1471 5 is_stmt 1 view .LVU33
1471:./CMSIS/system_at32f4xx.c ****     RCC->CFG |= (uint32_t)RCC_CFG_APB2PSC_DIV1;
 124              		.loc 1 1471 14 is_stmt 0 view .LVU34
 125 005c 6368     		ldr	r3, [r4, #4]
 126 005e 23F46053 		bic	r3, r3, #14336
 127 0062 6360     		str	r3, [r4, #4]
1472:./CMSIS/system_at32f4xx.c **** 
 128              		.loc 1 1472 5 is_stmt 1 view .LVU35
1472:./CMSIS/system_at32f4xx.c **** 
 129              		.loc 1 1472 14 is_stmt 0 view .LVU36
 130 0064 6368     		ldr	r3, [r4, #4]
 131 0066 6360     		str	r3, [r4, #4]
1475:./CMSIS/system_at32f4xx.c ****     RCC->CFG |= (uint32_t)RCC_CFG_APB1PSC_DIV1;
 132              		.loc 1 1475 5 is_stmt 1 view .LVU37
1475:./CMSIS/system_at32f4xx.c ****     RCC->CFG |= (uint32_t)RCC_CFG_APB1PSC_DIV1;
 133              		.loc 1 1475 14 is_stmt 0 view .LVU38
 134 0068 6368     		ldr	r3, [r4, #4]
 135 006a 23F4E063 		bic	r3, r3, #1792
 136 006e 6360     		str	r3, [r4, #4]
1476:./CMSIS/system_at32f4xx.c **** #endif
 137              		.loc 1 1476 5 is_stmt 1 view .LVU39
1476:./CMSIS/system_at32f4xx.c **** #endif
 138              		.loc 1 1476 14 is_stmt 0 view .LVU40
 139 0070 6368     		ldr	r3, [r4, #4]
 140 0072 6360     		str	r3, [r4, #4]
1480:./CMSIS/system_at32f4xx.c **** 
 141              		.loc 1 1480 5 is_stmt 1 view .LVU41
1480:./CMSIS/system_at32f4xx.c **** 
 142              		.loc 1 1480 14 is_stmt 0 view .LVU42
 143 0074 6368     		ldr	r3, [r4, #4]
 144 0076 23F06043 		bic	r3, r3, #-536870912
 145 007a 23F47C13 		bic	r3, r3, #4128768
 146 007e 6360     		str	r3, [r4, #4]
1483:./CMSIS/system_at32f4xx.c **** #else
 147              		.loc 1 1483 5 is_stmt 1 view .LVU43
1483:./CMSIS/system_at32f4xx.c **** #else
 148              		.loc 1 1483 14 is_stmt 0 view .LVU44
 149 0080 6368     		ldr	r3, [r4, #4]
 150 0082 43F45413 		orr	r3, r3, #3473408
 151 0086 6360     		str	r3, [r4, #4]
1490:./CMSIS/system_at32f4xx.c **** #endif
 152              		.loc 1 1490 5 is_stmt 1 view .LVU45
 153 0088 1248     		ldr	r0, .L11+8
 154 008a FFF7FEFF 		bl	RCC_PLLFrefTableConfig
 155              	.LVL0:
1493:./CMSIS/system_at32f4xx.c **** 
 156              		.loc 1 1493 5 view .LVU46
1493:./CMSIS/system_at32f4xx.c **** 
 157              		.loc 1 1493 15 is_stmt 0 view .LVU47
 158 008e 2368     		ldr	r3, [r4]
 159 0090 43F08073 		orr	r3, r3, #16777216
 160 0094 2360     		str	r3, [r4]
1496:./CMSIS/system_at32f4xx.c ****     {
 161              		.loc 1 1496 5 is_stmt 1 view .LVU48
 162              	.L7:
1498:./CMSIS/system_at32f4xx.c **** #if defined (AT32F413xx) || defined (AT32F403Axx)|| \
ARM GAS  /tmp/ccdnfZu7.s 			page 31


 163              		.loc 1 1498 5 discriminator 1 view .LVU49
1496:./CMSIS/system_at32f4xx.c ****     {
 164              		.loc 1 1496 10 discriminator 1 view .LVU50
1496:./CMSIS/system_at32f4xx.c ****     {
 165              		.loc 1 1496 15 is_stmt 0 discriminator 1 view .LVU51
 166 0096 0D4B     		ldr	r3, .L11
 167 0098 1B68     		ldr	r3, [r3]
1496:./CMSIS/system_at32f4xx.c ****     {
 168              		.loc 1 1496 10 discriminator 1 view .LVU52
 169 009a 13F0007F 		tst	r3, #33554432
 170 009e FAD0     		beq	.L7
1502:./CMSIS/system_at32f4xx.c **** #endif
 171              		.loc 1 1502 5 is_stmt 1 view .LVU53
 172 00a0 0120     		movs	r0, #1
 173 00a2 FFF7FEFF 		bl	RCC_StepModeCmd
 174              	.LVL1:
1505:./CMSIS/system_at32f4xx.c ****     RCC->CFG |= (uint32_t)RCC_CFG_SYSCLKSEL_PLL;
 175              		.loc 1 1505 5 view .LVU54
1505:./CMSIS/system_at32f4xx.c ****     RCC->CFG |= (uint32_t)RCC_CFG_SYSCLKSEL_PLL;
 176              		.loc 1 1505 14 is_stmt 0 view .LVU55
 177 00a6 094B     		ldr	r3, .L11
 178 00a8 5A68     		ldr	r2, [r3, #4]
 179 00aa 22F00302 		bic	r2, r2, #3
 180 00ae 5A60     		str	r2, [r3, #4]
1506:./CMSIS/system_at32f4xx.c **** 
 181              		.loc 1 1506 5 is_stmt 1 view .LVU56
1506:./CMSIS/system_at32f4xx.c **** 
 182              		.loc 1 1506 14 is_stmt 0 view .LVU57
 183 00b0 5A68     		ldr	r2, [r3, #4]
 184 00b2 42F00202 		orr	r2, r2, #2
 185 00b6 5A60     		str	r2, [r3, #4]
1509:./CMSIS/system_at32f4xx.c ****     {
 186              		.loc 1 1509 5 is_stmt 1 view .LVU58
 187              	.L8:
1511:./CMSIS/system_at32f4xx.c **** #ifdef AT32F403xx
 188              		.loc 1 1511 5 discriminator 1 view .LVU59
1509:./CMSIS/system_at32f4xx.c ****     {
 189              		.loc 1 1509 11 discriminator 1 view .LVU60
1509:./CMSIS/system_at32f4xx.c ****     {
 190              		.loc 1 1509 16 is_stmt 0 discriminator 1 view .LVU61
 191 00b8 044B     		ldr	r3, .L11
 192 00ba 5B68     		ldr	r3, [r3, #4]
1509:./CMSIS/system_at32f4xx.c ****     {
 193              		.loc 1 1509 22 discriminator 1 view .LVU62
 194 00bc 03F00C03 		and	r3, r3, #12
1509:./CMSIS/system_at32f4xx.c ****     {
 195              		.loc 1 1509 11 discriminator 1 view .LVU63
 196 00c0 082B     		cmp	r3, #8
 197 00c2 F9D1     		bne	.L8
1518:./CMSIS/system_at32f4xx.c **** #endif
 198              		.loc 1 1518 5 is_stmt 1 view .LVU64
 199 00c4 0020     		movs	r0, #0
 200 00c6 FFF7FEFF 		bl	RCC_StepModeCmd
 201              	.LVL2:
1525:./CMSIS/system_at32f4xx.c **** }
 202              		.loc 1 1525 3 view .LVU65
 203              		.loc 1 1526 1 is_stmt 0 view .LVU66
ARM GAS  /tmp/ccdnfZu7.s 			page 32


 204 00ca BBE7     		b	.L1
 205              	.L12:
 206              		.align	2
 207              	.L11:
 208 00cc 00100240 		.word	1073876992
 209 00d0 00200240 		.word	1073881088
 210 00d4 00127A00 		.word	8000000
 211              		.cfi_endproc
 212              	.LFE126:
 214              		.section	.text.SetSysClock,"ax",%progbits
 215              		.align	1
 216              		.syntax unified
 217              		.thumb
 218              		.thumb_func
 219              		.fpu fpv4-sp-d16
 221              	SetSysClock:
 222              	.LFB125:
 551:./CMSIS/system_at32f4xx.c **** #ifdef SYSCLK_FREQ_HSE
 223              		.loc 1 551 1 is_stmt 1 view -0
 224              		.cfi_startproc
 225              		@ args = 0, pretend = 0, frame = 0
 226              		@ frame_needed = 0, uses_anonymous_args = 0
 227 0000 08B5     		push	{r3, lr}
 228              	.LCFI4:
 229              		.cfi_def_cfa_offset 8
 230              		.cfi_offset 3, -8
 231              		.cfi_offset 14, -4
 569:./CMSIS/system_at32f4xx.c **** #elif defined SYSCLK_FREQ_144MHz
 232              		.loc 1 569 3 view .LVU68
 233 0002 FFF7FEFF 		bl	SetSysClockTo120M
 234              	.LVL3:
 622:./CMSIS/system_at32f4xx.c **** 
 235              		.loc 1 622 1 is_stmt 0 view .LVU69
 236 0006 08BD     		pop	{r3, pc}
 237              		.cfi_endproc
 238              	.LFE125:
 240              		.section	.text.SystemInit,"ax",%progbits
 241              		.align	1
 242              		.global	SystemInit
 243              		.syntax unified
 244              		.thumb
 245              		.thumb_func
 246              		.fpu fpv4-sp-d16
 248              	SystemInit:
 249              	.LFB123:
 337:./CMSIS/system_at32f4xx.c **** #if defined (AT32F415xx)
 250              		.loc 1 337 1 is_stmt 1 view -0
 251              		.cfi_startproc
 252              		@ args = 0, pretend = 0, frame = 0
 253              		@ frame_needed = 0, uses_anonymous_args = 0
 254 0000 10B5     		push	{r4, lr}
 255              	.LCFI5:
 256              		.cfi_def_cfa_offset 8
 257              		.cfi_offset 4, -8
 258              		.cfi_offset 14, -4
 346:./CMSIS/system_at32f4xx.c ****                  (3U << 11U * 2U)  );       /* set CP11 Full Access */
 259              		.loc 1 346 3 view .LVU71
ARM GAS  /tmp/ccdnfZu7.s 			page 33


 346:./CMSIS/system_at32f4xx.c ****                  (3U << 11U * 2U)  );       /* set CP11 Full Access */
 260              		.loc 1 346 14 is_stmt 0 view .LVU72
 261 0002 164C     		ldr	r4, .L17
 262 0004 D4F88830 		ldr	r3, [r4, #136]
 263 0008 43F47003 		orr	r3, r3, #15728640
 264 000c C4F88830 		str	r3, [r4, #136]
 352:./CMSIS/system_at32f4xx.c **** 
 265              		.loc 1 352 3 is_stmt 1 view .LVU73
 266 0010 134B     		ldr	r3, .L17+4
 267 0012 1A68     		ldr	r2, [r3]
 268 0014 42F00102 		orr	r2, r2, #1
 269 0018 1A60     		str	r2, [r3]
 355:./CMSIS/system_at32f4xx.c ****             RCC_CFG_APB1PSC | RCC_CFG_APB2PSC | \
 270              		.loc 1 355 3 view .LVU74
 271 001a 5968     		ldr	r1, [r3, #4]
 272 001c 114A     		ldr	r2, .L17+8
 273 001e 0A40     		ands	r2, r2, r1
 274 0020 5A60     		str	r2, [r3, #4]
 360:./CMSIS/system_at32f4xx.c ****             RCC_CTRL_PLLEN);
 275              		.loc 1 360 3 view .LVU75
 276 0022 1A68     		ldr	r2, [r3]
 277 0024 22F08472 		bic	r2, r2, #17301504
 278 0028 22F48032 		bic	r2, r2, #65536
 279 002c 1A60     		str	r2, [r3]
 364:./CMSIS/system_at32f4xx.c **** 
 280              		.loc 1 364 3 view .LVU76
 281 002e 1A68     		ldr	r2, [r3]
 282 0030 22F48022 		bic	r2, r2, #262144
 283 0034 1A60     		str	r2, [r3]
 367:./CMSIS/system_at32f4xx.c ****             RCC_CFG_PLLMULT | RCC_CFG_USBPSC | RCC_CFG_PLLRANGE);
 284              		.loc 1 367 3 view .LVU77
 285 0036 5A68     		ldr	r2, [r3, #4]
 286 0038 22F06842 		bic	r2, r2, #-402653184
 287 003c 22F47F02 		bic	r2, r2, #16711680
 288 0040 5A60     		str	r2, [r3, #4]
 371:./CMSIS/system_at32f4xx.c **** 
 289              		.loc 1 371 3 view .LVU78
 290 0042 196B     		ldr	r1, [r3, #48]
 291 0044 084A     		ldr	r2, .L17+12
 292 0046 0A40     		ands	r2, r2, r1
 293 0048 1A63     		str	r2, [r3, #48]
 374:./CMSIS/system_at32f4xx.c ****                 RCC_CLKINT_HSISTBLFC | RCC_CLKINT_HSESTBLFC | \
 294              		.loc 1 374 3 view .LVU79
 374:./CMSIS/system_at32f4xx.c ****                 RCC_CLKINT_HSISTBLFC | RCC_CLKINT_HSESTBLFC | \
 295              		.loc 1 374 15 is_stmt 0 view .LVU80
 296 004a 4FF41F02 		mov	r2, #10420224
 297 004e 9A60     		str	r2, [r3, #8]
 384:./CMSIS/system_at32f4xx.c **** 
 298              		.loc 1 384 3 is_stmt 1 view .LVU81
 299 0050 FFF7FEFF 		bl	SetSysClock
 300              	.LVL4:
 389:./CMSIS/system_at32f4xx.c **** #endif
 301              		.loc 1 389 3 view .LVU82
 389:./CMSIS/system_at32f4xx.c **** #endif
 302              		.loc 1 389 13 is_stmt 0 view .LVU83
 303 0054 4FF00063 		mov	r3, #134217728
 304 0058 A360     		str	r3, [r4, #8]
ARM GAS  /tmp/ccdnfZu7.s 			page 34


 391:./CMSIS/system_at32f4xx.c **** 
 305              		.loc 1 391 1 view .LVU84
 306 005a 10BD     		pop	{r4, pc}
 307              	.L18:
 308              		.align	2
 309              	.L17:
 310 005c 00ED00E0 		.word	-536810240
 311 0060 00100240 		.word	1073876992
 312 0064 0C00FFE8 		.word	-385941492
 313 0068 00FFFEFE 		.word	-16843008
 314              		.cfi_endproc
 315              	.LFE123:
 317              		.section	.text.SystemCoreClockUpdate,"ax",%progbits
 318              		.align	1
 319              		.global	SystemCoreClockUpdate
 320              		.syntax unified
 321              		.thumb
 322              		.thumb_func
 323              		.fpu fpv4-sp-d16
 325              	SystemCoreClockUpdate:
 326              	.LFB124:
 429:./CMSIS/system_at32f4xx.c ****   uint32_t tmp = 0, pllmult = 0, pllrefclk = 0, tempcfg = 0;
 327              		.loc 1 429 1 is_stmt 1 view -0
 328              		.cfi_startproc
 329              		@ args = 0, pretend = 0, frame = 0
 330              		@ frame_needed = 0, uses_anonymous_args = 0
 331              		@ link register save eliminated.
 332 0000 10B4     		push	{r4}
 333              	.LCFI6:
 334              		.cfi_def_cfa_offset 4
 335              		.cfi_offset 4, -4
 430:./CMSIS/system_at32f4xx.c **** 
 336              		.loc 1 430 3 view .LVU86
 337              	.LVL5:
 433:./CMSIS/system_at32f4xx.c ****   uint32_t pllsrcfreq = 0, retfr = 0; 
 338              		.loc 1 433 3 view .LVU87
 434:./CMSIS/system_at32f4xx.c **** #endif
 339              		.loc 1 434 3 view .LVU88
 440:./CMSIS/system_at32f4xx.c **** 
 340              		.loc 1 440 3 view .LVU89
 440:./CMSIS/system_at32f4xx.c **** 
 341              		.loc 1 440 12 is_stmt 0 view .LVU90
 342 0002 4C4B     		ldr	r3, .L46
 343 0004 5B68     		ldr	r3, [r3, #4]
 440:./CMSIS/system_at32f4xx.c **** 
 344              		.loc 1 440 7 view .LVU91
 345 0006 03F00C03 		and	r3, r3, #12
 346              	.LVL6:
 442:./CMSIS/system_at32f4xx.c ****   {
 347              		.loc 1 442 3 is_stmt 1 view .LVU92
 348 000a 042B     		cmp	r3, #4
 349 000c 1BD0     		beq	.L20
 350 000e 082B     		cmp	r3, #8
 351 0010 2AD0     		beq	.L21
 352 0012 1BB1     		cbz	r3, .L43
 534:./CMSIS/system_at32f4xx.c ****     break;
 353              		.loc 1 534 5 view .LVU93
ARM GAS  /tmp/ccdnfZu7.s 			page 35


 534:./CMSIS/system_at32f4xx.c ****     break;
 354              		.loc 1 534 21 is_stmt 0 view .LVU94
 355 0014 484B     		ldr	r3, .L46+4
 356              	.LVL7:
 534:./CMSIS/system_at32f4xx.c ****     break;
 357              		.loc 1 534 21 view .LVU95
 358 0016 494A     		ldr	r2, .L46+8
 359 0018 1A60     		str	r2, [r3]
 535:./CMSIS/system_at32f4xx.c ****   }
 360              		.loc 1 535 5 is_stmt 1 view .LVU96
 361 001a 17E0     		b	.L24
 362              	.LVL8:
 363              	.L43:
 446:./CMSIS/system_at32f4xx.c ****       SystemCoreClock = HSI_VALUE * 6;
 364              		.loc 1 446 5 view .LVU97
 446:./CMSIS/system_at32f4xx.c ****       SystemCoreClock = HSI_VALUE * 6;
 365              		.loc 1 446 8 is_stmt 0 view .LVU98
 366 001c 03F18043 		add	r3, r3, #1073741824
 367              	.LVL9:
 446:./CMSIS/system_at32f4xx.c ****       SystemCoreClock = HSI_VALUE * 6;
 368              		.loc 1 446 8 view .LVU99
 369 0020 03F50433 		add	r3, r3, #135168
 370              	.LVL10:
 446:./CMSIS/system_at32f4xx.c ****       SystemCoreClock = HSI_VALUE * 6;
 371              		.loc 1 446 8 view .LVU100
 372 0024 1B6B     		ldr	r3, [r3, #48]
 373              	.LVL11:
 446:./CMSIS/system_at32f4xx.c ****       SystemCoreClock = HSI_VALUE * 6;
 374              		.loc 1 446 7 view .LVU101
 375 0026 13F0007F 		tst	r3, #33554432
 376 002a 08D0     		beq	.L23
 446:./CMSIS/system_at32f4xx.c ****       SystemCoreClock = HSI_VALUE * 6;
 377              		.loc 1 446 47 discriminator 1 view .LVU102
 378 002c 414B     		ldr	r3, .L46
 379 002e 5B6D     		ldr	r3, [r3, #84]
 446:./CMSIS/system_at32f4xx.c ****       SystemCoreClock = HSI_VALUE * 6;
 380              		.loc 1 446 44 discriminator 1 view .LVU103
 381 0030 13F4007F 		tst	r3, #512
 382 0034 03D0     		beq	.L23
 447:./CMSIS/system_at32f4xx.c ****     else
 383              		.loc 1 447 7 is_stmt 1 view .LVU104
 447:./CMSIS/system_at32f4xx.c ****     else
 384              		.loc 1 447 23 is_stmt 0 view .LVU105
 385 0036 404B     		ldr	r3, .L46+4
 386 0038 414A     		ldr	r2, .L46+12
 387 003a 1A60     		str	r2, [r3]
 388 003c 06E0     		b	.L24
 389              	.L23:
 449:./CMSIS/system_at32f4xx.c **** #else
 390              		.loc 1 449 7 is_stmt 1 view .LVU106
 449:./CMSIS/system_at32f4xx.c **** #else
 391              		.loc 1 449 23 is_stmt 0 view .LVU107
 392 003e 3E4B     		ldr	r3, .L46+4
 393 0040 3E4A     		ldr	r2, .L46+8
 394 0042 1A60     		str	r2, [r3]
 395 0044 02E0     		b	.L24
 396              	.LVL12:
ARM GAS  /tmp/ccdnfZu7.s 			page 36


 397              	.L20:
 456:./CMSIS/system_at32f4xx.c ****     break;
 398              		.loc 1 456 5 is_stmt 1 view .LVU108
 456:./CMSIS/system_at32f4xx.c ****     break;
 399              		.loc 1 456 21 is_stmt 0 view .LVU109
 400 0046 3C4B     		ldr	r3, .L46+4
 401              	.LVL13:
 456:./CMSIS/system_at32f4xx.c ****     break;
 402              		.loc 1 456 21 view .LVU110
 403 0048 3C4A     		ldr	r2, .L46+8
 404 004a 1A60     		str	r2, [r3]
 457:./CMSIS/system_at32f4xx.c **** 
 405              		.loc 1 457 5 is_stmt 1 view .LVU111
 406              	.LVL14:
 407              	.L24:
 540:./CMSIS/system_at32f4xx.c ****   /* HCLK clock frequency */
 408              		.loc 1 540 3 view .LVU112
 540:./CMSIS/system_at32f4xx.c ****   /* HCLK clock frequency */
 409              		.loc 1 540 26 is_stmt 0 view .LVU113
 410 004c 394B     		ldr	r3, .L46
 411 004e 5B68     		ldr	r3, [r3, #4]
 540:./CMSIS/system_at32f4xx.c ****   /* HCLK clock frequency */
 412              		.loc 1 540 50 view .LVU114
 413 0050 C3F30313 		ubfx	r3, r3, #4, #4
 540:./CMSIS/system_at32f4xx.c ****   /* HCLK clock frequency */
 414              		.loc 1 540 20 view .LVU115
 415 0054 3B4A     		ldr	r2, .L46+16
 416 0056 D35C     		ldrb	r3, [r2, r3]	@ zero_extendqisi2
 417 0058 DAB2     		uxtb	r2, r3
 418              	.LVL15:
 542:./CMSIS/system_at32f4xx.c **** }
 419              		.loc 1 542 3 is_stmt 1 view .LVU116
 542:./CMSIS/system_at32f4xx.c **** }
 420              		.loc 1 542 19 is_stmt 0 view .LVU117
 421 005a 3749     		ldr	r1, .L46+4
 422 005c 0B68     		ldr	r3, [r1]
 423 005e D340     		lsrs	r3, r3, r2
 424 0060 0B60     		str	r3, [r1]
 543:./CMSIS/system_at32f4xx.c **** 
 425              		.loc 1 543 1 view .LVU118
 426 0062 5DF8044B 		ldr	r4, [sp], #4
 427              	.LCFI7:
 428              		.cfi_remember_state
 429              		.cfi_restore 4
 430              		.cfi_def_cfa_offset 0
 431 0066 7047     		bx	lr
 432              	.LVL16:
 433              	.L21:
 434              	.LCFI8:
 435              		.cfi_restore_state
 461:./CMSIS/system_at32f4xx.c ****     tempcfg = RCC->CFG;
 436              		.loc 1 461 5 is_stmt 1 view .LVU119
 461:./CMSIS/system_at32f4xx.c ****     tempcfg = RCC->CFG;
 437              		.loc 1 461 20 is_stmt 0 view .LVU120
 438 0068 324A     		ldr	r2, .L46
 439 006a 5468     		ldr	r4, [r2, #4]
 461:./CMSIS/system_at32f4xx.c ****     tempcfg = RCC->CFG;
ARM GAS  /tmp/ccdnfZu7.s 			page 37


 440              		.loc 1 461 15 view .LVU121
 441 006c 04F48034 		and	r4, r4, #65536
 442              	.LVL17:
 462:./CMSIS/system_at32f4xx.c ****     pllmult = RCC_GET_PLLMULT(tempcfg);
 443              		.loc 1 462 5 is_stmt 1 view .LVU122
 462:./CMSIS/system_at32f4xx.c ****     pllmult = RCC_GET_PLLMULT(tempcfg);
 444              		.loc 1 462 13 is_stmt 0 view .LVU123
 445 0070 5168     		ldr	r1, [r2, #4]
 446              	.LVL18:
 463:./CMSIS/system_at32f4xx.c **** 
 447              		.loc 1 463 5 is_stmt 1 view .LVU124
 467:./CMSIS/system_at32f4xx.c **** 
 448              		.loc 1 467 5 view .LVU125
 467:./CMSIS/system_at32f4xx.c **** 
 449              		.loc 1 467 16 is_stmt 0 view .LVU126
 450 0072 D26A     		ldr	r2, [r2, #44]
 451              	.LVL19:
 469:./CMSIS/system_at32f4xx.c ****     {
 452              		.loc 1 469 5 is_stmt 1 view .LVU127
 469:./CMSIS/system_at32f4xx.c ****     {
 453              		.loc 1 469 7 is_stmt 0 view .LVU128
 454 0074 002A     		cmp	r2, #0
 455 0076 11DB     		blt	.L44
 501:./CMSIS/system_at32f4xx.c ****       pllmult = RCC_GET_PLLMULT(pllmult);
 456              		.loc 1 501 7 is_stmt 1 view .LVU129
 501:./CMSIS/system_at32f4xx.c ****       pllmult = RCC_GET_PLLMULT(pllmult);
 457              		.loc 1 501 17 is_stmt 0 view .LVU130
 458 0078 2E4B     		ldr	r3, .L46
 459              	.LVL20:
 501:./CMSIS/system_at32f4xx.c ****       pllmult = RCC_GET_PLLMULT(pllmult);
 460              		.loc 1 501 17 view .LVU131
 461 007a 5A68     		ldr	r2, [r3, #4]
 462              	.LVL21:
 501:./CMSIS/system_at32f4xx.c ****       pllmult = RCC_GET_PLLMULT(pllmult);
 463              		.loc 1 501 15 view .LVU132
 464 007c 3249     		ldr	r1, .L46+20
 465 007e 1140     		ands	r1, r1, r2
 466              	.LVL22:
 502:./CMSIS/system_at32f4xx.c ****   
 467              		.loc 1 502 7 is_stmt 1 view .LVU133
 502:./CMSIS/system_at32f4xx.c ****   
 468              		.loc 1 502 17 is_stmt 0 view .LVU134
 469 0080 C1F38343 		ubfx	r3, r1, #18, #4
 470 0084 43EA5163 		orr	r3, r3, r1, lsr #25
 471 0088 12F0C04F 		tst	r2, #1610612736
 472 008c 37D1     		bne	.L40
 502:./CMSIS/system_at32f4xx.c ****   
 473              		.loc 1 502 17 discriminator 1 view .LVU135
 474 008e 02F47012 		and	r2, r2, #3932160
 475 0092 B2F5701F 		cmp	r2, #3932160
 476 0096 30D0     		beq	.L45
 502:./CMSIS/system_at32f4xx.c ****   
 477              		.loc 1 502 17 view .LVU136
 478 0098 0222     		movs	r2, #2
 479 009a 31E0     		b	.L34
 480              	.LVL23:
 481              	.L44:
ARM GAS  /tmp/ccdnfZu7.s 			page 38


 471:./CMSIS/system_at32f4xx.c ****       pllms = BIT_READ(RCC->PLL, PLL_MS_MASK);
 482              		.loc 1 471 7 is_stmt 1 view .LVU137
 471:./CMSIS/system_at32f4xx.c ****       pllms = BIT_READ(RCC->PLL, PLL_MS_MASK);
 483              		.loc 1 471 15 is_stmt 0 view .LVU138
 484 009c 2549     		ldr	r1, .L46
 485 009e CA6A     		ldr	r2, [r1, #44]
 486              	.LVL24:
 472:./CMSIS/system_at32f4xx.c ****       pllfr = BIT_READ(RCC->PLL, PLL_FR_MASK);
 487              		.loc 1 472 7 is_stmt 1 view .LVU139
 472:./CMSIS/system_at32f4xx.c ****       pllfr = BIT_READ(RCC->PLL, PLL_FR_MASK);
 488              		.loc 1 472 15 is_stmt 0 view .LVU140
 489 00a0 C86A     		ldr	r0, [r1, #44]
 490              	.LVL25:
 473:./CMSIS/system_at32f4xx.c **** 
 491              		.loc 1 473 7 is_stmt 1 view .LVU141
 473:./CMSIS/system_at32f4xx.c **** 
 492              		.loc 1 473 15 is_stmt 0 view .LVU142
 493 00a2 C96A     		ldr	r1, [r1, #44]
 473:./CMSIS/system_at32f4xx.c **** 
 494              		.loc 1 473 13 view .LVU143
 495 00a4 01F00701 		and	r1, r1, #7
 496              	.LVL26:
 475:./CMSIS/system_at32f4xx.c **** 
 497              		.loc 1 475 7 is_stmt 1 view .LVU144
 475:./CMSIS/system_at32f4xx.c **** 
 498              		.loc 1 475 7 view .LVU145
 499 00a8 0139     		subs	r1, r1, #1
 500              	.LVL27:
 475:./CMSIS/system_at32f4xx.c **** 
 501              		.loc 1 475 7 is_stmt 0 view .LVU146
 502 00aa 0429     		cmp	r1, #4
 503 00ac 04D8     		bhi	.L26
 504 00ae DFE801F0 		tbb	[pc, r1]
 505              	.L28:
 506 00b2 0B       		.byte	(.L37-.L28)/2
 507 00b3 05       		.byte	(.L31-.L28)/2
 508 00b4 0C       		.byte	(.L32-.L28)/2
 509 00b5 07       		.byte	(.L29-.L28)/2
 510 00b6 09       		.byte	(.L27-.L28)/2
 511 00b7 00       		.p2align 1
 512              	.L26:
 513 00b8 0123     		movs	r3, #1
 514              	.LVL28:
 475:./CMSIS/system_at32f4xx.c **** 
 515              		.loc 1 475 7 view .LVU147
 516 00ba 06E0     		b	.L32
 517              	.LVL29:
 518              	.L31:
 475:./CMSIS/system_at32f4xx.c **** 
 519              		.loc 1 475 7 is_stmt 1 discriminator 3 view .LVU148
 475:./CMSIS/system_at32f4xx.c **** 
 520              		.loc 1 475 7 discriminator 3 view .LVU149
 521 00bc 0423     		movs	r3, #4
 522              	.LVL30:
 475:./CMSIS/system_at32f4xx.c **** 
 523              		.loc 1 475 7 is_stmt 0 discriminator 3 view .LVU150
 524 00be 04E0     		b	.L32
ARM GAS  /tmp/ccdnfZu7.s 			page 39


 525              	.LVL31:
 526              	.L29:
 475:./CMSIS/system_at32f4xx.c **** 
 527              		.loc 1 475 7 is_stmt 1 discriminator 5 view .LVU151
 475:./CMSIS/system_at32f4xx.c **** 
 528              		.loc 1 475 7 discriminator 5 view .LVU152
 529 00c0 1023     		movs	r3, #16
 530              	.LVL32:
 475:./CMSIS/system_at32f4xx.c **** 
 531              		.loc 1 475 7 is_stmt 0 discriminator 5 view .LVU153
 532 00c2 02E0     		b	.L32
 533              	.LVL33:
 534              	.L27:
 475:./CMSIS/system_at32f4xx.c **** 
 535              		.loc 1 475 7 is_stmt 1 discriminator 6 view .LVU154
 475:./CMSIS/system_at32f4xx.c **** 
 536              		.loc 1 475 7 discriminator 6 view .LVU155
 537 00c4 2023     		movs	r3, #32
 538              	.LVL34:
 475:./CMSIS/system_at32f4xx.c **** 
 539              		.loc 1 475 7 is_stmt 0 discriminator 6 view .LVU156
 540 00c6 00E0     		b	.L32
 541              	.LVL35:
 542              	.L37:
 475:./CMSIS/system_at32f4xx.c **** 
 543              		.loc 1 475 7 view .LVU157
 544 00c8 0223     		movs	r3, #2
 545              	.LVL36:
 546              	.L32:
 475:./CMSIS/system_at32f4xx.c **** 
 547              		.loc 1 475 7 is_stmt 1 discriminator 1 view .LVU158
 477:./CMSIS/system_at32f4xx.c ****       {
 548              		.loc 1 477 7 discriminator 1 view .LVU159
 477:./CMSIS/system_at32f4xx.c ****       {
 549              		.loc 1 477 10 is_stmt 0 discriminator 1 view .LVU160
 550 00ca 34B1     		cbz	r4, .L38
 485:./CMSIS/system_at32f4xx.c ****         {
 551              		.loc 1 485 9 is_stmt 1 view .LVU161
 485:./CMSIS/system_at32f4xx.c ****         {
 552              		.loc 1 485 17 is_stmt 0 view .LVU162
 553 00cc 1949     		ldr	r1, .L46
 554              	.LVL37:
 485:./CMSIS/system_at32f4xx.c ****         {
 555              		.loc 1 485 17 view .LVU163
 556 00ce 4968     		ldr	r1, [r1, #4]
 485:./CMSIS/system_at32f4xx.c ****         {
 557              		.loc 1 485 12 view .LVU164
 558 00d0 11F4003F 		tst	r1, #131072
 559 00d4 0FD0     		beq	.L39
 487:./CMSIS/system_at32f4xx.c ****         }
 560              		.loc 1 487 22 view .LVU165
 561 00d6 1D49     		ldr	r1, .L46+24
 562 00d8 00E0     		b	.L33
 563              	.LVL38:
 564              	.L38:
 480:./CMSIS/system_at32f4xx.c ****       }
 565              		.loc 1 480 20 view .LVU166
ARM GAS  /tmp/ccdnfZu7.s 			page 40


 566 00da 1C49     		ldr	r1, .L46+24
 567              	.LVL39:
 568              	.L33:
 495:./CMSIS/system_at32f4xx.c ****       ((pllms >> PLL_MS_POS) * retfr);
 569              		.loc 1 495 7 is_stmt 1 view .LVU167
 495:./CMSIS/system_at32f4xx.c ****       ((pllms >> PLL_MS_POS) * retfr);
 570              		.loc 1 495 46 is_stmt 0 view .LVU168
 571 00dc C2F30722 		ubfx	r2, r2, #8, #8
 572              	.LVL40:
 495:./CMSIS/system_at32f4xx.c ****       ((pllms >> PLL_MS_POS) * retfr);
 573              		.loc 1 495 37 view .LVU169
 574 00e0 01FB02F2 		mul	r2, r1, r2
 496:./CMSIS/system_at32f4xx.c ****     }else
 575              		.loc 1 496 15 view .LVU170
 576 00e4 C0F30311 		ubfx	r1, r0, #4, #4
 577              	.LVL41:
 496:./CMSIS/system_at32f4xx.c ****     }else
 578              		.loc 1 496 30 view .LVU171
 579 00e8 01FB03F3 		mul	r3, r1, r3
 580              	.LVL42:
 495:./CMSIS/system_at32f4xx.c ****       ((pllms >> PLL_MS_POS) * retfr);
 581              		.loc 1 495 62 view .LVU172
 582 00ec B2FBF3F3 		udiv	r3, r2, r3
 495:./CMSIS/system_at32f4xx.c ****       ((pllms >> PLL_MS_POS) * retfr);
 583              		.loc 1 495 23 view .LVU173
 584 00f0 114A     		ldr	r2, .L46+4
 585 00f2 1360     		str	r3, [r2]
 586 00f4 AAE7     		b	.L24
 587              	.LVL43:
 588              	.L39:
 491:./CMSIS/system_at32f4xx.c ****         }
 589              		.loc 1 491 22 view .LVU174
 590 00f6 1149     		ldr	r1, .L46+8
 591 00f8 F0E7     		b	.L33
 592              	.LVL44:
 593              	.L45:
 502:./CMSIS/system_at32f4xx.c ****   
 594              		.loc 1 502 17 view .LVU175
 595 00fa 0122     		movs	r2, #1
 596 00fc 00E0     		b	.L34
 597              	.L40:
 598 00fe 0122     		movs	r2, #1
 599              	.L34:
 502:./CMSIS/system_at32f4xx.c ****   
 600              		.loc 1 502 15 discriminator 6 view .LVU176
 601 0100 1344     		add	r3, r3, r2
 602              	.LVL45:
 504:./CMSIS/system_at32f4xx.c ****       {
 603              		.loc 1 504 7 is_stmt 1 discriminator 6 view .LVU177
 504:./CMSIS/system_at32f4xx.c ****       {
 604              		.loc 1 504 10 is_stmt 0 discriminator 6 view .LVU178
 605 0102 2CB9     		cbnz	r4, .L35
 507:./CMSIS/system_at32f4xx.c ****       }
 606              		.loc 1 507 9 is_stmt 1 view .LVU179
 507:./CMSIS/system_at32f4xx.c ****       }
 607              		.loc 1 507 44 is_stmt 0 view .LVU180
 608 0104 114A     		ldr	r2, .L46+24
ARM GAS  /tmp/ccdnfZu7.s 			page 41


 609 0106 02FB03F3 		mul	r3, r2, r3
 610              	.LVL46:
 507:./CMSIS/system_at32f4xx.c ****       }
 611              		.loc 1 507 25 view .LVU181
 612 010a 0B4A     		ldr	r2, .L46+4
 613 010c 1360     		str	r3, [r2]
 614 010e 9DE7     		b	.L24
 615              	.LVL47:
 616              	.L35:
 512:./CMSIS/system_at32f4xx.c ****         {
 617              		.loc 1 512 9 is_stmt 1 view .LVU182
 512:./CMSIS/system_at32f4xx.c ****         {
 618              		.loc 1 512 17 is_stmt 0 view .LVU183
 619 0110 084A     		ldr	r2, .L46
 620 0112 5268     		ldr	r2, [r2, #4]
 512:./CMSIS/system_at32f4xx.c ****         {
 621              		.loc 1 512 12 view .LVU184
 622 0114 12F4003F 		tst	r2, #131072
 623 0118 05D0     		beq	.L36
 521:./CMSIS/system_at32f4xx.c **** #endif
 624              		.loc 1 521 11 is_stmt 1 view .LVU185
 521:./CMSIS/system_at32f4xx.c **** #endif
 625              		.loc 1 521 46 is_stmt 0 view .LVU186
 626 011a 0C4A     		ldr	r2, .L46+24
 627 011c 02FB03F3 		mul	r3, r2, r3
 628              	.LVL48:
 521:./CMSIS/system_at32f4xx.c **** #endif
 629              		.loc 1 521 27 view .LVU187
 630 0120 054A     		ldr	r2, .L46+4
 631 0122 1360     		str	r3, [r2]
 632 0124 92E7     		b	.L24
 633              	.LVL49:
 634              	.L36:
 526:./CMSIS/system_at32f4xx.c ****         }
 635              		.loc 1 526 11 is_stmt 1 view .LVU188
 526:./CMSIS/system_at32f4xx.c ****         }
 636              		.loc 1 526 39 is_stmt 0 view .LVU189
 637 0126 054A     		ldr	r2, .L46+8
 638 0128 02FB03F3 		mul	r3, r2, r3
 639              	.LVL50:
 526:./CMSIS/system_at32f4xx.c ****         }
 640              		.loc 1 526 27 view .LVU190
 641 012c 024A     		ldr	r2, .L46+4
 642 012e 1360     		str	r3, [r2]
 643 0130 8CE7     		b	.L24
 644              	.L47:
 645 0132 00BF     		.align	2
 646              	.L46:
 647 0134 00100240 		.word	1073876992
 648 0138 00000000 		.word	.LANCHOR0
 649 013c 00127A00 		.word	8000000
 650 0140 006CDC02 		.word	48000000
 651 0144 00000000 		.word	.LANCHOR1
 652 0148 00003C60 		.word	1614544896
 653 014c 00093D00 		.word	4000000
 654              		.cfi_endproc
 655              	.LFE124:
ARM GAS  /tmp/ccdnfZu7.s 			page 42


 657              		.global	AHBPscTable
 658              		.global	SystemCoreClock
 659              		.section	.data.AHBPscTable,"aw"
 660              		.align	2
 661              		.set	.LANCHOR1,. + 0
 664              	AHBPscTable:
 665 0000 00000000 		.ascii	"\000\000\000\000\000\000\000\000\001\002\003\004\006"
 665      00000000 
 665      01020304 
 665      06
 666 000d 070809   		.ascii	"\007\010\011"
 667              		.section	.data.SystemCoreClock,"aw"
 668              		.align	2
 669              		.set	.LANCHOR0,. + 0
 672              	SystemCoreClock:
 673 0000 000E2707 		.word	120000000
 674              		.text
 675              	.Letext0:
 676              		.file 2 "/usr/lib/gcc/arm-none-eabi/10.3.1/include/stdint.h"
 677              		.file 3 "./CMSIS/core_cm4.h"
 678              		.file 4 "./CMSIS/at32f4xx.h"
 679              		.file 5 "./CMSIS/system_at32f4xx.h"
 680              		.file 6 "lib/inc/at32f4xx_rcc.h"
ARM GAS  /tmp/ccdnfZu7.s 			page 43


DEFINED SYMBOLS
                            *ABS*:0000000000000000 system_at32f4xx.c
     /tmp/ccdnfZu7.s:18     .text.SetSysClockTo120M:0000000000000000 $t
     /tmp/ccdnfZu7.s:25     .text.SetSysClockTo120M:0000000000000000 SetSysClockTo120M
     /tmp/ccdnfZu7.s:208    .text.SetSysClockTo120M:00000000000000cc $d
     /tmp/ccdnfZu7.s:215    .text.SetSysClock:0000000000000000 $t
     /tmp/ccdnfZu7.s:221    .text.SetSysClock:0000000000000000 SetSysClock
     /tmp/ccdnfZu7.s:241    .text.SystemInit:0000000000000000 $t
     /tmp/ccdnfZu7.s:248    .text.SystemInit:0000000000000000 SystemInit
     /tmp/ccdnfZu7.s:310    .text.SystemInit:000000000000005c $d
     /tmp/ccdnfZu7.s:318    .text.SystemCoreClockUpdate:0000000000000000 $t
     /tmp/ccdnfZu7.s:325    .text.SystemCoreClockUpdate:0000000000000000 SystemCoreClockUpdate
     /tmp/ccdnfZu7.s:506    .text.SystemCoreClockUpdate:00000000000000b2 $d
     /tmp/ccdnfZu7.s:647    .text.SystemCoreClockUpdate:0000000000000134 $d
     /tmp/ccdnfZu7.s:664    .data.AHBPscTable:0000000000000000 AHBPscTable
     /tmp/ccdnfZu7.s:672    .data.SystemCoreClock:0000000000000000 SystemCoreClock
     /tmp/ccdnfZu7.s:660    .data.AHBPscTable:0000000000000000 $d
     /tmp/ccdnfZu7.s:668    .data.SystemCoreClock:0000000000000000 $d
     /tmp/ccdnfZu7.s:511    .text.SystemCoreClockUpdate:00000000000000b7 $d
     /tmp/ccdnfZu7.s:511    .text.SystemCoreClockUpdate:00000000000000b8 $t

UNDEFINED SYMBOLS
RCC_PLLFrefTableConfig
RCC_StepModeCmd
