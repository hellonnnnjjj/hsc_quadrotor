ARM GAS  /tmp/cctayums.s 			page 1


   1              		.cpu cortex-m4
   2              		.eabi_attribute 27, 1
   3              		.eabi_attribute 28, 1
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"at32f4xx_i2c.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.section	.text.I2C_DeInit,"ax",%progbits
  18              		.align	1
  19              		.global	I2C_DeInit
  20              		.arch armv7e-m
  21              		.syntax unified
  22              		.thumb
  23              		.thumb_func
  24              		.fpu fpv4-sp-d16
  26              	I2C_DeInit:
  27              	.LVL0:
  28              	.LFB123:
  29              		.file 1 "./lib/src/at32f4xx_i2c.c"
   1:./lib/src/at32f4xx_i2c.c **** /**
   2:./lib/src/at32f4xx_i2c.c ****   **************************************************************************
   3:./lib/src/at32f4xx_i2c.c ****   * File   : at32f4xx_i2c.c
   4:./lib/src/at32f4xx_i2c.c ****   * Version: V1.2.4
   5:./lib/src/at32f4xx_i2c.c ****   * Date   : 2020-08-26
   6:./lib/src/at32f4xx_i2c.c ****   * Brief  : at32f4xx I2C source file
   7:./lib/src/at32f4xx_i2c.c ****   **************************************************************************
   8:./lib/src/at32f4xx_i2c.c ****   */
   9:./lib/src/at32f4xx_i2c.c **** 
  10:./lib/src/at32f4xx_i2c.c **** 
  11:./lib/src/at32f4xx_i2c.c **** /* Includes ------------------------------------------------------------------*/
  12:./lib/src/at32f4xx_i2c.c **** #include "at32f4xx_i2c.h"
  13:./lib/src/at32f4xx_i2c.c **** #include "at32f4xx_rcc.h"
  14:./lib/src/at32f4xx_i2c.c **** 
  15:./lib/src/at32f4xx_i2c.c **** 
  16:./lib/src/at32f4xx_i2c.c **** /** @addtogroup at32f4xx_StdPeriph_Driver
  17:./lib/src/at32f4xx_i2c.c ****   * @{
  18:./lib/src/at32f4xx_i2c.c ****   */
  19:./lib/src/at32f4xx_i2c.c **** 
  20:./lib/src/at32f4xx_i2c.c **** /** @defgroup I2C
  21:./lib/src/at32f4xx_i2c.c ****   * @brief I2C driver modules
  22:./lib/src/at32f4xx_i2c.c ****   * @{
  23:./lib/src/at32f4xx_i2c.c ****   */
  24:./lib/src/at32f4xx_i2c.c **** 
  25:./lib/src/at32f4xx_i2c.c **** /** @defgroup I2C_Private_TypesDefinitions
  26:./lib/src/at32f4xx_i2c.c ****   * @{
  27:./lib/src/at32f4xx_i2c.c ****   */
  28:./lib/src/at32f4xx_i2c.c **** 
  29:./lib/src/at32f4xx_i2c.c **** /**
ARM GAS  /tmp/cctayums.s 			page 2


  30:./lib/src/at32f4xx_i2c.c ****   * @}
  31:./lib/src/at32f4xx_i2c.c ****   */
  32:./lib/src/at32f4xx_i2c.c **** 
  33:./lib/src/at32f4xx_i2c.c **** /** @defgroup I2C_Private_Defines
  34:./lib/src/at32f4xx_i2c.c ****   * @{
  35:./lib/src/at32f4xx_i2c.c ****   */
  36:./lib/src/at32f4xx_i2c.c **** 
  37:./lib/src/at32f4xx_i2c.c **** /* I2C SPE mask */
  38:./lib/src/at32f4xx_i2c.c **** #define CTRL1_PEN_Set               ((uint16_t)0x0001)
  39:./lib/src/at32f4xx_i2c.c **** #define CTRL1_PEN_Reset             ((uint16_t)0xFFFE)
  40:./lib/src/at32f4xx_i2c.c **** 
  41:./lib/src/at32f4xx_i2c.c **** /* I2C START mask */
  42:./lib/src/at32f4xx_i2c.c **** #define CTRL1_STARTGEN_Set          ((uint16_t)0x0100)
  43:./lib/src/at32f4xx_i2c.c **** #define CTRL1_STARTGEN_Reset        ((uint16_t)0xFEFF)
  44:./lib/src/at32f4xx_i2c.c **** 
  45:./lib/src/at32f4xx_i2c.c **** /* I2C STOP mask */
  46:./lib/src/at32f4xx_i2c.c **** #define CTRL1_STOPGEN_Set           ((uint16_t)0x0200)
  47:./lib/src/at32f4xx_i2c.c **** #define CTRL1_STOPGEN_Reset         ((uint16_t)0xFDFF)
  48:./lib/src/at32f4xx_i2c.c **** 
  49:./lib/src/at32f4xx_i2c.c **** /* I2C ACK mask */
  50:./lib/src/at32f4xx_i2c.c **** #define CTRL1_ACKEN_Set             ((uint16_t)0x0400)
  51:./lib/src/at32f4xx_i2c.c **** #define CTRL1_ACKEN_Reset           ((uint16_t)0xFBFF)
  52:./lib/src/at32f4xx_i2c.c **** 
  53:./lib/src/at32f4xx_i2c.c **** /* I2C ENGC mask */
  54:./lib/src/at32f4xx_i2c.c **** #define CTRL1_GCEN_Set              ((uint16_t)0x0040)
  55:./lib/src/at32f4xx_i2c.c **** #define CTRL1_GCEN_Reset            ((uint16_t)0xFFBF)
  56:./lib/src/at32f4xx_i2c.c **** 
  57:./lib/src/at32f4xx_i2c.c **** /* I2C SWRST mask */
  58:./lib/src/at32f4xx_i2c.c **** #define CTRL1_SWRESET_Set           ((uint16_t)0x8000)
  59:./lib/src/at32f4xx_i2c.c **** #define CTRL1_SWRESET_Reset         ((uint16_t)0x7FFF)
  60:./lib/src/at32f4xx_i2c.c **** 
  61:./lib/src/at32f4xx_i2c.c **** /* I2C PEC mask */
  62:./lib/src/at32f4xx_i2c.c **** #define CTRL1_PECTRA_Set            ((uint16_t)0x1000)
  63:./lib/src/at32f4xx_i2c.c **** #define CTRL1_PECTRA_Reset          ((uint16_t)0xEFFF)
  64:./lib/src/at32f4xx_i2c.c **** 
  65:./lib/src/at32f4xx_i2c.c **** /* I2C ENPEC mask */
  66:./lib/src/at32f4xx_i2c.c **** #define CTRL1_PECEN_Set             ((uint16_t)0x0020)
  67:./lib/src/at32f4xx_i2c.c **** #define CTRL1_PECEN_Reset           ((uint16_t)0xFFDF)
  68:./lib/src/at32f4xx_i2c.c **** 
  69:./lib/src/at32f4xx_i2c.c **** /* I2C ENARP mask */
  70:./lib/src/at32f4xx_i2c.c **** #define CTRL1_ARPEN_Set             ((uint16_t)0x0010)
  71:./lib/src/at32f4xx_i2c.c **** #define CTRL1_ARPEN_Reset           ((uint16_t)0xFFEF)
  72:./lib/src/at32f4xx_i2c.c **** 
  73:./lib/src/at32f4xx_i2c.c **** /* I2C NOSTRETCH mask */
  74:./lib/src/at32f4xx_i2c.c **** #define CTRL1_NOCLKSTRETCH_Set      ((uint16_t)0x0080)
  75:./lib/src/at32f4xx_i2c.c **** #define CTRL1_NOCLKSTRETCH_Reset    ((uint16_t)0xFF7F)
  76:./lib/src/at32f4xx_i2c.c **** 
  77:./lib/src/at32f4xx_i2c.c **** /* I2C registers Masks */
  78:./lib/src/at32f4xx_i2c.c **** #define CTRL1_CLEAR_MASK            ((uint16_t)0xFBF5)
  79:./lib/src/at32f4xx_i2c.c **** 
  80:./lib/src/at32f4xx_i2c.c **** /* I2C DMAEN mask */
  81:./lib/src/at32f4xx_i2c.c **** #define CTRL2_DMAEN_Set             ((uint16_t)0x0800)
  82:./lib/src/at32f4xx_i2c.c **** #define CTRL2_DMAEN_Reset           ((uint16_t)0xF7FF)
  83:./lib/src/at32f4xx_i2c.c **** 
  84:./lib/src/at32f4xx_i2c.c **** /* I2C LAST mask */
  85:./lib/src/at32f4xx_i2c.c **** #define CTRL2_DMALAST_Set           ((uint16_t)0x1000)
  86:./lib/src/at32f4xx_i2c.c **** #define CTRL2_DMALAST_Reset         ((uint16_t)0xEFFF)
ARM GAS  /tmp/cctayums.s 			page 3


  87:./lib/src/at32f4xx_i2c.c **** 
  88:./lib/src/at32f4xx_i2c.c **** /* I2C FREQ mask */
  89:./lib/src/at32f4xx_i2c.c **** #define CTRL2_CLKFREQ_Reset         ((uint16_t)0xFF00)
  90:./lib/src/at32f4xx_i2c.c **** 
  91:./lib/src/at32f4xx_i2c.c **** /* I2C ADD0 mask */
  92:./lib/src/at32f4xx_i2c.c **** #define OADDR1_ADDR0_Set            ((uint16_t)0x0001)
  93:./lib/src/at32f4xx_i2c.c **** #define OADDR1_ADDR0_Reset          ((uint16_t)0xFFFE)
  94:./lib/src/at32f4xx_i2c.c **** 
  95:./lib/src/at32f4xx_i2c.c **** /* I2C ENDUAL mask */
  96:./lib/src/at32f4xx_i2c.c **** #define OADDR2_DUALEN_Set           ((uint16_t)0x0001)
  97:./lib/src/at32f4xx_i2c.c **** #define OADDR2_DUALEN_Reset         ((uint16_t)0xFFFE)
  98:./lib/src/at32f4xx_i2c.c **** 
  99:./lib/src/at32f4xx_i2c.c **** /* I2C ADD2 mask */
 100:./lib/src/at32f4xx_i2c.c **** #define OADDR2_ADDR2_Reset          ((uint16_t)0xFF01)
 101:./lib/src/at32f4xx_i2c.c **** 
 102:./lib/src/at32f4xx_i2c.c **** /* I2C F/S mask */
 103:./lib/src/at32f4xx_i2c.c **** #define CLKCTRL_FSMODE_Set          ((uint16_t)0x8000)
 104:./lib/src/at32f4xx_i2c.c **** 
 105:./lib/src/at32f4xx_i2c.c **** /* I2C CCR mask */
 106:./lib/src/at32f4xx_i2c.c **** #define CLKCTRL_CLKCTRL_Set         ((uint16_t)0x0FFF)
 107:./lib/src/at32f4xx_i2c.c **** 
 108:./lib/src/at32f4xx_i2c.c **** /* I2C FLAG mask */
 109:./lib/src/at32f4xx_i2c.c **** #define FLAG_Mask                   ((uint32_t)0x00FFFFFF)
 110:./lib/src/at32f4xx_i2c.c **** 
 111:./lib/src/at32f4xx_i2c.c **** /* I2C Interrupt Enable mask */
 112:./lib/src/at32f4xx_i2c.c **** #define INTEN_Mask                  ((uint32_t)0x07000000)
 113:./lib/src/at32f4xx_i2c.c **** 
 114:./lib/src/at32f4xx_i2c.c **** /**
 115:./lib/src/at32f4xx_i2c.c ****   * @}
 116:./lib/src/at32f4xx_i2c.c ****   */
 117:./lib/src/at32f4xx_i2c.c **** 
 118:./lib/src/at32f4xx_i2c.c **** /** @defgroup I2C_Private_Macros
 119:./lib/src/at32f4xx_i2c.c ****   * @{
 120:./lib/src/at32f4xx_i2c.c ****   */
 121:./lib/src/at32f4xx_i2c.c **** 
 122:./lib/src/at32f4xx_i2c.c **** /**
 123:./lib/src/at32f4xx_i2c.c ****   * @}
 124:./lib/src/at32f4xx_i2c.c ****   */
 125:./lib/src/at32f4xx_i2c.c **** 
 126:./lib/src/at32f4xx_i2c.c **** /** @defgroup I2C_Private_Variables
 127:./lib/src/at32f4xx_i2c.c ****   * @{
 128:./lib/src/at32f4xx_i2c.c ****   */
 129:./lib/src/at32f4xx_i2c.c **** 
 130:./lib/src/at32f4xx_i2c.c **** /**
 131:./lib/src/at32f4xx_i2c.c ****   * @}
 132:./lib/src/at32f4xx_i2c.c ****   */
 133:./lib/src/at32f4xx_i2c.c **** 
 134:./lib/src/at32f4xx_i2c.c **** /** @defgroup I2C_Private_FunctionPrototypes
 135:./lib/src/at32f4xx_i2c.c ****   * @{
 136:./lib/src/at32f4xx_i2c.c ****   */
 137:./lib/src/at32f4xx_i2c.c **** 
 138:./lib/src/at32f4xx_i2c.c **** /**
 139:./lib/src/at32f4xx_i2c.c ****   * @}
 140:./lib/src/at32f4xx_i2c.c ****   */
 141:./lib/src/at32f4xx_i2c.c **** 
 142:./lib/src/at32f4xx_i2c.c **** /** @defgroup I2C_Private_Functions
 143:./lib/src/at32f4xx_i2c.c ****   * @{
ARM GAS  /tmp/cctayums.s 			page 4


 144:./lib/src/at32f4xx_i2c.c ****   */
 145:./lib/src/at32f4xx_i2c.c **** 
 146:./lib/src/at32f4xx_i2c.c **** /**
 147:./lib/src/at32f4xx_i2c.c ****   * @brief  Deinitializes the I2Cx peripheral registers to their default reset values.
 148:./lib/src/at32f4xx_i2c.c ****   * @param  I2Cx: where x can be 1, 2 or 3 to select the I2C peripheral.
 149:./lib/src/at32f4xx_i2c.c ****   * @retval None
 150:./lib/src/at32f4xx_i2c.c ****   */
 151:./lib/src/at32f4xx_i2c.c **** void I2C_DeInit(I2C_Type* I2Cx)
 152:./lib/src/at32f4xx_i2c.c **** {
  30              		.loc 1 152 1 view -0
  31              		.cfi_startproc
  32              		@ args = 0, pretend = 0, frame = 0
  33              		@ frame_needed = 0, uses_anonymous_args = 0
  34              		.loc 1 152 1 is_stmt 0 view .LVU1
  35 0000 08B5     		push	{r3, lr}
  36              	.LCFI0:
  37              		.cfi_def_cfa_offset 8
  38              		.cfi_offset 3, -8
  39              		.cfi_offset 14, -4
 153:./lib/src/at32f4xx_i2c.c ****   /* Check the parameters */
 154:./lib/src/at32f4xx_i2c.c ****   assert_param(IS_I2C_ALL_PERIPH(I2Cx));
  40              		.loc 1 154 3 is_stmt 1 view .LVU2
 155:./lib/src/at32f4xx_i2c.c **** 
 156:./lib/src/at32f4xx_i2c.c ****   if (I2Cx == I2C1)
  41              		.loc 1 156 3 view .LVU3
  42              		.loc 1 156 6 is_stmt 0 view .LVU4
  43 0002 0E4B     		ldr	r3, .L7
  44 0004 9842     		cmp	r0, r3
  45 0006 03D0     		beq	.L5
 157:./lib/src/at32f4xx_i2c.c ****   {
 158:./lib/src/at32f4xx_i2c.c ****     /* Enable I2C1 reset state */
 159:./lib/src/at32f4xx_i2c.c ****     RCC_APB1PeriphResetCmd(RCC_APB1PERIPH_I2C1, ENABLE);
 160:./lib/src/at32f4xx_i2c.c ****     /* Release I2C1 from reset state */
 161:./lib/src/at32f4xx_i2c.c ****     RCC_APB1PeriphResetCmd(RCC_APB1PERIPH_I2C1, DISABLE);
 162:./lib/src/at32f4xx_i2c.c ****   }
 163:./lib/src/at32f4xx_i2c.c ****   else if (I2Cx == I2C2)
  46              		.loc 1 163 8 is_stmt 1 view .LVU5
  47              		.loc 1 163 11 is_stmt 0 view .LVU6
  48 0008 0D4B     		ldr	r3, .L7+4
  49 000a 9842     		cmp	r0, r3
  50 000c 0BD0     		beq	.L6
  51              	.LVL1:
  52              	.L1:
 164:./lib/src/at32f4xx_i2c.c ****   {
 165:./lib/src/at32f4xx_i2c.c ****     /* Enable I2C2 reset state */
 166:./lib/src/at32f4xx_i2c.c ****     RCC_APB1PeriphResetCmd(RCC_APB1PERIPH_I2C2, ENABLE);
 167:./lib/src/at32f4xx_i2c.c ****     /* Release I2C2 from reset state */
 168:./lib/src/at32f4xx_i2c.c ****     RCC_APB1PeriphResetCmd(RCC_APB1PERIPH_I2C2, DISABLE);
 169:./lib/src/at32f4xx_i2c.c ****   }
 170:./lib/src/at32f4xx_i2c.c **** #ifdef AT32F403xx
 171:./lib/src/at32f4xx_i2c.c ****   else if (I2Cx == I2C3)
 172:./lib/src/at32f4xx_i2c.c ****   {
 173:./lib/src/at32f4xx_i2c.c ****     /* Enable I2C3 reset state */
 174:./lib/src/at32f4xx_i2c.c ****     RCC_APB1PeriphResetCmd(RCC_APB1PERIPH_I2C3, ENABLE);
 175:./lib/src/at32f4xx_i2c.c ****     /* Release I2C3 from reset state */
 176:./lib/src/at32f4xx_i2c.c ****     RCC_APB1PeriphResetCmd(RCC_APB1PERIPH_I2C3, DISABLE);
 177:./lib/src/at32f4xx_i2c.c ****   }
ARM GAS  /tmp/cctayums.s 			page 5


 178:./lib/src/at32f4xx_i2c.c **** #endif
 179:./lib/src/at32f4xx_i2c.c **** }
  53              		.loc 1 179 1 view .LVU7
  54 000e 08BD     		pop	{r3, pc}
  55              	.LVL2:
  56              	.L5:
 159:./lib/src/at32f4xx_i2c.c ****     /* Release I2C1 from reset state */
  57              		.loc 1 159 5 is_stmt 1 view .LVU8
  58 0010 0121     		movs	r1, #1
  59 0012 4FF40010 		mov	r0, #2097152
  60              	.LVL3:
 159:./lib/src/at32f4xx_i2c.c ****     /* Release I2C1 from reset state */
  61              		.loc 1 159 5 is_stmt 0 view .LVU9
  62 0016 FFF7FEFF 		bl	RCC_APB1PeriphResetCmd
  63              	.LVL4:
 161:./lib/src/at32f4xx_i2c.c ****   }
  64              		.loc 1 161 5 is_stmt 1 view .LVU10
  65 001a 0021     		movs	r1, #0
  66 001c 4FF40010 		mov	r0, #2097152
  67 0020 FFF7FEFF 		bl	RCC_APB1PeriphResetCmd
  68              	.LVL5:
  69 0024 F3E7     		b	.L1
  70              	.LVL6:
  71              	.L6:
 166:./lib/src/at32f4xx_i2c.c ****     /* Release I2C2 from reset state */
  72              		.loc 1 166 5 view .LVU11
  73 0026 0121     		movs	r1, #1
  74 0028 4FF48000 		mov	r0, #4194304
  75              	.LVL7:
 166:./lib/src/at32f4xx_i2c.c ****     /* Release I2C2 from reset state */
  76              		.loc 1 166 5 is_stmt 0 view .LVU12
  77 002c FFF7FEFF 		bl	RCC_APB1PeriphResetCmd
  78              	.LVL8:
 168:./lib/src/at32f4xx_i2c.c ****   }
  79              		.loc 1 168 5 is_stmt 1 view .LVU13
  80 0030 0021     		movs	r1, #0
  81 0032 4FF48000 		mov	r0, #4194304
  82 0036 FFF7FEFF 		bl	RCC_APB1PeriphResetCmd
  83              	.LVL9:
  84              		.loc 1 179 1 is_stmt 0 view .LVU14
  85 003a E8E7     		b	.L1
  86              	.L8:
  87              		.align	2
  88              	.L7:
  89 003c 00540040 		.word	1073763328
  90 0040 00580040 		.word	1073764352
  91              		.cfi_endproc
  92              	.LFE123:
  94              		.section	.text.I2C_Init,"ax",%progbits
  95              		.align	1
  96              		.global	I2C_Init
  97              		.syntax unified
  98              		.thumb
  99              		.thumb_func
 100              		.fpu fpv4-sp-d16
 102              	I2C_Init:
 103              	.LVL10:
ARM GAS  /tmp/cctayums.s 			page 6


 104              	.LFB124:
 180:./lib/src/at32f4xx_i2c.c **** 
 181:./lib/src/at32f4xx_i2c.c **** /**
 182:./lib/src/at32f4xx_i2c.c ****   * @brief  Initializes the I2Cx peripheral according to the specified
 183:./lib/src/at32f4xx_i2c.c ****   *   parameters in the I2C_InitStruct.
 184:./lib/src/at32f4xx_i2c.c ****   * @param  I2Cx: where x can be 1, 2 or 3 to select the I2C peripheral.
 185:./lib/src/at32f4xx_i2c.c ****   * @param  I2C_InitStruct: pointer to a I2C_InitType structure that
 186:./lib/src/at32f4xx_i2c.c ****   *   contains the configuration information for the specified I2C peripheral.
 187:./lib/src/at32f4xx_i2c.c ****   * @retval None
 188:./lib/src/at32f4xx_i2c.c ****   */
 189:./lib/src/at32f4xx_i2c.c **** void I2C_Init(I2C_Type* I2Cx, I2C_InitType* I2C_InitStruct)
 190:./lib/src/at32f4xx_i2c.c **** {
 105              		.loc 1 190 1 is_stmt 1 view -0
 106              		.cfi_startproc
 107              		@ args = 0, pretend = 0, frame = 24
 108              		@ frame_needed = 0, uses_anonymous_args = 0
 109              		.loc 1 190 1 is_stmt 0 view .LVU16
 110 0000 70B5     		push	{r4, r5, r6, lr}
 111              	.LCFI1:
 112              		.cfi_def_cfa_offset 16
 113              		.cfi_offset 4, -16
 114              		.cfi_offset 5, -12
 115              		.cfi_offset 6, -8
 116              		.cfi_offset 14, -4
 117 0002 86B0     		sub	sp, sp, #24
 118              	.LCFI2:
 119              		.cfi_def_cfa_offset 40
 120 0004 0446     		mov	r4, r0
 121 0006 0D46     		mov	r5, r1
 191:./lib/src/at32f4xx_i2c.c ****   uint16_t tmpreg = 0, freqrange = 0;
 122              		.loc 1 191 3 is_stmt 1 view .LVU17
 123              	.LVL11:
 192:./lib/src/at32f4xx_i2c.c ****   uint16_t result = 0x04;
 124              		.loc 1 192 3 view .LVU18
 193:./lib/src/at32f4xx_i2c.c ****   uint32_t pclk1 = 8000000;
 125              		.loc 1 193 3 view .LVU19
 194:./lib/src/at32f4xx_i2c.c ****   RCC_ClockType  rcc_clocks;
 126              		.loc 1 194 3 view .LVU20
 195:./lib/src/at32f4xx_i2c.c ****   /* Check the parameters */
 196:./lib/src/at32f4xx_i2c.c ****   assert_param(IS_I2C_ALL_PERIPH(I2Cx));
 127              		.loc 1 196 3 view .LVU21
 197:./lib/src/at32f4xx_i2c.c ****   assert_param(IS_I2C_BIT_RATE(I2C_InitStruct->I2C_BitRate));
 128              		.loc 1 197 3 view .LVU22
 198:./lib/src/at32f4xx_i2c.c ****   assert_param(IS_I2C_MODE(I2C_InitStruct->I2C_Mode));
 129              		.loc 1 198 3 view .LVU23
 199:./lib/src/at32f4xx_i2c.c ****   assert_param(IS_I2C_FM_DUTY_CYCLE(I2C_InitStruct->I2C_FmDutyCycle));
 130              		.loc 1 199 3 view .LVU24
 200:./lib/src/at32f4xx_i2c.c ****   assert_param(IS_I2C_OWN_ADDRESS1(I2C_InitStruct->I2C_OwnAddr1));
 131              		.loc 1 200 3 view .LVU25
 201:./lib/src/at32f4xx_i2c.c ****   assert_param(IS_I2C_ACK_STATE(I2C_InitStruct->I2C_Ack));
 132              		.loc 1 201 3 view .LVU26
 202:./lib/src/at32f4xx_i2c.c ****   assert_param(IS_I2C_ADDR_MODE(I2C_InitStruct->I2C_AddrMode));
 133              		.loc 1 202 3 view .LVU27
 203:./lib/src/at32f4xx_i2c.c **** 
 204:./lib/src/at32f4xx_i2c.c ****   /*---------------------------- I2Cx CTRL2 Configuration ------------------------*/
 205:./lib/src/at32f4xx_i2c.c ****   /* Get the I2Cx CTRL2 value */
 206:./lib/src/at32f4xx_i2c.c ****   tmpreg = I2Cx->CTRL2;
ARM GAS  /tmp/cctayums.s 			page 7


 134              		.loc 1 206 3 view .LVU28
 135              		.loc 1 206 10 is_stmt 0 view .LVU29
 136 0008 8688     		ldrh	r6, [r0, #4]
 137              	.LVL12:
 207:./lib/src/at32f4xx_i2c.c ****   /* Clear frequency FREQ[7:0] bits */
 208:./lib/src/at32f4xx_i2c.c ****   tmpreg &= CTRL2_CLKFREQ_Reset;
 138              		.loc 1 208 3 is_stmt 1 view .LVU30
 139              		.loc 1 208 10 is_stmt 0 view .LVU31
 140 000a 06F47F46 		and	r6, r6, #65280
 141              	.LVL13:
 209:./lib/src/at32f4xx_i2c.c ****   /* Get pclk1 frequency value */
 210:./lib/src/at32f4xx_i2c.c ****   RCC_GetClocksFreq(&rcc_clocks);
 142              		.loc 1 210 3 is_stmt 1 view .LVU32
 143 000e 01A8     		add	r0, sp, #4
 144              	.LVL14:
 145              		.loc 1 210 3 is_stmt 0 view .LVU33
 146 0010 FFF7FEFF 		bl	RCC_GetClocksFreq
 147              	.LVL15:
 211:./lib/src/at32f4xx_i2c.c ****   pclk1 = rcc_clocks.APB1CLK_Freq;
 148              		.loc 1 211 3 is_stmt 1 view .LVU34
 149              		.loc 1 211 9 is_stmt 0 view .LVU35
 150 0014 0398     		ldr	r0, [sp, #12]
 151              	.LVL16:
 212:./lib/src/at32f4xx_i2c.c ****   /* Set frequency bits depending on pclk1 value */
 213:./lib/src/at32f4xx_i2c.c ****   freqrange = (uint16_t)(pclk1 / 1000000);
 152              		.loc 1 213 3 is_stmt 1 view .LVU36
 153              		.loc 1 213 32 is_stmt 0 view .LVU37
 154 0016 2D4B     		ldr	r3, .L19
 155 0018 A3FB0023 		umull	r2, r3, r3, r0
 156 001c 990C     		lsrs	r1, r3, #18
 157              	.LVL17:
 214:./lib/src/at32f4xx_i2c.c ****   tmpreg |= freqrange;
 158              		.loc 1 214 3 is_stmt 1 view .LVU38
 159              		.loc 1 214 10 is_stmt 0 view .LVU39
 160 001e 46EA9346 		orr	r6, r6, r3, lsr #18
 161              	.LVL18:
 215:./lib/src/at32f4xx_i2c.c ****   /* Write to I2Cx CTRL2 */
 216:./lib/src/at32f4xx_i2c.c ****   I2Cx->CTRL2 = tmpreg;
 162              		.loc 1 216 3 is_stmt 1 view .LVU40
 163              		.loc 1 216 15 is_stmt 0 view .LVU41
 164 0022 A680     		strh	r6, [r4, #4]	@ movhi
 217:./lib/src/at32f4xx_i2c.c **** 
 218:./lib/src/at32f4xx_i2c.c ****   /*---------------------------- I2Cx CCR Configuration ------------------------*/
 219:./lib/src/at32f4xx_i2c.c ****   /* Disable the selected I2C peripheral to configure TRISE */
 220:./lib/src/at32f4xx_i2c.c ****   I2Cx->CTRL1 &= CTRL1_PEN_Reset;
 165              		.loc 1 220 3 is_stmt 1 view .LVU42
 166              		.loc 1 220 15 is_stmt 0 view .LVU43
 167 0024 2288     		ldrh	r2, [r4]
 168 0026 92B2     		uxth	r2, r2
 169 0028 22F00102 		bic	r2, r2, #1
 170 002c 92B2     		uxth	r2, r2
 171 002e 2280     		strh	r2, [r4]	@ movhi
 221:./lib/src/at32f4xx_i2c.c ****   /* Reset tmpreg value */
 222:./lib/src/at32f4xx_i2c.c ****   /* Clear F/S, DUTY and CCR[11:0] bits */
 223:./lib/src/at32f4xx_i2c.c ****   tmpreg = 0;
 172              		.loc 1 223 3 is_stmt 1 view .LVU44
 173              	.LVL19:
ARM GAS  /tmp/cctayums.s 			page 8


 224:./lib/src/at32f4xx_i2c.c **** 
 225:./lib/src/at32f4xx_i2c.c ****   /* Configure speed in standard mode */
 226:./lib/src/at32f4xx_i2c.c ****   if (I2C_InitStruct->I2C_BitRate <= 100000)
 174              		.loc 1 226 3 view .LVU45
 175              		.loc 1 226 21 is_stmt 0 view .LVU46
 176 0030 2B68     		ldr	r3, [r5]
 177              		.loc 1 226 6 view .LVU47
 178 0032 274A     		ldr	r2, .L19+4
 179 0034 9342     		cmp	r3, r2
 180 0036 22D8     		bhi	.L10
 181 0038 8C46     		mov	ip, r1
 227:./lib/src/at32f4xx_i2c.c ****   {
 228:./lib/src/at32f4xx_i2c.c ****     /* Standard mode speed calculate */
 229:./lib/src/at32f4xx_i2c.c ****     result = (uint16_t)(pclk1 / (I2C_InitStruct->I2C_BitRate << 1));
 182              		.loc 1 229 5 is_stmt 1 view .LVU48
 183              		.loc 1 229 62 is_stmt 0 view .LVU49
 184 003a 5B00     		lsls	r3, r3, #1
 185              		.loc 1 229 31 view .LVU50
 186 003c B0FBF3F3 		udiv	r3, r0, r3
 187              		.loc 1 229 12 view .LVU51
 188 0040 9BB2     		uxth	r3, r3
 189              	.LVL20:
 230:./lib/src/at32f4xx_i2c.c **** 
 231:./lib/src/at32f4xx_i2c.c ****     /* Test if CCR value is under 0x4*/
 232:./lib/src/at32f4xx_i2c.c ****     if (result < 0x04)
 190              		.loc 1 232 5 is_stmt 1 view .LVU52
 191              		.loc 1 232 8 is_stmt 0 view .LVU53
 192 0042 032B     		cmp	r3, #3
 193 0044 00D8     		bhi	.L11
 233:./lib/src/at32f4xx_i2c.c ****     {
 234:./lib/src/at32f4xx_i2c.c ****       /* Set minimum allowed value */
 235:./lib/src/at32f4xx_i2c.c ****       result = 0x04;
 194              		.loc 1 235 14 view .LVU54
 195 0046 0423     		movs	r3, #4
 196              	.LVL21:
 197              	.L11:
 236:./lib/src/at32f4xx_i2c.c ****     }
 237:./lib/src/at32f4xx_i2c.c **** 
 238:./lib/src/at32f4xx_i2c.c ****     /* Set speed value for standard mode */
 239:./lib/src/at32f4xx_i2c.c ****     tmpreg |= result;
 198              		.loc 1 239 5 is_stmt 1 view .LVU55
 240:./lib/src/at32f4xx_i2c.c ****     /* Set Maximum Rise Time for standard mode */
 241:./lib/src/at32f4xx_i2c.c ****     I2Cx->TMRISE = freqrange + 1;
 199              		.loc 1 241 5 view .LVU56
 200              		.loc 1 241 30 is_stmt 0 view .LVU57
 201 0048 0CF1010C 		add	ip, ip, #1
 202              		.loc 1 241 18 view .LVU58
 203 004c A4F820C0 		strh	ip, [r4, #32]	@ movhi
 204              	.LVL22:
 205              	.L12:
 242:./lib/src/at32f4xx_i2c.c ****   }
 243:./lib/src/at32f4xx_i2c.c ****   /* Configure speed in fast mode */
 244:./lib/src/at32f4xx_i2c.c ****   else /*(I2C_InitStruct->I2C_ClockSpeed <= 400000)*/
 245:./lib/src/at32f4xx_i2c.c ****   {
 246:./lib/src/at32f4xx_i2c.c ****     if (I2C_InitStruct->I2C_FmDutyCycle == I2C_FmDutyCycle_2_1)
 247:./lib/src/at32f4xx_i2c.c ****     {
 248:./lib/src/at32f4xx_i2c.c ****       /* Fast mode speed calculate: Tlow/Thigh = 2 */
ARM GAS  /tmp/cctayums.s 			page 9


 249:./lib/src/at32f4xx_i2c.c ****       result = (uint16_t)(pclk1 / (I2C_InitStruct->I2C_BitRate * 3));
 250:./lib/src/at32f4xx_i2c.c ****     }
 251:./lib/src/at32f4xx_i2c.c ****     else /*I2C_InitStruct->I2C_DutyCycle == I2C_FmDutyCycle_16_9*/
 252:./lib/src/at32f4xx_i2c.c ****     {
 253:./lib/src/at32f4xx_i2c.c ****       /* Fast mode speed calculate: Tlow/Thigh = 16/9 */
 254:./lib/src/at32f4xx_i2c.c ****       result = (uint16_t)(pclk1 / (I2C_InitStruct->I2C_BitRate * 25));
 255:./lib/src/at32f4xx_i2c.c ****       /* Set DUTY bit */
 256:./lib/src/at32f4xx_i2c.c ****       result |= I2C_FmDutyCycle_16_9;
 257:./lib/src/at32f4xx_i2c.c ****     }
 258:./lib/src/at32f4xx_i2c.c **** 
 259:./lib/src/at32f4xx_i2c.c ****     /* Test if CCR value is under 0x1*/
 260:./lib/src/at32f4xx_i2c.c ****     if ((result & CLKCTRL_CLKCTRL_Set) == 0)
 261:./lib/src/at32f4xx_i2c.c ****     {
 262:./lib/src/at32f4xx_i2c.c ****       /* Set minimum allowed value */
 263:./lib/src/at32f4xx_i2c.c ****       result |= (uint16_t)0x0001;
 264:./lib/src/at32f4xx_i2c.c ****     }
 265:./lib/src/at32f4xx_i2c.c **** 
 266:./lib/src/at32f4xx_i2c.c ****     /* Set speed value and set F/S bit for fast mode */
 267:./lib/src/at32f4xx_i2c.c ****     tmpreg |= (uint16_t)(result | CLKCTRL_FSMODE_Set);
 268:./lib/src/at32f4xx_i2c.c ****     /* Set Maximum Rise Time for fast mode */
 269:./lib/src/at32f4xx_i2c.c ****     I2Cx->TMRISE = (uint16_t)(((freqrange * (uint16_t)300) / (uint16_t)1000) + (uint16_t)1);
 270:./lib/src/at32f4xx_i2c.c ****   }
 271:./lib/src/at32f4xx_i2c.c **** 
 272:./lib/src/at32f4xx_i2c.c ****   /* Write to I2Cx CCR */
 273:./lib/src/at32f4xx_i2c.c ****   I2Cx->CLKCTRL = tmpreg;
 206              		.loc 1 273 3 is_stmt 1 view .LVU59
 207              		.loc 1 273 17 is_stmt 0 view .LVU60
 208 0050 A383     		strh	r3, [r4, #28]	@ movhi
 274:./lib/src/at32f4xx_i2c.c ****   /* Enable the selected I2C peripheral */
 275:./lib/src/at32f4xx_i2c.c ****   I2Cx->CTRL1 |= CTRL1_PEN_Set;
 209              		.loc 1 275 3 is_stmt 1 view .LVU61
 210              		.loc 1 275 15 is_stmt 0 view .LVU62
 211 0052 2388     		ldrh	r3, [r4]
 212              	.LVL23:
 213              		.loc 1 275 15 view .LVU63
 214 0054 9BB2     		uxth	r3, r3
 215 0056 43F00103 		orr	r3, r3, #1
 216 005a 2380     		strh	r3, [r4]	@ movhi
 217              	.LVL24:
 276:./lib/src/at32f4xx_i2c.c **** 
 277:./lib/src/at32f4xx_i2c.c ****   /*---------------------------- I2Cx CTRL1 Configuration ------------------------*/
 278:./lib/src/at32f4xx_i2c.c ****   /* Get the I2Cx CTRL1 value */
 279:./lib/src/at32f4xx_i2c.c ****   tmpreg = I2Cx->CTRL1;
 218              		.loc 1 279 3 is_stmt 1 view .LVU64
 219              		.loc 1 279 10 is_stmt 0 view .LVU65
 220 005c 2388     		ldrh	r3, [r4]
 221 005e 9BB2     		uxth	r3, r3
 222              	.LVL25:
 280:./lib/src/at32f4xx_i2c.c ****   /* Clear ACK, SMBTYPE and  SMBUS bits */
 281:./lib/src/at32f4xx_i2c.c ****   tmpreg &= CTRL1_CLEAR_MASK;
 223              		.loc 1 281 3 is_stmt 1 view .LVU66
 224              		.loc 1 281 10 is_stmt 0 view .LVU67
 225 0060 23F48163 		bic	r3, r3, #1032
 226              	.LVL26:
 227              		.loc 1 281 10 view .LVU68
 228 0064 23F00203 		bic	r3, r3, #2
 229              	.LVL27:
ARM GAS  /tmp/cctayums.s 			page 10


 282:./lib/src/at32f4xx_i2c.c ****   /* Configure I2Cx: mode and acknowledgement */
 283:./lib/src/at32f4xx_i2c.c ****   /* Set SMBTYPE and SMBUS bits according to I2C_Mode value */
 284:./lib/src/at32f4xx_i2c.c ****   /* Set ACK bit according to I2C_Ack value */
 285:./lib/src/at32f4xx_i2c.c ****   tmpreg |= (uint16_t)((uint32_t)I2C_InitStruct->I2C_Mode | I2C_InitStruct->I2C_Ack);
 230              		.loc 1 285 3 is_stmt 1 view .LVU69
 231              		.loc 1 285 48 is_stmt 0 view .LVU70
 232 0068 AA88     		ldrh	r2, [r5, #4]
 233              		.loc 1 285 75 view .LVU71
 234 006a 6989     		ldrh	r1, [r5, #10]
 235              		.loc 1 285 13 view .LVU72
 236 006c 0A43     		orrs	r2, r2, r1
 237              		.loc 1 285 10 view .LVU73
 238 006e 1343     		orrs	r3, r3, r2
 239              	.LVL28:
 286:./lib/src/at32f4xx_i2c.c ****   /* Write to I2Cx CTRL1 */
 287:./lib/src/at32f4xx_i2c.c ****   I2Cx->CTRL1 = tmpreg;
 240              		.loc 1 287 3 is_stmt 1 view .LVU74
 241              		.loc 1 287 15 is_stmt 0 view .LVU75
 242 0070 2380     		strh	r3, [r4]	@ movhi
 288:./lib/src/at32f4xx_i2c.c **** 
 289:./lib/src/at32f4xx_i2c.c ****   /*---------------------------- I2Cx OAR1 Configuration -----------------------*/
 290:./lib/src/at32f4xx_i2c.c ****   /* Set I2Cx Own Address1 and acknowledged address */
 291:./lib/src/at32f4xx_i2c.c ****   I2Cx->OADDR1 = (I2C_InitStruct->I2C_AddrMode | I2C_InitStruct->I2C_OwnAddr1);
 243              		.loc 1 291 3 is_stmt 1 view .LVU76
 244              		.loc 1 291 33 is_stmt 0 view .LVU77
 245 0072 AB89     		ldrh	r3, [r5, #12]
 246              	.LVL29:
 247              		.loc 1 291 64 view .LVU78
 248 0074 2A89     		ldrh	r2, [r5, #8]
 249              		.loc 1 291 16 view .LVU79
 250 0076 1343     		orrs	r3, r3, r2
 251 0078 2381     		strh	r3, [r4, #8]	@ movhi
 252              	.LVL30:
 292:./lib/src/at32f4xx_i2c.c **** }
 253              		.loc 1 292 1 view .LVU80
 254 007a 06B0     		add	sp, sp, #24
 255              	.LCFI3:
 256              		.cfi_remember_state
 257              		.cfi_def_cfa_offset 16
 258              		@ sp needed
 259 007c 70BD     		pop	{r4, r5, r6, pc}
 260              	.LVL31:
 261              	.L10:
 262              	.LCFI4:
 263              		.cfi_restore_state
 246:./lib/src/at32f4xx_i2c.c ****     {
 264              		.loc 1 246 5 is_stmt 1 view .LVU81
 246:./lib/src/at32f4xx_i2c.c ****     {
 265              		.loc 1 246 23 is_stmt 0 view .LVU82
 266 007e EE88     		ldrh	r6, [r5, #6]
 246:./lib/src/at32f4xx_i2c.c ****     {
 267              		.loc 1 246 8 view .LVU83
 268 0080 4BF6FF72 		movw	r2, #49151
 269 0084 9642     		cmp	r6, r2
 270 0086 1BD0     		beq	.L18
 254:./lib/src/at32f4xx_i2c.c ****       /* Set DUTY bit */
 271              		.loc 1 254 7 is_stmt 1 view .LVU84
ARM GAS  /tmp/cctayums.s 			page 11


 254:./lib/src/at32f4xx_i2c.c ****       /* Set DUTY bit */
 272              		.loc 1 254 64 is_stmt 0 view .LVU85
 273 0088 03EB8303 		add	r3, r3, r3, lsl #2
 274 008c 03EB8303 		add	r3, r3, r3, lsl #2
 254:./lib/src/at32f4xx_i2c.c ****       /* Set DUTY bit */
 275              		.loc 1 254 33 view .LVU86
 276 0090 B0FBF3F3 		udiv	r3, r0, r3
 254:./lib/src/at32f4xx_i2c.c ****       /* Set DUTY bit */
 277              		.loc 1 254 14 view .LVU87
 278 0094 9BB2     		uxth	r3, r3
 279              	.LVL32:
 256:./lib/src/at32f4xx_i2c.c ****     }
 280              		.loc 1 256 7 is_stmt 1 view .LVU88
 256:./lib/src/at32f4xx_i2c.c ****     }
 281              		.loc 1 256 14 is_stmt 0 view .LVU89
 282 0096 43F48043 		orr	r3, r3, #16384
 283              	.LVL33:
 284              	.L14:
 260:./lib/src/at32f4xx_i2c.c ****     {
 285              		.loc 1 260 5 is_stmt 1 view .LVU90
 260:./lib/src/at32f4xx_i2c.c ****     {
 286              		.loc 1 260 8 is_stmt 0 view .LVU91
 287 009a C3F30B02 		ubfx	r2, r3, #0, #12
 288 009e 0AB9     		cbnz	r2, .L15
 263:./lib/src/at32f4xx_i2c.c ****     }
 289              		.loc 1 263 7 is_stmt 1 view .LVU92
 263:./lib/src/at32f4xx_i2c.c ****     }
 290              		.loc 1 263 14 is_stmt 0 view .LVU93
 291 00a0 43F00103 		orr	r3, r3, #1
 292              	.LVL34:
 293              	.L15:
 267:./lib/src/at32f4xx_i2c.c ****     /* Set Maximum Rise Time for fast mode */
 294              		.loc 1 267 5 is_stmt 1 view .LVU94
 267:./lib/src/at32f4xx_i2c.c ****     /* Set Maximum Rise Time for fast mode */
 295              		.loc 1 267 12 is_stmt 0 view .LVU95
 296 00a4 43F40043 		orr	r3, r3, #32768
 297              	.LVL35:
 269:./lib/src/at32f4xx_i2c.c ****   }
 298              		.loc 1 269 5 is_stmt 1 view .LVU96
 269:./lib/src/at32f4xx_i2c.c ****   }
 299              		.loc 1 269 43 is_stmt 0 view .LVU97
 300 00a8 4FF49672 		mov	r2, #300
 301 00ac 01FB02F2 		mul	r2, r1, r2
 269:./lib/src/at32f4xx_i2c.c ****   }
 302              		.loc 1 269 60 view .LVU98
 303 00b0 0849     		ldr	r1, .L19+8
 304              	.LVL36:
 269:./lib/src/at32f4xx_i2c.c ****   }
 305              		.loc 1 269 60 view .LVU99
 306 00b2 81FB0212 		smull	r1, r2, r1, r2
 307 00b6 9211     		asrs	r2, r2, #6
 269:./lib/src/at32f4xx_i2c.c ****   }
 308              		.loc 1 269 20 view .LVU100
 309 00b8 0132     		adds	r2, r2, #1
 310 00ba 92B2     		uxth	r2, r2
 269:./lib/src/at32f4xx_i2c.c ****   }
 311              		.loc 1 269 18 view .LVU101
ARM GAS  /tmp/cctayums.s 			page 12


 312 00bc 2284     		strh	r2, [r4, #32]	@ movhi
 313 00be C7E7     		b	.L12
 314              	.LVL37:
 315              	.L18:
 249:./lib/src/at32f4xx_i2c.c ****     }
 316              		.loc 1 249 7 is_stmt 1 view .LVU102
 249:./lib/src/at32f4xx_i2c.c ****     }
 317              		.loc 1 249 64 is_stmt 0 view .LVU103
 318 00c0 03EB4303 		add	r3, r3, r3, lsl #1
 249:./lib/src/at32f4xx_i2c.c ****     }
 319              		.loc 1 249 33 view .LVU104
 320 00c4 B0FBF3F3 		udiv	r3, r0, r3
 249:./lib/src/at32f4xx_i2c.c ****     }
 321              		.loc 1 249 14 view .LVU105
 322 00c8 9BB2     		uxth	r3, r3
 323              	.LVL38:
 249:./lib/src/at32f4xx_i2c.c ****     }
 324              		.loc 1 249 14 view .LVU106
 325 00ca E6E7     		b	.L14
 326              	.L20:
 327              		.align	2
 328              	.L19:
 329 00cc 83DE1B43 		.word	1125899907
 330 00d0 A0860100 		.word	100000
 331 00d4 D34D6210 		.word	274877907
 332              		.cfi_endproc
 333              	.LFE124:
 335              		.section	.text.I2C_StructInit,"ax",%progbits
 336              		.align	1
 337              		.global	I2C_StructInit
 338              		.syntax unified
 339              		.thumb
 340              		.thumb_func
 341              		.fpu fpv4-sp-d16
 343              	I2C_StructInit:
 344              	.LVL39:
 345              	.LFB125:
 293:./lib/src/at32f4xx_i2c.c **** 
 294:./lib/src/at32f4xx_i2c.c **** /**
 295:./lib/src/at32f4xx_i2c.c ****   * @brief  Fills each I2C_InitStruct member with its default value.
 296:./lib/src/at32f4xx_i2c.c ****   * @param  I2C_InitStruct: pointer to an I2C_InitType structure which will be initialized.
 297:./lib/src/at32f4xx_i2c.c ****   * @retval None
 298:./lib/src/at32f4xx_i2c.c ****   */
 299:./lib/src/at32f4xx_i2c.c **** void I2C_StructInit(I2C_InitType* I2C_InitStruct)
 300:./lib/src/at32f4xx_i2c.c **** {
 346              		.loc 1 300 1 is_stmt 1 view -0
 347              		.cfi_startproc
 348              		@ args = 0, pretend = 0, frame = 0
 349              		@ frame_needed = 0, uses_anonymous_args = 0
 350              		@ link register save eliminated.
 301:./lib/src/at32f4xx_i2c.c ****   /*---------------- Reset I2C init structure parameters values ----------------*/
 302:./lib/src/at32f4xx_i2c.c ****   /* initialize the I2C_ClockSpeed member */
 303:./lib/src/at32f4xx_i2c.c ****   I2C_InitStruct->I2C_BitRate = 5000;
 351              		.loc 1 303 3 view .LVU108
 352              		.loc 1 303 31 is_stmt 0 view .LVU109
 353 0000 41F28833 		movw	r3, #5000
 354 0004 0360     		str	r3, [r0]
ARM GAS  /tmp/cctayums.s 			page 13


 304:./lib/src/at32f4xx_i2c.c ****   /* Initialize the I2C_Mode member */
 305:./lib/src/at32f4xx_i2c.c ****   I2C_InitStruct->I2C_Mode = I2C_Mode_I2CDevice;
 355              		.loc 1 305 3 is_stmt 1 view .LVU110
 356              		.loc 1 305 28 is_stmt 0 view .LVU111
 357 0006 0023     		movs	r3, #0
 358 0008 8380     		strh	r3, [r0, #4]	@ movhi
 306:./lib/src/at32f4xx_i2c.c ****   /* Initialize the I2C_DutyCycle member */
 307:./lib/src/at32f4xx_i2c.c ****   I2C_InitStruct->I2C_FmDutyCycle = I2C_FmDutyCycle_2_1;
 359              		.loc 1 307 3 is_stmt 1 view .LVU112
 360              		.loc 1 307 35 is_stmt 0 view .LVU113
 361 000a 4BF6FF72 		movw	r2, #49151
 362 000e C280     		strh	r2, [r0, #6]	@ movhi
 308:./lib/src/at32f4xx_i2c.c ****   /* Initialize the I2C_OwnAddress1 member */
 309:./lib/src/at32f4xx_i2c.c ****   I2C_InitStruct->I2C_OwnAddr1 = 0;
 363              		.loc 1 309 3 is_stmt 1 view .LVU114
 364              		.loc 1 309 32 is_stmt 0 view .LVU115
 365 0010 0381     		strh	r3, [r0, #8]	@ movhi
 310:./lib/src/at32f4xx_i2c.c ****   /* Initialize the I2C_Ack member */
 311:./lib/src/at32f4xx_i2c.c ****   I2C_InitStruct->I2C_Ack = I2C_Ack_Disable;
 366              		.loc 1 311 3 is_stmt 1 view .LVU116
 367              		.loc 1 311 27 is_stmt 0 view .LVU117
 368 0012 4381     		strh	r3, [r0, #10]	@ movhi
 312:./lib/src/at32f4xx_i2c.c ****   /* Initialize the I2C_AcknowledgedAddress member */
 313:./lib/src/at32f4xx_i2c.c ****   I2C_InitStruct->I2C_AddrMode = I2C_AddrMode_7bit;
 369              		.loc 1 313 3 is_stmt 1 view .LVU118
 370              		.loc 1 313 32 is_stmt 0 view .LVU119
 371 0014 4FF48043 		mov	r3, #16384
 372 0018 8381     		strh	r3, [r0, #12]	@ movhi
 314:./lib/src/at32f4xx_i2c.c **** }
 373              		.loc 1 314 1 view .LVU120
 374 001a 7047     		bx	lr
 375              		.cfi_endproc
 376              	.LFE125:
 378              		.section	.text.I2C_Cmd,"ax",%progbits
 379              		.align	1
 380              		.global	I2C_Cmd
 381              		.syntax unified
 382              		.thumb
 383              		.thumb_func
 384              		.fpu fpv4-sp-d16
 386              	I2C_Cmd:
 387              	.LVL40:
 388              	.LFB126:
 315:./lib/src/at32f4xx_i2c.c **** 
 316:./lib/src/at32f4xx_i2c.c **** /**
 317:./lib/src/at32f4xx_i2c.c ****   * @brief  Enables or disables the specified I2C peripheral.
 318:./lib/src/at32f4xx_i2c.c ****   * @param  I2Cx: where x can be 1, 2 or 3 to select the I2C peripheral.
 319:./lib/src/at32f4xx_i2c.c ****   * @param  NewState: new state of the I2Cx peripheral.
 320:./lib/src/at32f4xx_i2c.c ****   *   This parameter can be: ENABLE or DISABLE.
 321:./lib/src/at32f4xx_i2c.c ****   * @retval None
 322:./lib/src/at32f4xx_i2c.c ****   */
 323:./lib/src/at32f4xx_i2c.c **** void I2C_Cmd(I2C_Type* I2Cx, FunctionalState NewState)
 324:./lib/src/at32f4xx_i2c.c **** {
 389              		.loc 1 324 1 is_stmt 1 view -0
 390              		.cfi_startproc
 391              		@ args = 0, pretend = 0, frame = 0
 392              		@ frame_needed = 0, uses_anonymous_args = 0
ARM GAS  /tmp/cctayums.s 			page 14


 393              		@ link register save eliminated.
 325:./lib/src/at32f4xx_i2c.c ****   /* Check the parameters */
 326:./lib/src/at32f4xx_i2c.c ****   assert_param(IS_I2C_ALL_PERIPH(I2Cx));
 394              		.loc 1 326 3 view .LVU122
 327:./lib/src/at32f4xx_i2c.c ****   assert_param(IS_FUNCTIONAL_STATE(NewState));
 395              		.loc 1 327 3 view .LVU123
 328:./lib/src/at32f4xx_i2c.c **** 
 329:./lib/src/at32f4xx_i2c.c ****   if (NewState != DISABLE)
 396              		.loc 1 329 3 view .LVU124
 397              		.loc 1 329 6 is_stmt 0 view .LVU125
 398 0000 29B1     		cbz	r1, .L23
 330:./lib/src/at32f4xx_i2c.c ****   {
 331:./lib/src/at32f4xx_i2c.c ****     /* Enable the selected I2C peripheral */
 332:./lib/src/at32f4xx_i2c.c ****     I2Cx->CTRL1 |= CTRL1_PEN_Set;
 399              		.loc 1 332 5 is_stmt 1 view .LVU126
 400              		.loc 1 332 17 is_stmt 0 view .LVU127
 401 0002 0388     		ldrh	r3, [r0]
 402 0004 9BB2     		uxth	r3, r3
 403 0006 43F00103 		orr	r3, r3, #1
 404 000a 0380     		strh	r3, [r0]	@ movhi
 405 000c 7047     		bx	lr
 406              	.L23:
 333:./lib/src/at32f4xx_i2c.c ****   }
 334:./lib/src/at32f4xx_i2c.c ****   else
 335:./lib/src/at32f4xx_i2c.c ****   {
 336:./lib/src/at32f4xx_i2c.c ****     /* Disable the selected I2C peripheral */
 337:./lib/src/at32f4xx_i2c.c ****     I2Cx->CTRL1 &= CTRL1_PEN_Reset;
 407              		.loc 1 337 5 is_stmt 1 view .LVU128
 408              		.loc 1 337 17 is_stmt 0 view .LVU129
 409 000e 0388     		ldrh	r3, [r0]
 410 0010 9BB2     		uxth	r3, r3
 411 0012 23F00103 		bic	r3, r3, #1
 412 0016 9BB2     		uxth	r3, r3
 413 0018 0380     		strh	r3, [r0]	@ movhi
 338:./lib/src/at32f4xx_i2c.c ****   }
 339:./lib/src/at32f4xx_i2c.c **** }
 414              		.loc 1 339 1 view .LVU130
 415 001a 7047     		bx	lr
 416              		.cfi_endproc
 417              	.LFE126:
 419              		.section	.text.I2C_DMACmd,"ax",%progbits
 420              		.align	1
 421              		.global	I2C_DMACmd
 422              		.syntax unified
 423              		.thumb
 424              		.thumb_func
 425              		.fpu fpv4-sp-d16
 427              	I2C_DMACmd:
 428              	.LVL41:
 429              	.LFB127:
 340:./lib/src/at32f4xx_i2c.c **** 
 341:./lib/src/at32f4xx_i2c.c **** /**
 342:./lib/src/at32f4xx_i2c.c ****   * @brief  Enables or disables the specified I2C DMA requests.
 343:./lib/src/at32f4xx_i2c.c ****   * @param  I2Cx: where x can be 1, 2 or 3 to select the I2C peripheral.
 344:./lib/src/at32f4xx_i2c.c ****   * @param  NewState: new state of the I2C DMA transfer.
 345:./lib/src/at32f4xx_i2c.c ****   *   This parameter can be: ENABLE or DISABLE.
 346:./lib/src/at32f4xx_i2c.c ****   * @retval None
ARM GAS  /tmp/cctayums.s 			page 15


 347:./lib/src/at32f4xx_i2c.c ****   */
 348:./lib/src/at32f4xx_i2c.c **** void I2C_DMACmd(I2C_Type* I2Cx, FunctionalState NewState)
 349:./lib/src/at32f4xx_i2c.c **** {
 430              		.loc 1 349 1 is_stmt 1 view -0
 431              		.cfi_startproc
 432              		@ args = 0, pretend = 0, frame = 0
 433              		@ frame_needed = 0, uses_anonymous_args = 0
 434              		@ link register save eliminated.
 350:./lib/src/at32f4xx_i2c.c ****   /* Check the parameters */
 351:./lib/src/at32f4xx_i2c.c ****   assert_param(IS_I2C_ALL_PERIPH(I2Cx));
 435              		.loc 1 351 3 view .LVU132
 352:./lib/src/at32f4xx_i2c.c ****   assert_param(IS_FUNCTIONAL_STATE(NewState));
 436              		.loc 1 352 3 view .LVU133
 353:./lib/src/at32f4xx_i2c.c **** 
 354:./lib/src/at32f4xx_i2c.c ****   if (NewState != DISABLE)
 437              		.loc 1 354 3 view .LVU134
 438              		.loc 1 354 6 is_stmt 0 view .LVU135
 439 0000 29B1     		cbz	r1, .L26
 355:./lib/src/at32f4xx_i2c.c ****   {
 356:./lib/src/at32f4xx_i2c.c ****     /* Enable the selected I2C DMA requests */
 357:./lib/src/at32f4xx_i2c.c ****     I2Cx->CTRL2 |= CTRL2_DMAEN_Set;
 440              		.loc 1 357 5 is_stmt 1 view .LVU136
 441              		.loc 1 357 17 is_stmt 0 view .LVU137
 442 0002 8388     		ldrh	r3, [r0, #4]
 443 0004 9BB2     		uxth	r3, r3
 444 0006 43F40063 		orr	r3, r3, #2048
 445 000a 8380     		strh	r3, [r0, #4]	@ movhi
 446 000c 7047     		bx	lr
 447              	.L26:
 358:./lib/src/at32f4xx_i2c.c ****   }
 359:./lib/src/at32f4xx_i2c.c ****   else
 360:./lib/src/at32f4xx_i2c.c ****   {
 361:./lib/src/at32f4xx_i2c.c ****     /* Disable the selected I2C DMA requests */
 362:./lib/src/at32f4xx_i2c.c ****     I2Cx->CTRL2 &= CTRL2_DMAEN_Reset;
 448              		.loc 1 362 5 is_stmt 1 view .LVU138
 449              		.loc 1 362 17 is_stmt 0 view .LVU139
 450 000e 8388     		ldrh	r3, [r0, #4]
 451 0010 9BB2     		uxth	r3, r3
 452 0012 23F40063 		bic	r3, r3, #2048
 453 0016 9BB2     		uxth	r3, r3
 454 0018 8380     		strh	r3, [r0, #4]	@ movhi
 363:./lib/src/at32f4xx_i2c.c ****   }
 364:./lib/src/at32f4xx_i2c.c **** }
 455              		.loc 1 364 1 view .LVU140
 456 001a 7047     		bx	lr
 457              		.cfi_endproc
 458              	.LFE127:
 460              		.section	.text.I2C_DMALastTransferCmd,"ax",%progbits
 461              		.align	1
 462              		.global	I2C_DMALastTransferCmd
 463              		.syntax unified
 464              		.thumb
 465              		.thumb_func
 466              		.fpu fpv4-sp-d16
 468              	I2C_DMALastTransferCmd:
 469              	.LVL42:
 470              	.LFB128:
ARM GAS  /tmp/cctayums.s 			page 16


 365:./lib/src/at32f4xx_i2c.c **** 
 366:./lib/src/at32f4xx_i2c.c **** /**
 367:./lib/src/at32f4xx_i2c.c ****   * @brief  Specifies if the next DMA transfer will be the last one.
 368:./lib/src/at32f4xx_i2c.c ****   * @param  I2Cx: where x can be 1, 2 or 3 to select the I2C peripheral.
 369:./lib/src/at32f4xx_i2c.c ****   * @param  NewState: new state of the I2C DMA last transfer.
 370:./lib/src/at32f4xx_i2c.c ****   *   This parameter can be: ENABLE or DISABLE.
 371:./lib/src/at32f4xx_i2c.c ****   * @retval None
 372:./lib/src/at32f4xx_i2c.c ****   */
 373:./lib/src/at32f4xx_i2c.c **** void I2C_DMALastTransferCmd(I2C_Type* I2Cx, FunctionalState NewState)
 374:./lib/src/at32f4xx_i2c.c **** {
 471              		.loc 1 374 1 is_stmt 1 view -0
 472              		.cfi_startproc
 473              		@ args = 0, pretend = 0, frame = 0
 474              		@ frame_needed = 0, uses_anonymous_args = 0
 475              		@ link register save eliminated.
 375:./lib/src/at32f4xx_i2c.c ****   /* Check the parameters */
 376:./lib/src/at32f4xx_i2c.c ****   assert_param(IS_I2C_ALL_PERIPH(I2Cx));
 476              		.loc 1 376 3 view .LVU142
 377:./lib/src/at32f4xx_i2c.c ****   assert_param(IS_FUNCTIONAL_STATE(NewState));
 477              		.loc 1 377 3 view .LVU143
 378:./lib/src/at32f4xx_i2c.c **** 
 379:./lib/src/at32f4xx_i2c.c ****   if (NewState != DISABLE)
 478              		.loc 1 379 3 view .LVU144
 479              		.loc 1 379 6 is_stmt 0 view .LVU145
 480 0000 29B1     		cbz	r1, .L29
 380:./lib/src/at32f4xx_i2c.c ****   {
 381:./lib/src/at32f4xx_i2c.c ****     /* Next DMA transfer is the last transfer */
 382:./lib/src/at32f4xx_i2c.c ****     I2Cx->CTRL2 |= CTRL2_DMALAST_Set;
 481              		.loc 1 382 5 is_stmt 1 view .LVU146
 482              		.loc 1 382 17 is_stmt 0 view .LVU147
 483 0002 8388     		ldrh	r3, [r0, #4]
 484 0004 9BB2     		uxth	r3, r3
 485 0006 43F48053 		orr	r3, r3, #4096
 486 000a 8380     		strh	r3, [r0, #4]	@ movhi
 487 000c 7047     		bx	lr
 488              	.L29:
 383:./lib/src/at32f4xx_i2c.c ****   }
 384:./lib/src/at32f4xx_i2c.c ****   else
 385:./lib/src/at32f4xx_i2c.c ****   {
 386:./lib/src/at32f4xx_i2c.c ****     /* Next DMA transfer is not the last transfer */
 387:./lib/src/at32f4xx_i2c.c ****     I2Cx->CTRL2 &= CTRL2_DMALAST_Reset;
 489              		.loc 1 387 5 is_stmt 1 view .LVU148
 490              		.loc 1 387 17 is_stmt 0 view .LVU149
 491 000e 8388     		ldrh	r3, [r0, #4]
 492 0010 9BB2     		uxth	r3, r3
 493 0012 23F48053 		bic	r3, r3, #4096
 494 0016 9BB2     		uxth	r3, r3
 495 0018 8380     		strh	r3, [r0, #4]	@ movhi
 388:./lib/src/at32f4xx_i2c.c ****   }
 389:./lib/src/at32f4xx_i2c.c **** }
 496              		.loc 1 389 1 view .LVU150
 497 001a 7047     		bx	lr
 498              		.cfi_endproc
 499              	.LFE128:
 501              		.section	.text.I2C_GenerateSTART,"ax",%progbits
 502              		.align	1
 503              		.global	I2C_GenerateSTART
ARM GAS  /tmp/cctayums.s 			page 17


 504              		.syntax unified
 505              		.thumb
 506              		.thumb_func
 507              		.fpu fpv4-sp-d16
 509              	I2C_GenerateSTART:
 510              	.LVL43:
 511              	.LFB129:
 390:./lib/src/at32f4xx_i2c.c **** 
 391:./lib/src/at32f4xx_i2c.c **** /**
 392:./lib/src/at32f4xx_i2c.c ****   * @brief  Generates I2Cx communication START condition.
 393:./lib/src/at32f4xx_i2c.c ****   * @param  I2Cx: where x can be 1, 2 or 3 to select the I2C peripheral.
 394:./lib/src/at32f4xx_i2c.c ****   * @param  NewState: new state of the I2C START condition generation.
 395:./lib/src/at32f4xx_i2c.c ****   *   This parameter can be: ENABLE or DISABLE.
 396:./lib/src/at32f4xx_i2c.c ****   * @retval None.
 397:./lib/src/at32f4xx_i2c.c ****   */
 398:./lib/src/at32f4xx_i2c.c **** void I2C_GenerateSTART(I2C_Type* I2Cx, FunctionalState NewState)
 399:./lib/src/at32f4xx_i2c.c **** {
 512              		.loc 1 399 1 is_stmt 1 view -0
 513              		.cfi_startproc
 514              		@ args = 0, pretend = 0, frame = 0
 515              		@ frame_needed = 0, uses_anonymous_args = 0
 516              		@ link register save eliminated.
 400:./lib/src/at32f4xx_i2c.c ****   /* Check the parameters */
 401:./lib/src/at32f4xx_i2c.c ****   assert_param(IS_I2C_ALL_PERIPH(I2Cx));
 517              		.loc 1 401 3 view .LVU152
 402:./lib/src/at32f4xx_i2c.c ****   assert_param(IS_FUNCTIONAL_STATE(NewState));
 518              		.loc 1 402 3 view .LVU153
 403:./lib/src/at32f4xx_i2c.c **** 
 404:./lib/src/at32f4xx_i2c.c ****   if (NewState != DISABLE)
 519              		.loc 1 404 3 view .LVU154
 520              		.loc 1 404 6 is_stmt 0 view .LVU155
 521 0000 29B1     		cbz	r1, .L32
 405:./lib/src/at32f4xx_i2c.c ****   {
 406:./lib/src/at32f4xx_i2c.c ****     /* Generate a START condition */
 407:./lib/src/at32f4xx_i2c.c ****     I2Cx->CTRL1 |= CTRL1_STARTGEN_Set;
 522              		.loc 1 407 5 is_stmt 1 view .LVU156
 523              		.loc 1 407 17 is_stmt 0 view .LVU157
 524 0002 0388     		ldrh	r3, [r0]
 525 0004 9BB2     		uxth	r3, r3
 526 0006 43F48073 		orr	r3, r3, #256
 527 000a 0380     		strh	r3, [r0]	@ movhi
 528 000c 7047     		bx	lr
 529              	.L32:
 408:./lib/src/at32f4xx_i2c.c ****   }
 409:./lib/src/at32f4xx_i2c.c ****   else
 410:./lib/src/at32f4xx_i2c.c ****   {
 411:./lib/src/at32f4xx_i2c.c ****     /* Disable the START condition generation */
 412:./lib/src/at32f4xx_i2c.c ****     I2Cx->CTRL1 &= CTRL1_STARTGEN_Reset;
 530              		.loc 1 412 5 is_stmt 1 view .LVU158
 531              		.loc 1 412 17 is_stmt 0 view .LVU159
 532 000e 0388     		ldrh	r3, [r0]
 533 0010 9BB2     		uxth	r3, r3
 534 0012 23F48073 		bic	r3, r3, #256
 535 0016 9BB2     		uxth	r3, r3
 536 0018 0380     		strh	r3, [r0]	@ movhi
 413:./lib/src/at32f4xx_i2c.c ****   }
 414:./lib/src/at32f4xx_i2c.c **** }
ARM GAS  /tmp/cctayums.s 			page 18


 537              		.loc 1 414 1 view .LVU160
 538 001a 7047     		bx	lr
 539              		.cfi_endproc
 540              	.LFE129:
 542              		.section	.text.I2C_GenerateSTOP,"ax",%progbits
 543              		.align	1
 544              		.global	I2C_GenerateSTOP
 545              		.syntax unified
 546              		.thumb
 547              		.thumb_func
 548              		.fpu fpv4-sp-d16
 550              	I2C_GenerateSTOP:
 551              	.LVL44:
 552              	.LFB130:
 415:./lib/src/at32f4xx_i2c.c **** 
 416:./lib/src/at32f4xx_i2c.c **** /**
 417:./lib/src/at32f4xx_i2c.c ****   * @brief  Generates I2Cx communication STOP condition.
 418:./lib/src/at32f4xx_i2c.c ****   * @param  I2Cx: where x can be 1, 2 or 3 to select the I2C peripheral.
 419:./lib/src/at32f4xx_i2c.c ****   * @param  NewState: new state of the I2C STOP condition generation.
 420:./lib/src/at32f4xx_i2c.c ****   *   This parameter can be: ENABLE or DISABLE.
 421:./lib/src/at32f4xx_i2c.c ****   * @retval None.
 422:./lib/src/at32f4xx_i2c.c ****   */
 423:./lib/src/at32f4xx_i2c.c **** void I2C_GenerateSTOP(I2C_Type* I2Cx, FunctionalState NewState)
 424:./lib/src/at32f4xx_i2c.c **** {
 553              		.loc 1 424 1 is_stmt 1 view -0
 554              		.cfi_startproc
 555              		@ args = 0, pretend = 0, frame = 0
 556              		@ frame_needed = 0, uses_anonymous_args = 0
 557              		@ link register save eliminated.
 425:./lib/src/at32f4xx_i2c.c ****   /* Check the parameters */
 426:./lib/src/at32f4xx_i2c.c ****   assert_param(IS_I2C_ALL_PERIPH(I2Cx));
 558              		.loc 1 426 3 view .LVU162
 427:./lib/src/at32f4xx_i2c.c ****   assert_param(IS_FUNCTIONAL_STATE(NewState));
 559              		.loc 1 427 3 view .LVU163
 428:./lib/src/at32f4xx_i2c.c **** 
 429:./lib/src/at32f4xx_i2c.c ****   if (NewState != DISABLE)
 560              		.loc 1 429 3 view .LVU164
 561              		.loc 1 429 6 is_stmt 0 view .LVU165
 562 0000 29B1     		cbz	r1, .L35
 430:./lib/src/at32f4xx_i2c.c ****   {
 431:./lib/src/at32f4xx_i2c.c ****     /* Generate a STOP condition */
 432:./lib/src/at32f4xx_i2c.c ****     I2Cx->CTRL1 |= CTRL1_STOPGEN_Set;
 563              		.loc 1 432 5 is_stmt 1 view .LVU166
 564              		.loc 1 432 17 is_stmt 0 view .LVU167
 565 0002 0388     		ldrh	r3, [r0]
 566 0004 9BB2     		uxth	r3, r3
 567 0006 43F40073 		orr	r3, r3, #512
 568 000a 0380     		strh	r3, [r0]	@ movhi
 569 000c 7047     		bx	lr
 570              	.L35:
 433:./lib/src/at32f4xx_i2c.c ****   }
 434:./lib/src/at32f4xx_i2c.c ****   else
 435:./lib/src/at32f4xx_i2c.c ****   {
 436:./lib/src/at32f4xx_i2c.c ****     /* Disable the STOP condition generation */
 437:./lib/src/at32f4xx_i2c.c ****     I2Cx->CTRL1 &= CTRL1_STOPGEN_Reset;
 571              		.loc 1 437 5 is_stmt 1 view .LVU168
 572              		.loc 1 437 17 is_stmt 0 view .LVU169
ARM GAS  /tmp/cctayums.s 			page 19


 573 000e 0388     		ldrh	r3, [r0]
 574 0010 9BB2     		uxth	r3, r3
 575 0012 23F40073 		bic	r3, r3, #512
 576 0016 9BB2     		uxth	r3, r3
 577 0018 0380     		strh	r3, [r0]	@ movhi
 438:./lib/src/at32f4xx_i2c.c ****   }
 439:./lib/src/at32f4xx_i2c.c **** }
 578              		.loc 1 439 1 view .LVU170
 579 001a 7047     		bx	lr
 580              		.cfi_endproc
 581              	.LFE130:
 583              		.section	.text.I2C_AcknowledgeConfig,"ax",%progbits
 584              		.align	1
 585              		.global	I2C_AcknowledgeConfig
 586              		.syntax unified
 587              		.thumb
 588              		.thumb_func
 589              		.fpu fpv4-sp-d16
 591              	I2C_AcknowledgeConfig:
 592              	.LVL45:
 593              	.LFB131:
 440:./lib/src/at32f4xx_i2c.c **** 
 441:./lib/src/at32f4xx_i2c.c **** /**
 442:./lib/src/at32f4xx_i2c.c ****   * @brief  Enables or disables the specified I2C acknowledge feature.
 443:./lib/src/at32f4xx_i2c.c ****   * @param  I2Cx: where x can be 1, 2 or 3 to select the I2C peripheral.
 444:./lib/src/at32f4xx_i2c.c ****   * @param  NewState: new state of the I2C Acknowledgement.
 445:./lib/src/at32f4xx_i2c.c ****   *   This parameter can be: ENABLE or DISABLE.
 446:./lib/src/at32f4xx_i2c.c ****   * @retval None.
 447:./lib/src/at32f4xx_i2c.c ****   */
 448:./lib/src/at32f4xx_i2c.c **** void I2C_AcknowledgeConfig(I2C_Type* I2Cx, FunctionalState NewState)
 449:./lib/src/at32f4xx_i2c.c **** {
 594              		.loc 1 449 1 is_stmt 1 view -0
 595              		.cfi_startproc
 596              		@ args = 0, pretend = 0, frame = 0
 597              		@ frame_needed = 0, uses_anonymous_args = 0
 598              		@ link register save eliminated.
 450:./lib/src/at32f4xx_i2c.c ****   /* Check the parameters */
 451:./lib/src/at32f4xx_i2c.c ****   assert_param(IS_I2C_ALL_PERIPH(I2Cx));
 599              		.loc 1 451 3 view .LVU172
 452:./lib/src/at32f4xx_i2c.c ****   assert_param(IS_FUNCTIONAL_STATE(NewState));
 600              		.loc 1 452 3 view .LVU173
 453:./lib/src/at32f4xx_i2c.c **** 
 454:./lib/src/at32f4xx_i2c.c ****   if (NewState != DISABLE)
 601              		.loc 1 454 3 view .LVU174
 602              		.loc 1 454 6 is_stmt 0 view .LVU175
 603 0000 29B1     		cbz	r1, .L38
 455:./lib/src/at32f4xx_i2c.c ****   {
 456:./lib/src/at32f4xx_i2c.c ****     /* Enable the acknowledgement */
 457:./lib/src/at32f4xx_i2c.c ****     I2Cx->CTRL1 |= CTRL1_ACKEN_Set;
 604              		.loc 1 457 5 is_stmt 1 view .LVU176
 605              		.loc 1 457 17 is_stmt 0 view .LVU177
 606 0002 0388     		ldrh	r3, [r0]
 607 0004 9BB2     		uxth	r3, r3
 608 0006 43F48063 		orr	r3, r3, #1024
 609 000a 0380     		strh	r3, [r0]	@ movhi
 610 000c 7047     		bx	lr
 611              	.L38:
ARM GAS  /tmp/cctayums.s 			page 20


 458:./lib/src/at32f4xx_i2c.c ****   }
 459:./lib/src/at32f4xx_i2c.c ****   else
 460:./lib/src/at32f4xx_i2c.c ****   {
 461:./lib/src/at32f4xx_i2c.c ****     /* Disable the acknowledgement */
 462:./lib/src/at32f4xx_i2c.c ****     I2Cx->CTRL1 &= CTRL1_ACKEN_Reset;
 612              		.loc 1 462 5 is_stmt 1 view .LVU178
 613              		.loc 1 462 17 is_stmt 0 view .LVU179
 614 000e 0388     		ldrh	r3, [r0]
 615 0010 9BB2     		uxth	r3, r3
 616 0012 23F48063 		bic	r3, r3, #1024
 617 0016 9BB2     		uxth	r3, r3
 618 0018 0380     		strh	r3, [r0]	@ movhi
 463:./lib/src/at32f4xx_i2c.c ****   }
 464:./lib/src/at32f4xx_i2c.c **** }
 619              		.loc 1 464 1 view .LVU180
 620 001a 7047     		bx	lr
 621              		.cfi_endproc
 622              	.LFE131:
 624              		.section	.text.I2C_OwnAddress2Config,"ax",%progbits
 625              		.align	1
 626              		.global	I2C_OwnAddress2Config
 627              		.syntax unified
 628              		.thumb
 629              		.thumb_func
 630              		.fpu fpv4-sp-d16
 632              	I2C_OwnAddress2Config:
 633              	.LVL46:
 634              	.LFB132:
 465:./lib/src/at32f4xx_i2c.c **** 
 466:./lib/src/at32f4xx_i2c.c **** /**
 467:./lib/src/at32f4xx_i2c.c ****   * @brief  Configures the specified I2C own address2.
 468:./lib/src/at32f4xx_i2c.c ****   * @param  I2Cx: where x can be 1, 2 or 3 to select the I2C peripheral.
 469:./lib/src/at32f4xx_i2c.c ****   * @param  Address: specifies the 7bit I2C own address2.
 470:./lib/src/at32f4xx_i2c.c ****   * @retval None.
 471:./lib/src/at32f4xx_i2c.c ****   */
 472:./lib/src/at32f4xx_i2c.c **** void I2C_OwnAddress2Config(I2C_Type* I2Cx, uint8_t Address)
 473:./lib/src/at32f4xx_i2c.c **** {
 635              		.loc 1 473 1 is_stmt 1 view -0
 636              		.cfi_startproc
 637              		@ args = 0, pretend = 0, frame = 0
 638              		@ frame_needed = 0, uses_anonymous_args = 0
 639              		@ link register save eliminated.
 474:./lib/src/at32f4xx_i2c.c ****   uint16_t tmpreg = 0;
 640              		.loc 1 474 3 view .LVU182
 475:./lib/src/at32f4xx_i2c.c **** 
 476:./lib/src/at32f4xx_i2c.c ****   /* Check the parameters */
 477:./lib/src/at32f4xx_i2c.c ****   assert_param(IS_I2C_ALL_PERIPH(I2Cx));
 641              		.loc 1 477 3 view .LVU183
 478:./lib/src/at32f4xx_i2c.c **** 
 479:./lib/src/at32f4xx_i2c.c ****   /* Get the old register value */
 480:./lib/src/at32f4xx_i2c.c ****   tmpreg = I2Cx->OADDR2;
 642              		.loc 1 480 3 view .LVU184
 643              		.loc 1 480 10 is_stmt 0 view .LVU185
 644 0000 8389     		ldrh	r3, [r0, #12]
 645 0002 9BB2     		uxth	r3, r3
 646              	.LVL47:
 481:./lib/src/at32f4xx_i2c.c **** 
ARM GAS  /tmp/cctayums.s 			page 21


 482:./lib/src/at32f4xx_i2c.c ****   /* Reset I2Cx Own address2 bit [7:1] */
 483:./lib/src/at32f4xx_i2c.c ****   tmpreg &= OADDR2_ADDR2_Reset;
 647              		.loc 1 483 3 is_stmt 1 view .LVU186
 648              		.loc 1 483 10 is_stmt 0 view .LVU187
 649 0004 23F0FE03 		bic	r3, r3, #254
 650              	.LVL48:
 484:./lib/src/at32f4xx_i2c.c **** 
 485:./lib/src/at32f4xx_i2c.c ****   /* Set I2Cx Own address2 */
 486:./lib/src/at32f4xx_i2c.c ****   tmpreg |= (uint16_t)((uint16_t)Address & (uint16_t)0x00FE);
 651              		.loc 1 486 3 is_stmt 1 view .LVU188
 652              		.loc 1 486 13 is_stmt 0 view .LVU189
 653 0008 01F0FE01 		and	r1, r1, #254
 654              	.LVL49:
 655              		.loc 1 486 10 view .LVU190
 656 000c 0B43     		orrs	r3, r3, r1
 657              	.LVL50:
 487:./lib/src/at32f4xx_i2c.c **** 
 488:./lib/src/at32f4xx_i2c.c ****   /* Store the new register value */
 489:./lib/src/at32f4xx_i2c.c ****   I2Cx->OADDR2 = tmpreg;
 658              		.loc 1 489 3 is_stmt 1 view .LVU191
 659              		.loc 1 489 16 is_stmt 0 view .LVU192
 660 000e 8381     		strh	r3, [r0, #12]	@ movhi
 490:./lib/src/at32f4xx_i2c.c **** }
 661              		.loc 1 490 1 view .LVU193
 662 0010 7047     		bx	lr
 663              		.cfi_endproc
 664              	.LFE132:
 666              		.section	.text.I2C_DualAddressCmd,"ax",%progbits
 667              		.align	1
 668              		.global	I2C_DualAddressCmd
 669              		.syntax unified
 670              		.thumb
 671              		.thumb_func
 672              		.fpu fpv4-sp-d16
 674              	I2C_DualAddressCmd:
 675              	.LVL51:
 676              	.LFB133:
 491:./lib/src/at32f4xx_i2c.c **** 
 492:./lib/src/at32f4xx_i2c.c **** /**
 493:./lib/src/at32f4xx_i2c.c ****   * @brief  Enables or disables the specified I2C dual addressing mode.
 494:./lib/src/at32f4xx_i2c.c ****   * @param  I2Cx: where x can be 1, 2 or 3 to select the I2C peripheral.
 495:./lib/src/at32f4xx_i2c.c ****   * @param  NewState: new state of the I2C dual addressing mode.
 496:./lib/src/at32f4xx_i2c.c ****   *   This parameter can be: ENABLE or DISABLE.
 497:./lib/src/at32f4xx_i2c.c ****   * @retval None
 498:./lib/src/at32f4xx_i2c.c ****   */
 499:./lib/src/at32f4xx_i2c.c **** void I2C_DualAddressCmd(I2C_Type* I2Cx, FunctionalState NewState)
 500:./lib/src/at32f4xx_i2c.c **** {
 677              		.loc 1 500 1 is_stmt 1 view -0
 678              		.cfi_startproc
 679              		@ args = 0, pretend = 0, frame = 0
 680              		@ frame_needed = 0, uses_anonymous_args = 0
 681              		@ link register save eliminated.
 501:./lib/src/at32f4xx_i2c.c ****   /* Check the parameters */
 502:./lib/src/at32f4xx_i2c.c ****   assert_param(IS_I2C_ALL_PERIPH(I2Cx));
 682              		.loc 1 502 3 view .LVU195
 503:./lib/src/at32f4xx_i2c.c ****   assert_param(IS_FUNCTIONAL_STATE(NewState));
 683              		.loc 1 503 3 view .LVU196
ARM GAS  /tmp/cctayums.s 			page 22


 504:./lib/src/at32f4xx_i2c.c **** 
 505:./lib/src/at32f4xx_i2c.c ****   if (NewState != DISABLE)
 684              		.loc 1 505 3 view .LVU197
 685              		.loc 1 505 6 is_stmt 0 view .LVU198
 686 0000 29B1     		cbz	r1, .L42
 506:./lib/src/at32f4xx_i2c.c ****   {
 507:./lib/src/at32f4xx_i2c.c ****     /* Enable dual addressing mode */
 508:./lib/src/at32f4xx_i2c.c ****     I2Cx->OADDR2 |= OADDR2_DUALEN_Set;
 687              		.loc 1 508 5 is_stmt 1 view .LVU199
 688              		.loc 1 508 18 is_stmt 0 view .LVU200
 689 0002 8389     		ldrh	r3, [r0, #12]
 690 0004 9BB2     		uxth	r3, r3
 691 0006 43F00103 		orr	r3, r3, #1
 692 000a 8381     		strh	r3, [r0, #12]	@ movhi
 693 000c 7047     		bx	lr
 694              	.L42:
 509:./lib/src/at32f4xx_i2c.c ****   }
 510:./lib/src/at32f4xx_i2c.c ****   else
 511:./lib/src/at32f4xx_i2c.c ****   {
 512:./lib/src/at32f4xx_i2c.c ****     /* Disable dual addressing mode */
 513:./lib/src/at32f4xx_i2c.c ****     I2Cx->OADDR2 &= OADDR2_DUALEN_Reset;
 695              		.loc 1 513 5 is_stmt 1 view .LVU201
 696              		.loc 1 513 18 is_stmt 0 view .LVU202
 697 000e 8389     		ldrh	r3, [r0, #12]
 698 0010 9BB2     		uxth	r3, r3
 699 0012 23F00103 		bic	r3, r3, #1
 700 0016 9BB2     		uxth	r3, r3
 701 0018 8381     		strh	r3, [r0, #12]	@ movhi
 514:./lib/src/at32f4xx_i2c.c ****   }
 515:./lib/src/at32f4xx_i2c.c **** }
 702              		.loc 1 515 1 view .LVU203
 703 001a 7047     		bx	lr
 704              		.cfi_endproc
 705              	.LFE133:
 707              		.section	.text.I2C_GeneralCallCmd,"ax",%progbits
 708              		.align	1
 709              		.global	I2C_GeneralCallCmd
 710              		.syntax unified
 711              		.thumb
 712              		.thumb_func
 713              		.fpu fpv4-sp-d16
 715              	I2C_GeneralCallCmd:
 716              	.LVL52:
 717              	.LFB134:
 516:./lib/src/at32f4xx_i2c.c **** 
 517:./lib/src/at32f4xx_i2c.c **** /**
 518:./lib/src/at32f4xx_i2c.c ****   * @brief  Enables or disables the specified I2C general call feature.
 519:./lib/src/at32f4xx_i2c.c ****   * @param  I2Cx: where x can be 1, 2 or 3 to select the I2C peripheral.
 520:./lib/src/at32f4xx_i2c.c ****   * @param  NewState: new state of the I2C General call.
 521:./lib/src/at32f4xx_i2c.c ****   *   This parameter can be: ENABLE or DISABLE.
 522:./lib/src/at32f4xx_i2c.c ****   * @retval None
 523:./lib/src/at32f4xx_i2c.c ****   */
 524:./lib/src/at32f4xx_i2c.c **** void I2C_GeneralCallCmd(I2C_Type* I2Cx, FunctionalState NewState)
 525:./lib/src/at32f4xx_i2c.c **** {
 718              		.loc 1 525 1 is_stmt 1 view -0
 719              		.cfi_startproc
 720              		@ args = 0, pretend = 0, frame = 0
ARM GAS  /tmp/cctayums.s 			page 23


 721              		@ frame_needed = 0, uses_anonymous_args = 0
 722              		@ link register save eliminated.
 526:./lib/src/at32f4xx_i2c.c ****   /* Check the parameters */
 527:./lib/src/at32f4xx_i2c.c ****   assert_param(IS_I2C_ALL_PERIPH(I2Cx));
 723              		.loc 1 527 3 view .LVU205
 528:./lib/src/at32f4xx_i2c.c ****   assert_param(IS_FUNCTIONAL_STATE(NewState));
 724              		.loc 1 528 3 view .LVU206
 529:./lib/src/at32f4xx_i2c.c **** 
 530:./lib/src/at32f4xx_i2c.c ****   if (NewState != DISABLE)
 725              		.loc 1 530 3 view .LVU207
 726              		.loc 1 530 6 is_stmt 0 view .LVU208
 727 0000 29B1     		cbz	r1, .L45
 531:./lib/src/at32f4xx_i2c.c ****   {
 532:./lib/src/at32f4xx_i2c.c ****     /* Enable generall call */
 533:./lib/src/at32f4xx_i2c.c ****     I2Cx->CTRL1 |= CTRL1_GCEN_Set;
 728              		.loc 1 533 5 is_stmt 1 view .LVU209
 729              		.loc 1 533 17 is_stmt 0 view .LVU210
 730 0002 0388     		ldrh	r3, [r0]
 731 0004 9BB2     		uxth	r3, r3
 732 0006 43F04003 		orr	r3, r3, #64
 733 000a 0380     		strh	r3, [r0]	@ movhi
 734 000c 7047     		bx	lr
 735              	.L45:
 534:./lib/src/at32f4xx_i2c.c ****   }
 535:./lib/src/at32f4xx_i2c.c ****   else
 536:./lib/src/at32f4xx_i2c.c ****   {
 537:./lib/src/at32f4xx_i2c.c ****     /* Disable generall call */
 538:./lib/src/at32f4xx_i2c.c ****     I2Cx->CTRL1 &= CTRL1_GCEN_Reset;
 736              		.loc 1 538 5 is_stmt 1 view .LVU211
 737              		.loc 1 538 17 is_stmt 0 view .LVU212
 738 000e 0388     		ldrh	r3, [r0]
 739 0010 9BB2     		uxth	r3, r3
 740 0012 23F04003 		bic	r3, r3, #64
 741 0016 9BB2     		uxth	r3, r3
 742 0018 0380     		strh	r3, [r0]	@ movhi
 539:./lib/src/at32f4xx_i2c.c ****   }
 540:./lib/src/at32f4xx_i2c.c **** }
 743              		.loc 1 540 1 view .LVU213
 744 001a 7047     		bx	lr
 745              		.cfi_endproc
 746              	.LFE134:
 748              		.section	.text.I2C_INTConfig,"ax",%progbits
 749              		.align	1
 750              		.global	I2C_INTConfig
 751              		.syntax unified
 752              		.thumb
 753              		.thumb_func
 754              		.fpu fpv4-sp-d16
 756              	I2C_INTConfig:
 757              	.LVL53:
 758              	.LFB135:
 541:./lib/src/at32f4xx_i2c.c **** 
 542:./lib/src/at32f4xx_i2c.c **** /**
 543:./lib/src/at32f4xx_i2c.c ****   * @brief  Enables or disables the specified I2C interrupts.
 544:./lib/src/at32f4xx_i2c.c ****   * @param  I2Cx: where x can be 1, 2 or 3 to select the I2C peripheral.
 545:./lib/src/at32f4xx_i2c.c ****   * @param  I2C_INT: specifies the I2C interrupts sources to be enabled or disabled.
 546:./lib/src/at32f4xx_i2c.c ****   *   This parameter can be any combination of the following values:
ARM GAS  /tmp/cctayums.s 			page 24


 547:./lib/src/at32f4xx_i2c.c ****   *     @arg I2C_INT_BUF: Buffer interrupt mask
 548:./lib/src/at32f4xx_i2c.c ****   *     @arg I2C_INT_EVT: Event interrupt mask
 549:./lib/src/at32f4xx_i2c.c ****   *     @arg I2C_INT_ERR: Error interrupt mask
 550:./lib/src/at32f4xx_i2c.c ****   * @param  NewState: new state of the specified I2C interrupts.
 551:./lib/src/at32f4xx_i2c.c ****   *   This parameter can be: ENABLE or DISABLE.
 552:./lib/src/at32f4xx_i2c.c ****   * @retval None
 553:./lib/src/at32f4xx_i2c.c ****   */
 554:./lib/src/at32f4xx_i2c.c **** void I2C_INTConfig(I2C_Type* I2Cx, uint16_t I2C_INT, FunctionalState NewState)
 555:./lib/src/at32f4xx_i2c.c **** {
 759              		.loc 1 555 1 is_stmt 1 view -0
 760              		.cfi_startproc
 761              		@ args = 0, pretend = 0, frame = 0
 762              		@ frame_needed = 0, uses_anonymous_args = 0
 763              		@ link register save eliminated.
 556:./lib/src/at32f4xx_i2c.c ****   /* Check the parameters */
 557:./lib/src/at32f4xx_i2c.c ****   assert_param(IS_I2C_ALL_PERIPH(I2Cx));
 764              		.loc 1 557 3 view .LVU215
 558:./lib/src/at32f4xx_i2c.c ****   assert_param(IS_FUNCTIONAL_STATE(NewState));
 765              		.loc 1 558 3 view .LVU216
 559:./lib/src/at32f4xx_i2c.c ****   assert_param(IS_I2C_CONFIG_INT(I2C_INT));
 766              		.loc 1 559 3 view .LVU217
 560:./lib/src/at32f4xx_i2c.c **** 
 561:./lib/src/at32f4xx_i2c.c ****   if (NewState != DISABLE)
 767              		.loc 1 561 3 view .LVU218
 768              		.loc 1 561 6 is_stmt 0 view .LVU219
 769 0000 22B1     		cbz	r2, .L48
 562:./lib/src/at32f4xx_i2c.c ****   {
 563:./lib/src/at32f4xx_i2c.c ****     /* Enable the selected I2C interrupts */
 564:./lib/src/at32f4xx_i2c.c ****     I2Cx->CTRL2 |= I2C_INT;
 770              		.loc 1 564 5 is_stmt 1 view .LVU220
 771              		.loc 1 564 17 is_stmt 0 view .LVU221
 772 0002 8388     		ldrh	r3, [r0, #4]
 773 0004 9BB2     		uxth	r3, r3
 774 0006 1943     		orrs	r1, r1, r3
 775              	.LVL54:
 776              		.loc 1 564 17 view .LVU222
 777 0008 8180     		strh	r1, [r0, #4]	@ movhi
 778 000a 7047     		bx	lr
 779              	.LVL55:
 780              	.L48:
 565:./lib/src/at32f4xx_i2c.c ****   }
 566:./lib/src/at32f4xx_i2c.c ****   else
 567:./lib/src/at32f4xx_i2c.c ****   {
 568:./lib/src/at32f4xx_i2c.c ****     /* Disable the selected I2C interrupts */
 569:./lib/src/at32f4xx_i2c.c ****     I2Cx->CTRL2 &= (uint16_t)~I2C_INT;
 781              		.loc 1 569 5 is_stmt 1 view .LVU223
 782              		.loc 1 569 17 is_stmt 0 view .LVU224
 783 000c 8388     		ldrh	r3, [r0, #4]
 784              		.loc 1 569 20 view .LVU225
 785 000e C943     		mvns	r1, r1
 786              	.LVL56:
 787              		.loc 1 569 20 view .LVU226
 788 0010 89B2     		uxth	r1, r1
 789              		.loc 1 569 17 view .LVU227
 790 0012 1940     		ands	r1, r1, r3
 791 0014 8180     		strh	r1, [r0, #4]	@ movhi
 570:./lib/src/at32f4xx_i2c.c ****   }
ARM GAS  /tmp/cctayums.s 			page 25


 571:./lib/src/at32f4xx_i2c.c **** }
 792              		.loc 1 571 1 view .LVU228
 793 0016 7047     		bx	lr
 794              		.cfi_endproc
 795              	.LFE135:
 797              		.section	.text.I2C_SendData,"ax",%progbits
 798              		.align	1
 799              		.global	I2C_SendData
 800              		.syntax unified
 801              		.thumb
 802              		.thumb_func
 803              		.fpu fpv4-sp-d16
 805              	I2C_SendData:
 806              	.LVL57:
 807              	.LFB136:
 572:./lib/src/at32f4xx_i2c.c **** 
 573:./lib/src/at32f4xx_i2c.c **** /**
 574:./lib/src/at32f4xx_i2c.c ****   * @brief  Sends a data byte through the I2Cx peripheral.
 575:./lib/src/at32f4xx_i2c.c ****   * @param  I2Cx: where x can be 1, 2 or 3 to select the I2C peripheral.
 576:./lib/src/at32f4xx_i2c.c ****   * @param  Data: Byte to be transmitted..
 577:./lib/src/at32f4xx_i2c.c ****   * @retval None
 578:./lib/src/at32f4xx_i2c.c ****   */
 579:./lib/src/at32f4xx_i2c.c **** void I2C_SendData(I2C_Type* I2Cx, uint8_t Data)
 580:./lib/src/at32f4xx_i2c.c **** {
 808              		.loc 1 580 1 is_stmt 1 view -0
 809              		.cfi_startproc
 810              		@ args = 0, pretend = 0, frame = 0
 811              		@ frame_needed = 0, uses_anonymous_args = 0
 812              		@ link register save eliminated.
 581:./lib/src/at32f4xx_i2c.c ****   /* Check the parameters */
 582:./lib/src/at32f4xx_i2c.c ****   assert_param(IS_I2C_ALL_PERIPH(I2Cx));
 813              		.loc 1 582 3 view .LVU230
 583:./lib/src/at32f4xx_i2c.c ****   /* Write in the DR register the data to be sent */
 584:./lib/src/at32f4xx_i2c.c ****   I2Cx->DT = Data;
 814              		.loc 1 584 3 view .LVU231
 815              		.loc 1 584 12 is_stmt 0 view .LVU232
 816 0000 0182     		strh	r1, [r0, #16]	@ movhi
 585:./lib/src/at32f4xx_i2c.c **** }
 817              		.loc 1 585 1 view .LVU233
 818 0002 7047     		bx	lr
 819              		.cfi_endproc
 820              	.LFE136:
 822              		.section	.text.I2C_ReceiveData,"ax",%progbits
 823              		.align	1
 824              		.global	I2C_ReceiveData
 825              		.syntax unified
 826              		.thumb
 827              		.thumb_func
 828              		.fpu fpv4-sp-d16
 830              	I2C_ReceiveData:
 831              	.LVL58:
 832              	.LFB137:
 586:./lib/src/at32f4xx_i2c.c **** 
 587:./lib/src/at32f4xx_i2c.c **** /**
 588:./lib/src/at32f4xx_i2c.c ****   * @brief  Returns the most recent received data by the I2Cx peripheral.
 589:./lib/src/at32f4xx_i2c.c ****   * @param  I2Cx: where x can be 1, 2 or 3 to select the I2C peripheral.
 590:./lib/src/at32f4xx_i2c.c ****   * @retval The value of the received data.
ARM GAS  /tmp/cctayums.s 			page 26


 591:./lib/src/at32f4xx_i2c.c ****   */
 592:./lib/src/at32f4xx_i2c.c **** uint8_t I2C_ReceiveData(I2C_Type* I2Cx)
 593:./lib/src/at32f4xx_i2c.c **** {
 833              		.loc 1 593 1 is_stmt 1 view -0
 834              		.cfi_startproc
 835              		@ args = 0, pretend = 0, frame = 0
 836              		@ frame_needed = 0, uses_anonymous_args = 0
 837              		@ link register save eliminated.
 594:./lib/src/at32f4xx_i2c.c ****   /* Check the parameters */
 595:./lib/src/at32f4xx_i2c.c ****   assert_param(IS_I2C_ALL_PERIPH(I2Cx));
 838              		.loc 1 595 3 view .LVU235
 596:./lib/src/at32f4xx_i2c.c ****   /* Return the data in the DR register */
 597:./lib/src/at32f4xx_i2c.c ****   return (uint8_t)I2Cx->DT;
 839              		.loc 1 597 3 view .LVU236
 840              		.loc 1 597 23 is_stmt 0 view .LVU237
 841 0000 008A     		ldrh	r0, [r0, #16]
 842              	.LVL59:
 598:./lib/src/at32f4xx_i2c.c **** }
 843              		.loc 1 598 1 view .LVU238
 844 0002 C0B2     		uxtb	r0, r0
 845 0004 7047     		bx	lr
 846              		.cfi_endproc
 847              	.LFE137:
 849              		.section	.text.I2C_Send7bitAddress,"ax",%progbits
 850              		.align	1
 851              		.global	I2C_Send7bitAddress
 852              		.syntax unified
 853              		.thumb
 854              		.thumb_func
 855              		.fpu fpv4-sp-d16
 857              	I2C_Send7bitAddress:
 858              	.LVL60:
 859              	.LFB138:
 599:./lib/src/at32f4xx_i2c.c **** 
 600:./lib/src/at32f4xx_i2c.c **** /**
 601:./lib/src/at32f4xx_i2c.c ****   * @brief  Transmits the address byte to select the slave device.
 602:./lib/src/at32f4xx_i2c.c ****   * @param  I2Cx: where x can be 1, 2 or 3 to select the I2C peripheral.
 603:./lib/src/at32f4xx_i2c.c ****   * @param  Address: specifies the slave address which will be transmitted
 604:./lib/src/at32f4xx_i2c.c ****   * @param  I2C_Direction: specifies whether the I2C device will be a
 605:./lib/src/at32f4xx_i2c.c ****   *   Transmitter or a Receiver. This parameter can be one of the following values
 606:./lib/src/at32f4xx_i2c.c ****   *     @arg I2C_Direction_Transmit: Transmitter mode
 607:./lib/src/at32f4xx_i2c.c ****   *     @arg I2C_Direction_Receive: Receiver mode
 608:./lib/src/at32f4xx_i2c.c ****   * @retval None.
 609:./lib/src/at32f4xx_i2c.c ****   */
 610:./lib/src/at32f4xx_i2c.c **** void I2C_Send7bitAddress(I2C_Type* I2Cx, uint8_t Address, uint8_t I2C_Direction)
 611:./lib/src/at32f4xx_i2c.c **** {
 860              		.loc 1 611 1 is_stmt 1 view -0
 861              		.cfi_startproc
 862              		@ args = 0, pretend = 0, frame = 0
 863              		@ frame_needed = 0, uses_anonymous_args = 0
 864              		@ link register save eliminated.
 612:./lib/src/at32f4xx_i2c.c ****   /* Check the parameters */
 613:./lib/src/at32f4xx_i2c.c ****   assert_param(IS_I2C_ALL_PERIPH(I2Cx));
 865              		.loc 1 613 3 view .LVU240
 614:./lib/src/at32f4xx_i2c.c ****   assert_param(IS_I2C_DIRECTION(I2C_Direction));
 866              		.loc 1 614 3 view .LVU241
 615:./lib/src/at32f4xx_i2c.c **** 
ARM GAS  /tmp/cctayums.s 			page 27


 616:./lib/src/at32f4xx_i2c.c ****   /* Test on the direction to set/reset the read/write bit */
 617:./lib/src/at32f4xx_i2c.c ****   if (I2C_Direction != I2C_Direction_Transmit)
 867              		.loc 1 617 3 view .LVU242
 868              		.loc 1 617 6 is_stmt 0 view .LVU243
 869 0000 22B1     		cbz	r2, .L53
 618:./lib/src/at32f4xx_i2c.c ****   {
 619:./lib/src/at32f4xx_i2c.c ****     /* Set the address bit0 for read */
 620:./lib/src/at32f4xx_i2c.c ****     Address |= OADDR1_ADDR0_Set;
 870              		.loc 1 620 5 is_stmt 1 view .LVU244
 871              		.loc 1 620 13 is_stmt 0 view .LVU245
 872 0002 41F00101 		orr	r1, r1, #1
 873              	.LVL61:
 874              	.L54:
 621:./lib/src/at32f4xx_i2c.c ****   }
 622:./lib/src/at32f4xx_i2c.c ****   else
 623:./lib/src/at32f4xx_i2c.c ****   {
 624:./lib/src/at32f4xx_i2c.c ****     /* Reset the address bit0 for write */
 625:./lib/src/at32f4xx_i2c.c ****     Address &= OADDR1_ADDR0_Reset;
 626:./lib/src/at32f4xx_i2c.c ****   }
 627:./lib/src/at32f4xx_i2c.c **** 
 628:./lib/src/at32f4xx_i2c.c ****   /* Send the address */
 629:./lib/src/at32f4xx_i2c.c ****   I2Cx->DT = Address;
 875              		.loc 1 629 3 is_stmt 1 view .LVU246
 876              		.loc 1 629 12 is_stmt 0 view .LVU247
 877 0006 89B2     		uxth	r1, r1
 878              	.LVL62:
 879              		.loc 1 629 12 view .LVU248
 880 0008 0182     		strh	r1, [r0, #16]	@ movhi
 630:./lib/src/at32f4xx_i2c.c **** }
 881              		.loc 1 630 1 view .LVU249
 882 000a 7047     		bx	lr
 883              	.LVL63:
 884              	.L53:
 625:./lib/src/at32f4xx_i2c.c ****   }
 885              		.loc 1 625 5 is_stmt 1 view .LVU250
 625:./lib/src/at32f4xx_i2c.c ****   }
 886              		.loc 1 625 13 is_stmt 0 view .LVU251
 887 000c 01F0FE01 		and	r1, r1, #254
 888              	.LVL64:
 625:./lib/src/at32f4xx_i2c.c ****   }
 889              		.loc 1 625 13 view .LVU252
 890 0010 F9E7     		b	.L54
 891              		.cfi_endproc
 892              	.LFE138:
 894              		.section	.text.I2C_ReadRegister,"ax",%progbits
 895              		.align	1
 896              		.global	I2C_ReadRegister
 897              		.syntax unified
 898              		.thumb
 899              		.thumb_func
 900              		.fpu fpv4-sp-d16
 902              	I2C_ReadRegister:
 903              	.LVL65:
 904              	.LFB139:
 631:./lib/src/at32f4xx_i2c.c **** 
 632:./lib/src/at32f4xx_i2c.c **** /**
 633:./lib/src/at32f4xx_i2c.c ****   * @brief  Reads the specified I2C register and returns its value.
ARM GAS  /tmp/cctayums.s 			page 28


 634:./lib/src/at32f4xx_i2c.c ****   * @param  I2C_Register: specifies the register to read.
 635:./lib/src/at32f4xx_i2c.c ****   *   This parameter can be one of the following values:
 636:./lib/src/at32f4xx_i2c.c ****   *     @arg I2C_Register_CTRL1:   CTRL1 register.
 637:./lib/src/at32f4xx_i2c.c ****   *     @arg I2C_Register_CTRL2:   CTRL2 register.
 638:./lib/src/at32f4xx_i2c.c ****   *     @arg I2C_Register_OADDR1:  OAR1 register.
 639:./lib/src/at32f4xx_i2c.c ****   *     @arg I2C_Register_OADDR2:  OAR2 register.
 640:./lib/src/at32f4xx_i2c.c ****   *     @arg I2C_Register_DT:      DR register.
 641:./lib/src/at32f4xx_i2c.c ****   *     @arg I2C_Register_STS1:    SR1 register.
 642:./lib/src/at32f4xx_i2c.c ****   *     @arg I2C_Register_STS2:    SR2 register.
 643:./lib/src/at32f4xx_i2c.c ****   *     @arg I2C_Register_CLKCTRL: CCR register.
 644:./lib/src/at32f4xx_i2c.c ****   *     @arg I2C_Register_TMRISE:  TRISE register.
 645:./lib/src/at32f4xx_i2c.c ****   * @retval The value of the read register.
 646:./lib/src/at32f4xx_i2c.c ****   */
 647:./lib/src/at32f4xx_i2c.c **** uint16_t I2C_ReadRegister(I2C_Type* I2Cx, uint8_t I2C_Register)
 648:./lib/src/at32f4xx_i2c.c **** {
 905              		.loc 1 648 1 is_stmt 1 view -0
 906              		.cfi_startproc
 907              		@ args = 0, pretend = 0, frame = 8
 908              		@ frame_needed = 0, uses_anonymous_args = 0
 909              		@ link register save eliminated.
 910              		.loc 1 648 1 is_stmt 0 view .LVU254
 911 0000 82B0     		sub	sp, sp, #8
 912              	.LCFI5:
 913              		.cfi_def_cfa_offset 8
 649:./lib/src/at32f4xx_i2c.c ****   __IO uint32_t tmp = 0;
 914              		.loc 1 649 3 is_stmt 1 view .LVU255
 915              		.loc 1 649 17 is_stmt 0 view .LVU256
 916 0002 0023     		movs	r3, #0
 917 0004 0193     		str	r3, [sp, #4]
 650:./lib/src/at32f4xx_i2c.c **** 
 651:./lib/src/at32f4xx_i2c.c ****   /* Check the parameters */
 652:./lib/src/at32f4xx_i2c.c ****   assert_param(IS_I2C_ALL_PERIPH(I2Cx));
 918              		.loc 1 652 3 is_stmt 1 view .LVU257
 653:./lib/src/at32f4xx_i2c.c ****   assert_param(IS_I2C_REGISTER(I2C_Register));
 919              		.loc 1 653 3 view .LVU258
 654:./lib/src/at32f4xx_i2c.c **** 
 655:./lib/src/at32f4xx_i2c.c ****   tmp = (uint32_t) I2Cx;
 920              		.loc 1 655 3 view .LVU259
 921              		.loc 1 655 7 is_stmt 0 view .LVU260
 922 0006 0190     		str	r0, [sp, #4]
 656:./lib/src/at32f4xx_i2c.c ****   tmp += I2C_Register;
 923              		.loc 1 656 3 is_stmt 1 view .LVU261
 924              		.loc 1 656 7 is_stmt 0 view .LVU262
 925 0008 019B     		ldr	r3, [sp, #4]
 926 000a 1944     		add	r1, r1, r3
 927              	.LVL66:
 928              		.loc 1 656 7 view .LVU263
 929 000c 0191     		str	r1, [sp, #4]
 657:./lib/src/at32f4xx_i2c.c **** 
 658:./lib/src/at32f4xx_i2c.c ****   /* Return the selected register value */
 659:./lib/src/at32f4xx_i2c.c ****   return (*(__IO uint16_t *) tmp);
 930              		.loc 1 659 3 is_stmt 1 view .LVU264
 931              		.loc 1 659 12 is_stmt 0 view .LVU265
 932 000e 019B     		ldr	r3, [sp, #4]
 933              		.loc 1 659 11 view .LVU266
 934 0010 1888     		ldrh	r0, [r3]
 935              	.LVL67:
ARM GAS  /tmp/cctayums.s 			page 29


 660:./lib/src/at32f4xx_i2c.c **** }
 936              		.loc 1 660 1 view .LVU267
 937 0012 80B2     		uxth	r0, r0
 938 0014 02B0     		add	sp, sp, #8
 939              	.LCFI6:
 940              		.cfi_def_cfa_offset 0
 941              		@ sp needed
 942 0016 7047     		bx	lr
 943              		.cfi_endproc
 944              	.LFE139:
 946              		.section	.text.I2C_SoftwareResetCmd,"ax",%progbits
 947              		.align	1
 948              		.global	I2C_SoftwareResetCmd
 949              		.syntax unified
 950              		.thumb
 951              		.thumb_func
 952              		.fpu fpv4-sp-d16
 954              	I2C_SoftwareResetCmd:
 955              	.LVL68:
 956              	.LFB140:
 661:./lib/src/at32f4xx_i2c.c **** 
 662:./lib/src/at32f4xx_i2c.c **** /**
 663:./lib/src/at32f4xx_i2c.c ****   * @brief  Enables or disables the specified I2C software reset.
 664:./lib/src/at32f4xx_i2c.c ****   * @param  I2Cx: where x can be 1, 2 or 3 to select the I2C peripheral.
 665:./lib/src/at32f4xx_i2c.c ****   * @param  NewState: new state of the I2C software reset.
 666:./lib/src/at32f4xx_i2c.c ****   *   This parameter can be: ENABLE or DISABLE.
 667:./lib/src/at32f4xx_i2c.c ****   * @retval None
 668:./lib/src/at32f4xx_i2c.c ****   */
 669:./lib/src/at32f4xx_i2c.c **** void I2C_SoftwareResetCmd(I2C_Type* I2Cx, FunctionalState NewState)
 670:./lib/src/at32f4xx_i2c.c **** {
 957              		.loc 1 670 1 is_stmt 1 view -0
 958              		.cfi_startproc
 959              		@ args = 0, pretend = 0, frame = 0
 960              		@ frame_needed = 0, uses_anonymous_args = 0
 961              		@ link register save eliminated.
 671:./lib/src/at32f4xx_i2c.c ****   /* Check the parameters */
 672:./lib/src/at32f4xx_i2c.c ****   assert_param(IS_I2C_ALL_PERIPH(I2Cx));
 962              		.loc 1 672 3 view .LVU269
 673:./lib/src/at32f4xx_i2c.c ****   assert_param(IS_FUNCTIONAL_STATE(NewState));
 963              		.loc 1 673 3 view .LVU270
 674:./lib/src/at32f4xx_i2c.c **** 
 675:./lib/src/at32f4xx_i2c.c ****   if (NewState != DISABLE)
 964              		.loc 1 675 3 view .LVU271
 965              		.loc 1 675 6 is_stmt 0 view .LVU272
 966 0000 39B1     		cbz	r1, .L58
 676:./lib/src/at32f4xx_i2c.c ****   {
 677:./lib/src/at32f4xx_i2c.c ****     /* Peripheral under reset */
 678:./lib/src/at32f4xx_i2c.c ****     I2Cx->CTRL1 |= CTRL1_SWRESET_Set;
 967              		.loc 1 678 5 is_stmt 1 view .LVU273
 968              		.loc 1 678 17 is_stmt 0 view .LVU274
 969 0002 0388     		ldrh	r3, [r0]
 970 0004 6FEA4343 		mvn	r3, r3, lsl #17
 971 0008 6FEA5343 		mvn	r3, r3, lsr #17
 972 000c 9BB2     		uxth	r3, r3
 973 000e 0380     		strh	r3, [r0]	@ movhi
 974 0010 7047     		bx	lr
 975              	.L58:
ARM GAS  /tmp/cctayums.s 			page 30


 679:./lib/src/at32f4xx_i2c.c ****   }
 680:./lib/src/at32f4xx_i2c.c ****   else
 681:./lib/src/at32f4xx_i2c.c ****   {
 682:./lib/src/at32f4xx_i2c.c ****     /* Peripheral not under reset */
 683:./lib/src/at32f4xx_i2c.c ****     I2Cx->CTRL1 &= CTRL1_SWRESET_Reset;
 976              		.loc 1 683 5 is_stmt 1 view .LVU275
 977              		.loc 1 683 17 is_stmt 0 view .LVU276
 978 0012 0388     		ldrh	r3, [r0]
 979 0014 C3F30E03 		ubfx	r3, r3, #0, #15
 980 0018 0380     		strh	r3, [r0]	@ movhi
 684:./lib/src/at32f4xx_i2c.c ****   }
 685:./lib/src/at32f4xx_i2c.c **** }
 981              		.loc 1 685 1 view .LVU277
 982 001a 7047     		bx	lr
 983              		.cfi_endproc
 984              	.LFE140:
 986              		.section	.text.I2C_NACKPositionConfig,"ax",%progbits
 987              		.align	1
 988              		.global	I2C_NACKPositionConfig
 989              		.syntax unified
 990              		.thumb
 991              		.thumb_func
 992              		.fpu fpv4-sp-d16
 994              	I2C_NACKPositionConfig:
 995              	.LVL69:
 996              	.LFB141:
 686:./lib/src/at32f4xx_i2c.c **** 
 687:./lib/src/at32f4xx_i2c.c **** /**
 688:./lib/src/at32f4xx_i2c.c ****   * @brief  Selects the specified I2C NACK position in master receiver mode.
 689:./lib/src/at32f4xx_i2c.c ****   *         This function is useful in I2C Master Receiver mode when the number
 690:./lib/src/at32f4xx_i2c.c ****   *         of data to be received is equal to 2. In this case, this function
 691:./lib/src/at32f4xx_i2c.c ****   *         should be called (with parameter I2C_NACKPosition_Next) before data
 692:./lib/src/at32f4xx_i2c.c ****   *         reception starts,as described in the 2-byte reception procedure
 693:./lib/src/at32f4xx_i2c.c ****   *         recommended in Reference Manual in Section: Master receiver.
 694:./lib/src/at32f4xx_i2c.c ****   * @param  I2Cx: where x can be 1, 2 or 3 to select the I2C peripheral.
 695:./lib/src/at32f4xx_i2c.c ****   * @param  I2C_NACKPosition: specifies the NACK position.
 696:./lib/src/at32f4xx_i2c.c ****   *   This parameter can be one of the following values:
 697:./lib/src/at32f4xx_i2c.c ****   *     @arg I2C_NACKPosition_Next: indicates that the next byte will be the last
 698:./lib/src/at32f4xx_i2c.c ****   *          received byte.
 699:./lib/src/at32f4xx_i2c.c ****   *     @arg I2C_NACKPosition_Current: indicates that current byte is the last
 700:./lib/src/at32f4xx_i2c.c ****   *          received byte.
 701:./lib/src/at32f4xx_i2c.c ****   *
 702:./lib/src/at32f4xx_i2c.c ****   * @note    This function configures the same bit (POS) as I2C_PECPositionConfig()
 703:./lib/src/at32f4xx_i2c.c ****   *          but is intended to be used in I2C mode while I2C_PECPositionConfig()
 704:./lib/src/at32f4xx_i2c.c ****   *          is intended to used in SMBUS mode.
 705:./lib/src/at32f4xx_i2c.c ****   *
 706:./lib/src/at32f4xx_i2c.c ****   * @retval None
 707:./lib/src/at32f4xx_i2c.c ****   */
 708:./lib/src/at32f4xx_i2c.c **** void I2C_NACKPositionConfig(I2C_Type* I2Cx, uint16_t I2C_NACKPosition)
 709:./lib/src/at32f4xx_i2c.c **** {
 997              		.loc 1 709 1 is_stmt 1 view -0
 998              		.cfi_startproc
 999              		@ args = 0, pretend = 0, frame = 0
 1000              		@ frame_needed = 0, uses_anonymous_args = 0
 1001              		@ link register save eliminated.
 710:./lib/src/at32f4xx_i2c.c ****   /* Check the parameters */
 711:./lib/src/at32f4xx_i2c.c ****   assert_param(IS_I2C_ALL_PERIPH(I2Cx));
ARM GAS  /tmp/cctayums.s 			page 31


 1002              		.loc 1 711 3 view .LVU279
 712:./lib/src/at32f4xx_i2c.c ****   assert_param(IS_I2C_NACK_POSITION(I2C_NACKPosition));
 1003              		.loc 1 712 3 view .LVU280
 713:./lib/src/at32f4xx_i2c.c **** 
 714:./lib/src/at32f4xx_i2c.c ****   /* Check the input parameter */
 715:./lib/src/at32f4xx_i2c.c ****   if (I2C_NACKPosition == I2C_NACKPosition_Next)
 1004              		.loc 1 715 3 view .LVU281
 1005              		.loc 1 715 6 is_stmt 0 view .LVU282
 1006 0000 B1F5006F 		cmp	r1, #2048
 1007 0004 06D0     		beq	.L63
 716:./lib/src/at32f4xx_i2c.c ****   {
 717:./lib/src/at32f4xx_i2c.c ****     /* Next byte in shift register is the last received byte */
 718:./lib/src/at32f4xx_i2c.c ****     I2Cx->CTRL1 |= I2C_NACKPosition_Next;
 719:./lib/src/at32f4xx_i2c.c ****   }
 720:./lib/src/at32f4xx_i2c.c ****   else
 721:./lib/src/at32f4xx_i2c.c ****   {
 722:./lib/src/at32f4xx_i2c.c ****     /* Current byte in shift register is the last received byte */
 723:./lib/src/at32f4xx_i2c.c ****     I2Cx->CTRL1 &= I2C_NACKPosition_Current;
 1008              		.loc 1 723 5 is_stmt 1 view .LVU283
 1009              		.loc 1 723 17 is_stmt 0 view .LVU284
 1010 0006 0388     		ldrh	r3, [r0]
 1011 0008 9BB2     		uxth	r3, r3
 1012 000a 23F40063 		bic	r3, r3, #2048
 1013 000e 9BB2     		uxth	r3, r3
 1014 0010 0380     		strh	r3, [r0]	@ movhi
 724:./lib/src/at32f4xx_i2c.c ****   }
 725:./lib/src/at32f4xx_i2c.c **** }
 1015              		.loc 1 725 1 view .LVU285
 1016 0012 7047     		bx	lr
 1017              	.L63:
 718:./lib/src/at32f4xx_i2c.c ****   }
 1018              		.loc 1 718 5 is_stmt 1 view .LVU286
 718:./lib/src/at32f4xx_i2c.c ****   }
 1019              		.loc 1 718 17 is_stmt 0 view .LVU287
 1020 0014 0388     		ldrh	r3, [r0]
 1021 0016 9BB2     		uxth	r3, r3
 1022 0018 43F40063 		orr	r3, r3, #2048
 1023 001c 0380     		strh	r3, [r0]	@ movhi
 1024 001e 7047     		bx	lr
 1025              		.cfi_endproc
 1026              	.LFE141:
 1028              		.section	.text.I2C_SMBusAlertConfig,"ax",%progbits
 1029              		.align	1
 1030              		.global	I2C_SMBusAlertConfig
 1031              		.syntax unified
 1032              		.thumb
 1033              		.thumb_func
 1034              		.fpu fpv4-sp-d16
 1036              	I2C_SMBusAlertConfig:
 1037              	.LVL70:
 1038              	.LFB142:
 726:./lib/src/at32f4xx_i2c.c **** 
 727:./lib/src/at32f4xx_i2c.c **** /**
 728:./lib/src/at32f4xx_i2c.c ****   * @brief  Drives the SMBusAlert pin high or low for the specified I2C.
 729:./lib/src/at32f4xx_i2c.c ****   * @param  I2Cx: where x can be 1, 2 or 3 to select the I2C peripheral.
 730:./lib/src/at32f4xx_i2c.c ****   * @param  I2C_SMBusAlert: specifies SMBAlert pin level.
 731:./lib/src/at32f4xx_i2c.c ****   *   This parameter can be one of the following values:
ARM GAS  /tmp/cctayums.s 			page 32


 732:./lib/src/at32f4xx_i2c.c ****   *     @arg I2C_SMBusAlert_Low: SMBAlert pin driven low
 733:./lib/src/at32f4xx_i2c.c ****   *     @arg I2C_SMBusAlert_High: SMBAlert pin driven high
 734:./lib/src/at32f4xx_i2c.c ****   * @retval None
 735:./lib/src/at32f4xx_i2c.c ****   */
 736:./lib/src/at32f4xx_i2c.c **** void I2C_SMBusAlertConfig(I2C_Type* I2Cx, uint16_t I2C_SMBusAlert)
 737:./lib/src/at32f4xx_i2c.c **** {
 1039              		.loc 1 737 1 is_stmt 1 view -0
 1040              		.cfi_startproc
 1041              		@ args = 0, pretend = 0, frame = 0
 1042              		@ frame_needed = 0, uses_anonymous_args = 0
 1043              		@ link register save eliminated.
 738:./lib/src/at32f4xx_i2c.c ****   /* Check the parameters */
 739:./lib/src/at32f4xx_i2c.c ****   assert_param(IS_I2C_ALL_PERIPH(I2Cx));
 1044              		.loc 1 739 3 view .LVU289
 740:./lib/src/at32f4xx_i2c.c ****   assert_param(IS_I2C_SMBUS_ALERT(I2C_SMBusAlert));
 1045              		.loc 1 740 3 view .LVU290
 741:./lib/src/at32f4xx_i2c.c **** 
 742:./lib/src/at32f4xx_i2c.c ****   if (I2C_SMBusAlert == I2C_SMBusAlert_Low)
 1046              		.loc 1 742 3 view .LVU291
 1047              		.loc 1 742 6 is_stmt 0 view .LVU292
 1048 0000 B1F5005F 		cmp	r1, #8192
 1049 0004 06D0     		beq	.L67
 743:./lib/src/at32f4xx_i2c.c ****   {
 744:./lib/src/at32f4xx_i2c.c ****     /* Drive the SMBusAlert pin Low */
 745:./lib/src/at32f4xx_i2c.c ****     I2Cx->CTRL1 |= I2C_SMBusAlert_Low;
 746:./lib/src/at32f4xx_i2c.c ****   }
 747:./lib/src/at32f4xx_i2c.c ****   else
 748:./lib/src/at32f4xx_i2c.c ****   {
 749:./lib/src/at32f4xx_i2c.c ****     /* Drive the SMBusAlert pin High  */
 750:./lib/src/at32f4xx_i2c.c ****     I2Cx->CTRL1 &= I2C_SMBusAlert_High;
 1050              		.loc 1 750 5 is_stmt 1 view .LVU293
 1051              		.loc 1 750 17 is_stmt 0 view .LVU294
 1052 0006 0388     		ldrh	r3, [r0]
 1053 0008 9BB2     		uxth	r3, r3
 1054 000a 23F40053 		bic	r3, r3, #8192
 1055 000e 9BB2     		uxth	r3, r3
 1056 0010 0380     		strh	r3, [r0]	@ movhi
 751:./lib/src/at32f4xx_i2c.c ****   }
 752:./lib/src/at32f4xx_i2c.c **** }
 1057              		.loc 1 752 1 view .LVU295
 1058 0012 7047     		bx	lr
 1059              	.L67:
 745:./lib/src/at32f4xx_i2c.c ****   }
 1060              		.loc 1 745 5 is_stmt 1 view .LVU296
 745:./lib/src/at32f4xx_i2c.c ****   }
 1061              		.loc 1 745 17 is_stmt 0 view .LVU297
 1062 0014 0388     		ldrh	r3, [r0]
 1063 0016 9BB2     		uxth	r3, r3
 1064 0018 43F40053 		orr	r3, r3, #8192
 1065 001c 0380     		strh	r3, [r0]	@ movhi
 1066 001e 7047     		bx	lr
 1067              		.cfi_endproc
 1068              	.LFE142:
 1070              		.section	.text.I2C_TransmitPEC,"ax",%progbits
 1071              		.align	1
 1072              		.global	I2C_TransmitPEC
 1073              		.syntax unified
ARM GAS  /tmp/cctayums.s 			page 33


 1074              		.thumb
 1075              		.thumb_func
 1076              		.fpu fpv4-sp-d16
 1078              	I2C_TransmitPEC:
 1079              	.LVL71:
 1080              	.LFB143:
 753:./lib/src/at32f4xx_i2c.c **** 
 754:./lib/src/at32f4xx_i2c.c **** /**
 755:./lib/src/at32f4xx_i2c.c ****   * @brief  Enables or disables the specified I2C PEC transfer.
 756:./lib/src/at32f4xx_i2c.c ****   * @param  I2Cx: where x can be 1, 2 or 3 to select the I2C peripheral.
 757:./lib/src/at32f4xx_i2c.c ****   * @param  NewState: new state of the I2C PEC transmission.
 758:./lib/src/at32f4xx_i2c.c ****   *   This parameter can be: ENABLE or DISABLE.
 759:./lib/src/at32f4xx_i2c.c ****   * @retval None
 760:./lib/src/at32f4xx_i2c.c ****   */
 761:./lib/src/at32f4xx_i2c.c **** void I2C_TransmitPEC(I2C_Type* I2Cx, FunctionalState NewState)
 762:./lib/src/at32f4xx_i2c.c **** {
 1081              		.loc 1 762 1 is_stmt 1 view -0
 1082              		.cfi_startproc
 1083              		@ args = 0, pretend = 0, frame = 0
 1084              		@ frame_needed = 0, uses_anonymous_args = 0
 1085              		@ link register save eliminated.
 763:./lib/src/at32f4xx_i2c.c ****   /* Check the parameters */
 764:./lib/src/at32f4xx_i2c.c ****   assert_param(IS_I2C_ALL_PERIPH(I2Cx));
 1086              		.loc 1 764 3 view .LVU299
 765:./lib/src/at32f4xx_i2c.c ****   assert_param(IS_FUNCTIONAL_STATE(NewState));
 1087              		.loc 1 765 3 view .LVU300
 766:./lib/src/at32f4xx_i2c.c **** 
 767:./lib/src/at32f4xx_i2c.c ****   if (NewState != DISABLE)
 1088              		.loc 1 767 3 view .LVU301
 1089              		.loc 1 767 6 is_stmt 0 view .LVU302
 1090 0000 29B1     		cbz	r1, .L69
 768:./lib/src/at32f4xx_i2c.c ****   {
 769:./lib/src/at32f4xx_i2c.c ****     /* Enable the selected I2C PEC transmission */
 770:./lib/src/at32f4xx_i2c.c ****     I2Cx->CTRL1 |= CTRL1_PECTRA_Set;
 1091              		.loc 1 770 5 is_stmt 1 view .LVU303
 1092              		.loc 1 770 17 is_stmt 0 view .LVU304
 1093 0002 0388     		ldrh	r3, [r0]
 1094 0004 9BB2     		uxth	r3, r3
 1095 0006 43F48053 		orr	r3, r3, #4096
 1096 000a 0380     		strh	r3, [r0]	@ movhi
 1097 000c 7047     		bx	lr
 1098              	.L69:
 771:./lib/src/at32f4xx_i2c.c ****   }
 772:./lib/src/at32f4xx_i2c.c ****   else
 773:./lib/src/at32f4xx_i2c.c ****   {
 774:./lib/src/at32f4xx_i2c.c ****     /* Disable the selected I2C PEC transmission */
 775:./lib/src/at32f4xx_i2c.c ****     I2Cx->CTRL1 &= CTRL1_PECTRA_Reset;
 1099              		.loc 1 775 5 is_stmt 1 view .LVU305
 1100              		.loc 1 775 17 is_stmt 0 view .LVU306
 1101 000e 0388     		ldrh	r3, [r0]
 1102 0010 9BB2     		uxth	r3, r3
 1103 0012 23F48053 		bic	r3, r3, #4096
 1104 0016 9BB2     		uxth	r3, r3
 1105 0018 0380     		strh	r3, [r0]	@ movhi
 776:./lib/src/at32f4xx_i2c.c ****   }
 777:./lib/src/at32f4xx_i2c.c **** }
 1106              		.loc 1 777 1 view .LVU307
ARM GAS  /tmp/cctayums.s 			page 34


 1107 001a 7047     		bx	lr
 1108              		.cfi_endproc
 1109              	.LFE143:
 1111              		.section	.text.I2C_PECPositionConfig,"ax",%progbits
 1112              		.align	1
 1113              		.global	I2C_PECPositionConfig
 1114              		.syntax unified
 1115              		.thumb
 1116              		.thumb_func
 1117              		.fpu fpv4-sp-d16
 1119              	I2C_PECPositionConfig:
 1120              	.LVL72:
 1121              	.LFB144:
 778:./lib/src/at32f4xx_i2c.c **** 
 779:./lib/src/at32f4xx_i2c.c **** /**
 780:./lib/src/at32f4xx_i2c.c ****   * @brief  Selects the specified I2C PEC position.
 781:./lib/src/at32f4xx_i2c.c ****   * @param  I2Cx: where x can be 1, 2 or 3 to select the I2C peripheral.
 782:./lib/src/at32f4xx_i2c.c ****   * @param  I2C_PECPosition: specifies the PEC position.
 783:./lib/src/at32f4xx_i2c.c ****   *   This parameter can be one of the following values:
 784:./lib/src/at32f4xx_i2c.c ****   *     @arg I2C_PECPosition_Next: indicates that the next byte is PEC
 785:./lib/src/at32f4xx_i2c.c ****   *     @arg I2C_PECPosition_Current: indicates that current byte is PEC
 786:./lib/src/at32f4xx_i2c.c ****   *
 787:./lib/src/at32f4xx_i2c.c ****   * @note    This function configures the same bit (POS) as I2C_NACKPositionConfig()
 788:./lib/src/at32f4xx_i2c.c ****   *          but is intended to be used in SMBUS mode while I2C_NACKPositionConfig()
 789:./lib/src/at32f4xx_i2c.c ****   *          is intended to used in I2C mode.
 790:./lib/src/at32f4xx_i2c.c ****   *
 791:./lib/src/at32f4xx_i2c.c ****   * @retval None
 792:./lib/src/at32f4xx_i2c.c ****   */
 793:./lib/src/at32f4xx_i2c.c **** void I2C_PECPositionConfig(I2C_Type* I2Cx, uint16_t I2C_PECPosition)
 794:./lib/src/at32f4xx_i2c.c **** {
 1122              		.loc 1 794 1 is_stmt 1 view -0
 1123              		.cfi_startproc
 1124              		@ args = 0, pretend = 0, frame = 0
 1125              		@ frame_needed = 0, uses_anonymous_args = 0
 1126              		@ link register save eliminated.
 795:./lib/src/at32f4xx_i2c.c ****   /* Check the parameters */
 796:./lib/src/at32f4xx_i2c.c ****   assert_param(IS_I2C_ALL_PERIPH(I2Cx));
 1127              		.loc 1 796 3 view .LVU309
 797:./lib/src/at32f4xx_i2c.c ****   assert_param(IS_I2C_PEC_POSITION(I2C_PECPosition));
 1128              		.loc 1 797 3 view .LVU310
 798:./lib/src/at32f4xx_i2c.c **** 
 799:./lib/src/at32f4xx_i2c.c ****   if (I2C_PECPosition == I2C_PECPosition_Next)
 1129              		.loc 1 799 3 view .LVU311
 1130              		.loc 1 799 6 is_stmt 0 view .LVU312
 1131 0000 B1F5006F 		cmp	r1, #2048
 1132 0004 06D0     		beq	.L74
 800:./lib/src/at32f4xx_i2c.c ****   {
 801:./lib/src/at32f4xx_i2c.c ****     /* Next byte in shift register is PEC */
 802:./lib/src/at32f4xx_i2c.c ****     I2Cx->CTRL1 |= I2C_PECPosition_Next;
 803:./lib/src/at32f4xx_i2c.c ****   }
 804:./lib/src/at32f4xx_i2c.c ****   else
 805:./lib/src/at32f4xx_i2c.c ****   {
 806:./lib/src/at32f4xx_i2c.c ****     /* Current byte in shift register is PEC */
 807:./lib/src/at32f4xx_i2c.c ****     I2Cx->CTRL1 &= I2C_PECPosition_Current;
 1133              		.loc 1 807 5 is_stmt 1 view .LVU313
 1134              		.loc 1 807 17 is_stmt 0 view .LVU314
 1135 0006 0388     		ldrh	r3, [r0]
ARM GAS  /tmp/cctayums.s 			page 35


 1136 0008 9BB2     		uxth	r3, r3
 1137 000a 23F40063 		bic	r3, r3, #2048
 1138 000e 9BB2     		uxth	r3, r3
 1139 0010 0380     		strh	r3, [r0]	@ movhi
 808:./lib/src/at32f4xx_i2c.c ****   }
 809:./lib/src/at32f4xx_i2c.c **** }
 1140              		.loc 1 809 1 view .LVU315
 1141 0012 7047     		bx	lr
 1142              	.L74:
 802:./lib/src/at32f4xx_i2c.c ****   }
 1143              		.loc 1 802 5 is_stmt 1 view .LVU316
 802:./lib/src/at32f4xx_i2c.c ****   }
 1144              		.loc 1 802 17 is_stmt 0 view .LVU317
 1145 0014 0388     		ldrh	r3, [r0]
 1146 0016 9BB2     		uxth	r3, r3
 1147 0018 43F40063 		orr	r3, r3, #2048
 1148 001c 0380     		strh	r3, [r0]	@ movhi
 1149 001e 7047     		bx	lr
 1150              		.cfi_endproc
 1151              	.LFE144:
 1153              		.section	.text.I2C_CalculatePEC,"ax",%progbits
 1154              		.align	1
 1155              		.global	I2C_CalculatePEC
 1156              		.syntax unified
 1157              		.thumb
 1158              		.thumb_func
 1159              		.fpu fpv4-sp-d16
 1161              	I2C_CalculatePEC:
 1162              	.LVL73:
 1163              	.LFB145:
 810:./lib/src/at32f4xx_i2c.c **** 
 811:./lib/src/at32f4xx_i2c.c **** /**
 812:./lib/src/at32f4xx_i2c.c ****   * @brief  Enables or disables the PEC value calculation of the transferred bytes.
 813:./lib/src/at32f4xx_i2c.c ****   * @param  I2Cx: where x can be 1, 2 or 3 to select the I2C peripheral.
 814:./lib/src/at32f4xx_i2c.c ****   * @param  NewState: new state of the I2Cx PEC value calculation.
 815:./lib/src/at32f4xx_i2c.c ****   *   This parameter can be: ENABLE or DISABLE.
 816:./lib/src/at32f4xx_i2c.c ****   * @retval None
 817:./lib/src/at32f4xx_i2c.c ****   */
 818:./lib/src/at32f4xx_i2c.c **** void I2C_CalculatePEC(I2C_Type* I2Cx, FunctionalState NewState)
 819:./lib/src/at32f4xx_i2c.c **** {
 1164              		.loc 1 819 1 is_stmt 1 view -0
 1165              		.cfi_startproc
 1166              		@ args = 0, pretend = 0, frame = 0
 1167              		@ frame_needed = 0, uses_anonymous_args = 0
 1168              		@ link register save eliminated.
 820:./lib/src/at32f4xx_i2c.c ****   /* Check the parameters */
 821:./lib/src/at32f4xx_i2c.c ****   assert_param(IS_I2C_ALL_PERIPH(I2Cx));
 1169              		.loc 1 821 3 view .LVU319
 822:./lib/src/at32f4xx_i2c.c ****   assert_param(IS_FUNCTIONAL_STATE(NewState));
 1170              		.loc 1 822 3 view .LVU320
 823:./lib/src/at32f4xx_i2c.c **** 
 824:./lib/src/at32f4xx_i2c.c ****   if (NewState != DISABLE)
 1171              		.loc 1 824 3 view .LVU321
 1172              		.loc 1 824 6 is_stmt 0 view .LVU322
 1173 0000 29B1     		cbz	r1, .L76
 825:./lib/src/at32f4xx_i2c.c ****   {
 826:./lib/src/at32f4xx_i2c.c ****     /* Enable the selected I2C PEC calculation */
ARM GAS  /tmp/cctayums.s 			page 36


 827:./lib/src/at32f4xx_i2c.c ****     I2Cx->CTRL1 |= CTRL1_PECEN_Set;
 1174              		.loc 1 827 5 is_stmt 1 view .LVU323
 1175              		.loc 1 827 17 is_stmt 0 view .LVU324
 1176 0002 0388     		ldrh	r3, [r0]
 1177 0004 9BB2     		uxth	r3, r3
 1178 0006 43F02003 		orr	r3, r3, #32
 1179 000a 0380     		strh	r3, [r0]	@ movhi
 1180 000c 7047     		bx	lr
 1181              	.L76:
 828:./lib/src/at32f4xx_i2c.c ****   }
 829:./lib/src/at32f4xx_i2c.c ****   else
 830:./lib/src/at32f4xx_i2c.c ****   {
 831:./lib/src/at32f4xx_i2c.c ****     /* Disable the selected I2C PEC calculation */
 832:./lib/src/at32f4xx_i2c.c ****     I2Cx->CTRL1 &= CTRL1_PECEN_Reset;
 1182              		.loc 1 832 5 is_stmt 1 view .LVU325
 1183              		.loc 1 832 17 is_stmt 0 view .LVU326
 1184 000e 0388     		ldrh	r3, [r0]
 1185 0010 9BB2     		uxth	r3, r3
 1186 0012 23F02003 		bic	r3, r3, #32
 1187 0016 9BB2     		uxth	r3, r3
 1188 0018 0380     		strh	r3, [r0]	@ movhi
 833:./lib/src/at32f4xx_i2c.c ****   }
 834:./lib/src/at32f4xx_i2c.c **** }
 1189              		.loc 1 834 1 view .LVU327
 1190 001a 7047     		bx	lr
 1191              		.cfi_endproc
 1192              	.LFE145:
 1194              		.section	.text.I2C_GetPEC,"ax",%progbits
 1195              		.align	1
 1196              		.global	I2C_GetPEC
 1197              		.syntax unified
 1198              		.thumb
 1199              		.thumb_func
 1200              		.fpu fpv4-sp-d16
 1202              	I2C_GetPEC:
 1203              	.LVL74:
 1204              	.LFB146:
 835:./lib/src/at32f4xx_i2c.c **** 
 836:./lib/src/at32f4xx_i2c.c **** /**
 837:./lib/src/at32f4xx_i2c.c ****   * @brief  Returns the PEC value for the specified I2C.
 838:./lib/src/at32f4xx_i2c.c ****   * @param  I2Cx: where x can be 1, 2 or 3 to select the I2C peripheral.
 839:./lib/src/at32f4xx_i2c.c ****   * @retval The PEC value.
 840:./lib/src/at32f4xx_i2c.c ****   */
 841:./lib/src/at32f4xx_i2c.c **** uint8_t I2C_GetPEC(I2C_Type* I2Cx)
 842:./lib/src/at32f4xx_i2c.c **** {
 1205              		.loc 1 842 1 is_stmt 1 view -0
 1206              		.cfi_startproc
 1207              		@ args = 0, pretend = 0, frame = 0
 1208              		@ frame_needed = 0, uses_anonymous_args = 0
 1209              		@ link register save eliminated.
 843:./lib/src/at32f4xx_i2c.c ****   /* Check the parameters */
 844:./lib/src/at32f4xx_i2c.c ****   assert_param(IS_I2C_ALL_PERIPH(I2Cx));
 1210              		.loc 1 844 3 view .LVU329
 845:./lib/src/at32f4xx_i2c.c ****   /* Return the selected I2C PEC value */
 846:./lib/src/at32f4xx_i2c.c ****   return ((I2Cx->STS2) >> 8);
 1211              		.loc 1 846 3 view .LVU330
 1212              		.loc 1 846 16 is_stmt 0 view .LVU331
ARM GAS  /tmp/cctayums.s 			page 37


 1213 0000 008B     		ldrh	r0, [r0, #24]
 1214              	.LVL75:
 847:./lib/src/at32f4xx_i2c.c **** }
 1215              		.loc 1 847 1 view .LVU332
 1216 0002 C0F30720 		ubfx	r0, r0, #8, #8
 1217 0006 7047     		bx	lr
 1218              		.cfi_endproc
 1219              	.LFE146:
 1221              		.section	.text.I2C_ARPCmd,"ax",%progbits
 1222              		.align	1
 1223              		.global	I2C_ARPCmd
 1224              		.syntax unified
 1225              		.thumb
 1226              		.thumb_func
 1227              		.fpu fpv4-sp-d16
 1229              	I2C_ARPCmd:
 1230              	.LVL76:
 1231              	.LFB147:
 848:./lib/src/at32f4xx_i2c.c **** 
 849:./lib/src/at32f4xx_i2c.c **** /**
 850:./lib/src/at32f4xx_i2c.c ****   * @brief  Enables or disables the specified I2C ARP.
 851:./lib/src/at32f4xx_i2c.c ****   * @param  I2Cx: where x can be 1, 2 or 3 to select the I2C peripheral.
 852:./lib/src/at32f4xx_i2c.c ****   * @param  NewState: new state of the I2Cx ARP.
 853:./lib/src/at32f4xx_i2c.c ****   *   This parameter can be: ENABLE or DISABLE.
 854:./lib/src/at32f4xx_i2c.c ****   * @retval None
 855:./lib/src/at32f4xx_i2c.c ****   */
 856:./lib/src/at32f4xx_i2c.c **** void I2C_ARPCmd(I2C_Type* I2Cx, FunctionalState NewState)
 857:./lib/src/at32f4xx_i2c.c **** {
 1232              		.loc 1 857 1 is_stmt 1 view -0
 1233              		.cfi_startproc
 1234              		@ args = 0, pretend = 0, frame = 0
 1235              		@ frame_needed = 0, uses_anonymous_args = 0
 1236              		@ link register save eliminated.
 858:./lib/src/at32f4xx_i2c.c ****   /* Check the parameters */
 859:./lib/src/at32f4xx_i2c.c ****   assert_param(IS_I2C_ALL_PERIPH(I2Cx));
 1237              		.loc 1 859 3 view .LVU334
 860:./lib/src/at32f4xx_i2c.c ****   assert_param(IS_FUNCTIONAL_STATE(NewState));
 1238              		.loc 1 860 3 view .LVU335
 861:./lib/src/at32f4xx_i2c.c **** 
 862:./lib/src/at32f4xx_i2c.c ****   if (NewState != DISABLE)
 1239              		.loc 1 862 3 view .LVU336
 1240              		.loc 1 862 6 is_stmt 0 view .LVU337
 1241 0000 29B1     		cbz	r1, .L80
 863:./lib/src/at32f4xx_i2c.c ****   {
 864:./lib/src/at32f4xx_i2c.c ****     /* Enable the selected I2C ARP */
 865:./lib/src/at32f4xx_i2c.c ****     I2Cx->CTRL1 |= CTRL1_ARPEN_Set;
 1242              		.loc 1 865 5 is_stmt 1 view .LVU338
 1243              		.loc 1 865 17 is_stmt 0 view .LVU339
 1244 0002 0388     		ldrh	r3, [r0]
 1245 0004 9BB2     		uxth	r3, r3
 1246 0006 43F01003 		orr	r3, r3, #16
 1247 000a 0380     		strh	r3, [r0]	@ movhi
 1248 000c 7047     		bx	lr
 1249              	.L80:
 866:./lib/src/at32f4xx_i2c.c ****   }
 867:./lib/src/at32f4xx_i2c.c ****   else
 868:./lib/src/at32f4xx_i2c.c ****   {
ARM GAS  /tmp/cctayums.s 			page 38


 869:./lib/src/at32f4xx_i2c.c ****     /* Disable the selected I2C ARP */
 870:./lib/src/at32f4xx_i2c.c ****     I2Cx->CTRL1 &= CTRL1_ARPEN_Reset;
 1250              		.loc 1 870 5 is_stmt 1 view .LVU340
 1251              		.loc 1 870 17 is_stmt 0 view .LVU341
 1252 000e 0388     		ldrh	r3, [r0]
 1253 0010 9BB2     		uxth	r3, r3
 1254 0012 23F01003 		bic	r3, r3, #16
 1255 0016 9BB2     		uxth	r3, r3
 1256 0018 0380     		strh	r3, [r0]	@ movhi
 871:./lib/src/at32f4xx_i2c.c ****   }
 872:./lib/src/at32f4xx_i2c.c **** }
 1257              		.loc 1 872 1 view .LVU342
 1258 001a 7047     		bx	lr
 1259              		.cfi_endproc
 1260              	.LFE147:
 1262              		.section	.text.I2C_StretchClockCmd,"ax",%progbits
 1263              		.align	1
 1264              		.global	I2C_StretchClockCmd
 1265              		.syntax unified
 1266              		.thumb
 1267              		.thumb_func
 1268              		.fpu fpv4-sp-d16
 1270              	I2C_StretchClockCmd:
 1271              	.LVL77:
 1272              	.LFB148:
 873:./lib/src/at32f4xx_i2c.c **** 
 874:./lib/src/at32f4xx_i2c.c **** /**
 875:./lib/src/at32f4xx_i2c.c ****   * @brief  Enables or disables the specified I2C Clock stretching.
 876:./lib/src/at32f4xx_i2c.c ****   * @param  I2Cx: where x can be 1, 2 or 3 to select the I2C peripheral.
 877:./lib/src/at32f4xx_i2c.c ****   * @param  NewState: new state of the I2Cx Clock stretching.
 878:./lib/src/at32f4xx_i2c.c ****   *   This parameter can be: ENABLE or DISABLE.
 879:./lib/src/at32f4xx_i2c.c ****   * @retval None
 880:./lib/src/at32f4xx_i2c.c ****   */
 881:./lib/src/at32f4xx_i2c.c **** void I2C_StretchClockCmd(I2C_Type* I2Cx, FunctionalState NewState)
 882:./lib/src/at32f4xx_i2c.c **** {
 1273              		.loc 1 882 1 is_stmt 1 view -0
 1274              		.cfi_startproc
 1275              		@ args = 0, pretend = 0, frame = 0
 1276              		@ frame_needed = 0, uses_anonymous_args = 0
 1277              		@ link register save eliminated.
 883:./lib/src/at32f4xx_i2c.c ****   /* Check the parameters */
 884:./lib/src/at32f4xx_i2c.c ****   assert_param(IS_I2C_ALL_PERIPH(I2Cx));
 1278              		.loc 1 884 3 view .LVU344
 885:./lib/src/at32f4xx_i2c.c ****   assert_param(IS_FUNCTIONAL_STATE(NewState));
 1279              		.loc 1 885 3 view .LVU345
 886:./lib/src/at32f4xx_i2c.c **** 
 887:./lib/src/at32f4xx_i2c.c ****   if (NewState == DISABLE)
 1280              		.loc 1 887 3 view .LVU346
 1281              		.loc 1 887 6 is_stmt 0 view .LVU347
 1282 0000 29B9     		cbnz	r1, .L83
 888:./lib/src/at32f4xx_i2c.c ****   {
 889:./lib/src/at32f4xx_i2c.c ****     /* Enable the selected I2C Clock stretching */
 890:./lib/src/at32f4xx_i2c.c ****     I2Cx->CTRL1 |= CTRL1_NOCLKSTRETCH_Set;
 1283              		.loc 1 890 5 is_stmt 1 view .LVU348
 1284              		.loc 1 890 17 is_stmt 0 view .LVU349
 1285 0002 0388     		ldrh	r3, [r0]
 1286 0004 9BB2     		uxth	r3, r3
ARM GAS  /tmp/cctayums.s 			page 39


 1287 0006 43F08003 		orr	r3, r3, #128
 1288 000a 0380     		strh	r3, [r0]	@ movhi
 1289 000c 7047     		bx	lr
 1290              	.L83:
 891:./lib/src/at32f4xx_i2c.c ****   }
 892:./lib/src/at32f4xx_i2c.c ****   else
 893:./lib/src/at32f4xx_i2c.c ****   {
 894:./lib/src/at32f4xx_i2c.c ****     /* Disable the selected I2C Clock stretching */
 895:./lib/src/at32f4xx_i2c.c ****     I2Cx->CTRL1 &= CTRL1_NOCLKSTRETCH_Reset;
 1291              		.loc 1 895 5 is_stmt 1 view .LVU350
 1292              		.loc 1 895 17 is_stmt 0 view .LVU351
 1293 000e 0388     		ldrh	r3, [r0]
 1294 0010 9BB2     		uxth	r3, r3
 1295 0012 23F08003 		bic	r3, r3, #128
 1296 0016 9BB2     		uxth	r3, r3
 1297 0018 0380     		strh	r3, [r0]	@ movhi
 896:./lib/src/at32f4xx_i2c.c ****   }
 897:./lib/src/at32f4xx_i2c.c **** }
 1298              		.loc 1 897 1 view .LVU352
 1299 001a 7047     		bx	lr
 1300              		.cfi_endproc
 1301              	.LFE148:
 1303              		.section	.text.I2C_FastModeDutyCycleConfig,"ax",%progbits
 1304              		.align	1
 1305              		.global	I2C_FastModeDutyCycleConfig
 1306              		.syntax unified
 1307              		.thumb
 1308              		.thumb_func
 1309              		.fpu fpv4-sp-d16
 1311              	I2C_FastModeDutyCycleConfig:
 1312              	.LVL78:
 1313              	.LFB149:
 898:./lib/src/at32f4xx_i2c.c **** 
 899:./lib/src/at32f4xx_i2c.c **** /**
 900:./lib/src/at32f4xx_i2c.c ****   * @brief  Selects the specified I2C fast mode duty cycle.
 901:./lib/src/at32f4xx_i2c.c ****   * @param  I2Cx: where x can be 1, 2 or 3 to select the I2C peripheral.
 902:./lib/src/at32f4xx_i2c.c ****   * @param  I2C_DutyCycle: specifies the fast mode duty cycle.
 903:./lib/src/at32f4xx_i2c.c ****   *   This parameter can be one of the following values:
 904:./lib/src/at32f4xx_i2c.c ****   *     @arg I2C_FmDutyCycle_2_1: I2C fast mode Tlow/Thigh = 2
 905:./lib/src/at32f4xx_i2c.c ****   *     @arg I2C_FmDutyCycle_16_9: I2C fast mode Tlow/Thigh = 16/9
 906:./lib/src/at32f4xx_i2c.c ****   * @retval None
 907:./lib/src/at32f4xx_i2c.c ****   */
 908:./lib/src/at32f4xx_i2c.c **** void I2C_FastModeDutyCycleConfig(I2C_Type* I2Cx, uint16_t I2C_DutyCycle)
 909:./lib/src/at32f4xx_i2c.c **** {
 1314              		.loc 1 909 1 is_stmt 1 view -0
 1315              		.cfi_startproc
 1316              		@ args = 0, pretend = 0, frame = 0
 1317              		@ frame_needed = 0, uses_anonymous_args = 0
 1318              		@ link register save eliminated.
 910:./lib/src/at32f4xx_i2c.c ****   /* Check the parameters */
 911:./lib/src/at32f4xx_i2c.c ****   assert_param(IS_I2C_ALL_PERIPH(I2Cx));
 1319              		.loc 1 911 3 view .LVU354
 912:./lib/src/at32f4xx_i2c.c ****   assert_param(IS_I2C_FM_DUTY_CYCLE(I2C_DutyCycle));
 1320              		.loc 1 912 3 view .LVU355
 913:./lib/src/at32f4xx_i2c.c **** 
 914:./lib/src/at32f4xx_i2c.c ****   if (I2C_DutyCycle != I2C_FmDutyCycle_16_9)
 1321              		.loc 1 914 3 view .LVU356
ARM GAS  /tmp/cctayums.s 			page 40


 1322              		.loc 1 914 6 is_stmt 0 view .LVU357
 1323 0000 B1F5804F 		cmp	r1, #16384
 1324 0004 06D0     		beq	.L86
 915:./lib/src/at32f4xx_i2c.c ****   {
 916:./lib/src/at32f4xx_i2c.c ****     /* I2C fast mode Tlow/Thigh=2 */
 917:./lib/src/at32f4xx_i2c.c ****     I2Cx->CLKCTRL &= I2C_FmDutyCycle_2_1;
 1325              		.loc 1 917 5 is_stmt 1 view .LVU358
 1326              		.loc 1 917 19 is_stmt 0 view .LVU359
 1327 0006 838B     		ldrh	r3, [r0, #28]
 1328 0008 9BB2     		uxth	r3, r3
 1329 000a 23F48043 		bic	r3, r3, #16384
 1330 000e 9BB2     		uxth	r3, r3
 1331 0010 8383     		strh	r3, [r0, #28]	@ movhi
 1332 0012 7047     		bx	lr
 1333              	.L86:
 918:./lib/src/at32f4xx_i2c.c ****   }
 919:./lib/src/at32f4xx_i2c.c ****   else
 920:./lib/src/at32f4xx_i2c.c ****   {
 921:./lib/src/at32f4xx_i2c.c ****     /* I2C fast mode Tlow/Thigh=16/9 */
 922:./lib/src/at32f4xx_i2c.c ****     I2Cx->CLKCTRL |= I2C_FmDutyCycle_16_9;
 1334              		.loc 1 922 5 is_stmt 1 view .LVU360
 1335              		.loc 1 922 19 is_stmt 0 view .LVU361
 1336 0014 838B     		ldrh	r3, [r0, #28]
 1337 0016 9BB2     		uxth	r3, r3
 1338 0018 43F48043 		orr	r3, r3, #16384
 1339 001c 8383     		strh	r3, [r0, #28]	@ movhi
 923:./lib/src/at32f4xx_i2c.c ****   }
 924:./lib/src/at32f4xx_i2c.c **** }
 1340              		.loc 1 924 1 view .LVU362
 1341 001e 7047     		bx	lr
 1342              		.cfi_endproc
 1343              	.LFE149:
 1345              		.section	.text.I2C_CheckEvent,"ax",%progbits
 1346              		.align	1
 1347              		.global	I2C_CheckEvent
 1348              		.syntax unified
 1349              		.thumb
 1350              		.thumb_func
 1351              		.fpu fpv4-sp-d16
 1353              	I2C_CheckEvent:
 1354              	.LVL79:
 1355              	.LFB150:
 925:./lib/src/at32f4xx_i2c.c **** 
 926:./lib/src/at32f4xx_i2c.c **** /**
 927:./lib/src/at32f4xx_i2c.c ****   * @brief  Checks whether the last I2Cx Event is equal to the one passed
 928:./lib/src/at32f4xx_i2c.c ****   *   as parameter.
 929:./lib/src/at32f4xx_i2c.c ****   * @param  I2Cx: where x can be 1, 2 or 3 to select the I2C peripheral.
 930:./lib/src/at32f4xx_i2c.c ****   * @param  I2C_EVENT: specifies the event to be checked.
 931:./lib/src/at32f4xx_i2c.c ****   *   This parameter can be one of the following values:
 932:./lib/src/at32f4xx_i2c.c ****   *     @arg I2C_EVENT_SLAVE_ADDRESS_TRANSMITTER_MATCHED             : EV1
 933:./lib/src/at32f4xx_i2c.c ****   *     @arg I2C_EVENT_SLAVE_ADDRESS_RECEIVER_MATCHED                : EV1
 934:./lib/src/at32f4xx_i2c.c ****   *     @arg I2C_EVENT_SLAVE_SECONDADDRESS_TRANSMITTER_MATCHED       : EV1
 935:./lib/src/at32f4xx_i2c.c ****   *     @arg I2C_EVENT_SLAVE_SECONDADDRESS_RECEIVER_MATCHED          : EV1
 936:./lib/src/at32f4xx_i2c.c ****   *     @arg I2C_EVENT_SLAVE_GENERALCALLADDRESS_MATCHED              : EV1
 937:./lib/src/at32f4xx_i2c.c ****   *     @arg I2C_EVENT_SLAVE_DATA_RECEIVED                           : EV2
 938:./lib/src/at32f4xx_i2c.c ****   *     @arg (I2C_EVENT_SLAVE_DATA_RECEIVED | I2C_FLAG_DUALF)        : EV2
 939:./lib/src/at32f4xx_i2c.c ****   *     @arg (I2C_EVENT_SLAVE_DATA_RECEIVED | I2C_FLAG_GCADDRF)      : EV2
ARM GAS  /tmp/cctayums.s 			page 41


 940:./lib/src/at32f4xx_i2c.c ****   *     @arg I2C_EVENT_SLAVE_DATA_TRANSMITTED                        : EV3
 941:./lib/src/at32f4xx_i2c.c ****   *     @arg (I2C_EVENT_SLAVE_DATA_TRANSMITTED | I2C_FLAG_DUALF)     : EV3
 942:./lib/src/at32f4xx_i2c.c ****   *     @arg (I2C_EVENT_SLAVE_DATA_TRANSMITTED | I2C_FLAG_GCADDRF)   : EV3
 943:./lib/src/at32f4xx_i2c.c ****   *     @arg I2C_EVENT_SLAVE_ACK_FAILURE_DETECTED                    : EV3_2
 944:./lib/src/at32f4xx_i2c.c ****   *     @arg I2C_EVENT_SLAVE_STOP_DETECTED                           : EV4
 945:./lib/src/at32f4xx_i2c.c ****   *     @arg I2C_EVENT_MASTER_START_GENERATED                        : EV5
 946:./lib/src/at32f4xx_i2c.c ****   *     @arg I2C_EVENT_MASTER_ADDRESS | I2C_EVENT_MASTER_TRANSMITTER : EV6
 947:./lib/src/at32f4xx_i2c.c ****   *     @arg I2C_EVENT_MASTER_ADDRESS_WITH_RECEIVER                  : EV6
 948:./lib/src/at32f4xx_i2c.c ****   *     @arg I2C_EVENT_MASTER_DATA_RECEIVED                          : EV7
 949:./lib/src/at32f4xx_i2c.c ****   *     @arg I2C_EVENT_MASTER_DATA_TRANSMITTING                      : EV8
 950:./lib/src/at32f4xx_i2c.c ****   *     @arg I2C_EVENT_MASTER_DATA_TRANSMITTED                       : EV8_2
 951:./lib/src/at32f4xx_i2c.c ****   *     @arg I2C_EVENT_MASTER_ADDRESS10_GENERATED                    : EV9
 952:./lib/src/at32f4xx_i2c.c ****   *
 953:./lib/src/at32f4xx_i2c.c ****   * @note: For detailed description of Events, please refer to section
 954:./lib/src/at32f4xx_i2c.c ****   *    I2C_Events in at32f4xx_i2c.h file.
 955:./lib/src/at32f4xx_i2c.c ****   *
 956:./lib/src/at32f4xx_i2c.c ****   * @retval An ErrorStatus enumeration value:
 957:./lib/src/at32f4xx_i2c.c ****   * - SUCCESS: Last event is equal to the I2C_EVENT
 958:./lib/src/at32f4xx_i2c.c ****   * - ERROR: Last event is different from the I2C_EVENT
 959:./lib/src/at32f4xx_i2c.c ****   */
 960:./lib/src/at32f4xx_i2c.c **** ErrorStatus I2C_CheckEvent(I2C_Type* I2Cx, uint32_t I2C_EVENT)
 961:./lib/src/at32f4xx_i2c.c **** {
 1356              		.loc 1 961 1 is_stmt 1 view -0
 1357              		.cfi_startproc
 1358              		@ args = 0, pretend = 0, frame = 0
 1359              		@ frame_needed = 0, uses_anonymous_args = 0
 1360              		@ link register save eliminated.
 962:./lib/src/at32f4xx_i2c.c ****   uint32_t lastevent = 0;
 1361              		.loc 1 962 3 view .LVU364
 963:./lib/src/at32f4xx_i2c.c ****   uint32_t flag1 = 0, flag2 = 0;
 1362              		.loc 1 963 3 view .LVU365
 964:./lib/src/at32f4xx_i2c.c ****   ErrorStatus status = ERROR;
 1363              		.loc 1 964 3 view .LVU366
 965:./lib/src/at32f4xx_i2c.c **** 
 966:./lib/src/at32f4xx_i2c.c ****   /* Check the parameters */
 967:./lib/src/at32f4xx_i2c.c ****   assert_param(IS_I2C_ALL_PERIPH(I2Cx));
 1364              		.loc 1 967 3 view .LVU367
 968:./lib/src/at32f4xx_i2c.c ****   assert_param(IS_I2C_EVENT(I2C_EVENT));
 1365              		.loc 1 968 3 view .LVU368
 969:./lib/src/at32f4xx_i2c.c **** 
 970:./lib/src/at32f4xx_i2c.c ****   /* Read the I2Cx status register */
 971:./lib/src/at32f4xx_i2c.c ****   flag1 = I2Cx->STS1;
 1366              		.loc 1 971 3 view .LVU369
 1367              		.loc 1 971 15 is_stmt 0 view .LVU370
 1368 0000 838A     		ldrh	r3, [r0, #20]
 1369 0002 9BB2     		uxth	r3, r3
 1370              	.LVL80:
 972:./lib/src/at32f4xx_i2c.c ****   flag2 = I2Cx->STS2;
 1371              		.loc 1 972 3 is_stmt 1 view .LVU371
 1372              		.loc 1 972 15 is_stmt 0 view .LVU372
 1373 0004 028B     		ldrh	r2, [r0, #24]
 1374              	.LVL81:
 973:./lib/src/at32f4xx_i2c.c ****   flag2 = flag2 << 16;
 1375              		.loc 1 973 3 is_stmt 1 view .LVU373
 974:./lib/src/at32f4xx_i2c.c **** 
 975:./lib/src/at32f4xx_i2c.c ****   /* Get the last event value from I2C status register */
 976:./lib/src/at32f4xx_i2c.c ****   lastevent = (flag1 | flag2) & FLAG_Mask;
ARM GAS  /tmp/cctayums.s 			page 42


 1376              		.loc 1 976 3 view .LVU374
 1377              		.loc 1 976 22 is_stmt 0 view .LVU375
 1378 0006 43EA0243 		orr	r3, r3, r2, lsl #16
 1379              	.LVL82:
 1380              		.loc 1 976 13 view .LVU376
 1381 000a 23F07F43 		bic	r3, r3, #-16777216
 1382              	.LVL83:
 977:./lib/src/at32f4xx_i2c.c **** 
 978:./lib/src/at32f4xx_i2c.c ****   /* Check whether the last event contains the I2C_EVENT */
 979:./lib/src/at32f4xx_i2c.c ****   if ((lastevent & I2C_EVENT) == I2C_EVENT)
 1383              		.loc 1 979 3 is_stmt 1 view .LVU377
 1384              		.loc 1 979 6 is_stmt 0 view .LVU378
 1385 000e 31EA0303 		bics	r3, r1, r3
 1386              	.LVL84:
 1387              		.loc 1 979 6 view .LVU379
 1388 0012 01D0     		beq	.L91
 980:./lib/src/at32f4xx_i2c.c ****   {
 981:./lib/src/at32f4xx_i2c.c ****     /* SUCCESS: last event is equal to I2C_EVENT */
 982:./lib/src/at32f4xx_i2c.c ****     status = SUCCESS;
 983:./lib/src/at32f4xx_i2c.c ****   }
 984:./lib/src/at32f4xx_i2c.c ****   else
 985:./lib/src/at32f4xx_i2c.c ****   {
 986:./lib/src/at32f4xx_i2c.c ****     /* ERROR: last event is different from I2C_EVENT */
 987:./lib/src/at32f4xx_i2c.c ****     status = ERROR;
 1389              		.loc 1 987 12 view .LVU380
 1390 0014 0020     		movs	r0, #0
 1391              	.LVL85:
 988:./lib/src/at32f4xx_i2c.c ****   }
 989:./lib/src/at32f4xx_i2c.c **** 
 990:./lib/src/at32f4xx_i2c.c ****   /* Return status */
 991:./lib/src/at32f4xx_i2c.c ****   return status;
 1392              		.loc 1 991 3 is_stmt 1 view .LVU381
 992:./lib/src/at32f4xx_i2c.c **** }
 1393              		.loc 1 992 1 is_stmt 0 view .LVU382
 1394 0016 7047     		bx	lr
 1395              	.LVL86:
 1396              	.L91:
 982:./lib/src/at32f4xx_i2c.c ****   }
 1397              		.loc 1 982 12 view .LVU383
 1398 0018 0120     		movs	r0, #1
 1399              	.LVL87:
 982:./lib/src/at32f4xx_i2c.c ****   }
 1400              		.loc 1 982 12 view .LVU384
 1401 001a 7047     		bx	lr
 1402              		.cfi_endproc
 1403              	.LFE150:
 1405              		.section	.text.I2C_GetLastEvent,"ax",%progbits
 1406              		.align	1
 1407              		.global	I2C_GetLastEvent
 1408              		.syntax unified
 1409              		.thumb
 1410              		.thumb_func
 1411              		.fpu fpv4-sp-d16
 1413              	I2C_GetLastEvent:
 1414              	.LVL88:
 1415              	.LFB151:
 993:./lib/src/at32f4xx_i2c.c **** 
ARM GAS  /tmp/cctayums.s 			page 43


 994:./lib/src/at32f4xx_i2c.c **** /**
 995:./lib/src/at32f4xx_i2c.c ****   * @brief  Returns the last I2Cx Event.
 996:./lib/src/at32f4xx_i2c.c ****   * @param  I2Cx: where x can be 1, 2 or 3 to select the I2C peripheral.
 997:./lib/src/at32f4xx_i2c.c ****   *
 998:./lib/src/at32f4xx_i2c.c ****   * @note: For detailed description of Events, please refer to section
 999:./lib/src/at32f4xx_i2c.c ****   *    I2C_Events in at32f4xx_i2c.h file.
1000:./lib/src/at32f4xx_i2c.c ****   *
1001:./lib/src/at32f4xx_i2c.c ****   * @retval The last event
1002:./lib/src/at32f4xx_i2c.c ****   */
1003:./lib/src/at32f4xx_i2c.c **** uint32_t I2C_GetLastEvent(I2C_Type* I2Cx)
1004:./lib/src/at32f4xx_i2c.c **** {
 1416              		.loc 1 1004 1 is_stmt 1 view -0
 1417              		.cfi_startproc
 1418              		@ args = 0, pretend = 0, frame = 0
 1419              		@ frame_needed = 0, uses_anonymous_args = 0
 1420              		@ link register save eliminated.
1005:./lib/src/at32f4xx_i2c.c ****   uint32_t lastevent = 0;
 1421              		.loc 1 1005 3 view .LVU386
1006:./lib/src/at32f4xx_i2c.c ****   uint32_t flag1 = 0, flag2 = 0;
 1422              		.loc 1 1006 3 view .LVU387
1007:./lib/src/at32f4xx_i2c.c **** 
1008:./lib/src/at32f4xx_i2c.c ****   /* Check the parameters */
1009:./lib/src/at32f4xx_i2c.c ****   assert_param(IS_I2C_ALL_PERIPH(I2Cx));
 1423              		.loc 1 1009 3 view .LVU388
1010:./lib/src/at32f4xx_i2c.c **** 
1011:./lib/src/at32f4xx_i2c.c ****   /* Read the I2Cx status register */
1012:./lib/src/at32f4xx_i2c.c ****   flag1 = I2Cx->STS1;
 1424              		.loc 1 1012 3 view .LVU389
 1425              		.loc 1 1012 15 is_stmt 0 view .LVU390
 1426 0000 838A     		ldrh	r3, [r0, #20]
 1427 0002 9BB2     		uxth	r3, r3
 1428              	.LVL89:
1013:./lib/src/at32f4xx_i2c.c ****   flag2 = I2Cx->STS2;
 1429              		.loc 1 1013 3 is_stmt 1 view .LVU391
 1430              		.loc 1 1013 15 is_stmt 0 view .LVU392
 1431 0004 008B     		ldrh	r0, [r0, #24]
 1432              	.LVL90:
1014:./lib/src/at32f4xx_i2c.c ****   flag2 = flag2 << 16;
 1433              		.loc 1 1014 3 is_stmt 1 view .LVU393
1015:./lib/src/at32f4xx_i2c.c **** 
1016:./lib/src/at32f4xx_i2c.c ****   /* Get the last event value from I2C status register */
1017:./lib/src/at32f4xx_i2c.c ****   lastevent = (flag1 | flag2) & FLAG_Mask;
 1434              		.loc 1 1017 3 view .LVU394
 1435              		.loc 1 1017 22 is_stmt 0 view .LVU395
 1436 0006 43EA0040 		orr	r0, r3, r0, lsl #16
 1437              	.LVL91:
1018:./lib/src/at32f4xx_i2c.c **** 
1019:./lib/src/at32f4xx_i2c.c ****   /* Return status */
1020:./lib/src/at32f4xx_i2c.c ****   return lastevent;
 1438              		.loc 1 1020 3 is_stmt 1 view .LVU396
1021:./lib/src/at32f4xx_i2c.c **** }
 1439              		.loc 1 1021 1 is_stmt 0 view .LVU397
 1440 000a 20F07F40 		bic	r0, r0, #-16777216
 1441              	.LVL92:
 1442              		.loc 1 1021 1 view .LVU398
 1443 000e 7047     		bx	lr
 1444              		.cfi_endproc
ARM GAS  /tmp/cctayums.s 			page 44


 1445              	.LFE151:
 1447              		.section	.text.I2C_GetFlagStatus,"ax",%progbits
 1448              		.align	1
 1449              		.global	I2C_GetFlagStatus
 1450              		.syntax unified
 1451              		.thumb
 1452              		.thumb_func
 1453              		.fpu fpv4-sp-d16
 1455              	I2C_GetFlagStatus:
 1456              	.LVL93:
 1457              	.LFB152:
1022:./lib/src/at32f4xx_i2c.c **** 
1023:./lib/src/at32f4xx_i2c.c **** /**
1024:./lib/src/at32f4xx_i2c.c ****   * @brief  Checks whether the specified I2C flag is set or not.
1025:./lib/src/at32f4xx_i2c.c ****   * @param  I2Cx: where x can be 1, 2 or 3 to select the I2C peripheral.
1026:./lib/src/at32f4xx_i2c.c ****   * @param  I2C_FLAG: specifies the flag to check.
1027:./lib/src/at32f4xx_i2c.c ****   *   This parameter can be one of the following values:
1028:./lib/src/at32f4xx_i2c.c ****   *     @arg I2C_FLAG_DUALF: Dual flag (Slave mode)
1029:./lib/src/at32f4xx_i2c.c ****   *     @arg I2C_FLAG_SMBHOSTADDRF: SMBus host header (Slave mode)
1030:./lib/src/at32f4xx_i2c.c ****   *     @arg I2C_FLAG_SMBDEFTADDRF: SMBus default header (Slave mode)
1031:./lib/src/at32f4xx_i2c.c ****   *     @arg I2C_FLAG_GCADDRF: General call header flag (Slave mode)
1032:./lib/src/at32f4xx_i2c.c ****   *     @arg I2C_FLAG_TRF: Transmitter/Receiver flag
1033:./lib/src/at32f4xx_i2c.c ****   *     @arg I2C_FLAG_BUSYF: Bus busy flag
1034:./lib/src/at32f4xx_i2c.c ****   *     @arg I2C_FLAG_MSF: Master/Slave flag
1035:./lib/src/at32f4xx_i2c.c ****   *     @arg I2C_FLAG_SMBALERTF: SMBus Alert flag
1036:./lib/src/at32f4xx_i2c.c ****   *     @arg I2C_FLAG_TIMOUT: Timeout or Tlow error flag
1037:./lib/src/at32f4xx_i2c.c ****   *     @arg I2C_FLAG_PECERR: PEC error in reception flag
1038:./lib/src/at32f4xx_i2c.c ****   *     @arg I2C_FLAG_OVRUN: Overrun/Underrun flag (Slave mode)
1039:./lib/src/at32f4xx_i2c.c ****   *     @arg I2C_FLAG_ACKFAIL: Acknowledge failure flag
1040:./lib/src/at32f4xx_i2c.c ****   *     @arg I2C_FLAG_ARLOST: Arbitration lost flag (Master mode)
1041:./lib/src/at32f4xx_i2c.c ****   *     @arg I2C_FLAG_BUSERR: Bus error flag
1042:./lib/src/at32f4xx_i2c.c ****   *     @arg I2C_FLAG_TDE: Data register empty flag (Transmitter)
1043:./lib/src/at32f4xx_i2c.c ****   *     @arg I2C_FLAG_RDNE: Data register not empty (Receiver) flag
1044:./lib/src/at32f4xx_i2c.c ****   *     @arg I2C_FLAG_STOPF: Stop detection flag (Slave mode)
1045:./lib/src/at32f4xx_i2c.c ****   *     @arg I2C_FLAG_ADDR10F: 10-bit header sent flag (Master mode)
1046:./lib/src/at32f4xx_i2c.c ****   *     @arg I2C_FLAG_BTFF: Byte transfer finished flag
1047:./lib/src/at32f4xx_i2c.c ****   *     @arg I2C_FLAG_ADDRF: Address sent flag (Master mode) "ADSL"
1048:./lib/src/at32f4xx_i2c.c ****   *   Address matched flag (Slave mode)"ENDA"
1049:./lib/src/at32f4xx_i2c.c ****   *     @arg I2C_FLAG_STARTF: Start bit flag (Master mode)
1050:./lib/src/at32f4xx_i2c.c ****   * @retval The new state of I2C_FLAG (SET or RESET).
1051:./lib/src/at32f4xx_i2c.c ****   */
1052:./lib/src/at32f4xx_i2c.c **** FlagStatus I2C_GetFlagStatus(I2C_Type* I2Cx, uint32_t I2C_FLAG)
1053:./lib/src/at32f4xx_i2c.c **** {
 1458              		.loc 1 1053 1 is_stmt 1 view -0
 1459              		.cfi_startproc
 1460              		@ args = 0, pretend = 0, frame = 8
 1461              		@ frame_needed = 0, uses_anonymous_args = 0
 1462              		@ link register save eliminated.
 1463              		.loc 1 1053 1 is_stmt 0 view .LVU400
 1464 0000 82B0     		sub	sp, sp, #8
 1465              	.LCFI7:
 1466              		.cfi_def_cfa_offset 8
1054:./lib/src/at32f4xx_i2c.c ****   FlagStatus bitstatus = RESET;
 1467              		.loc 1 1054 3 is_stmt 1 view .LVU401
 1468              	.LVL94:
1055:./lib/src/at32f4xx_i2c.c ****   __IO uint32_t i2creg = 0, i2cxbase = 0;
 1469              		.loc 1 1055 3 view .LVU402
ARM GAS  /tmp/cctayums.s 			page 45


 1470              		.loc 1 1055 17 is_stmt 0 view .LVU403
 1471 0002 0023     		movs	r3, #0
 1472 0004 0193     		str	r3, [sp, #4]
 1473              		.loc 1 1055 29 view .LVU404
 1474 0006 0093     		str	r3, [sp]
1056:./lib/src/at32f4xx_i2c.c **** 
1057:./lib/src/at32f4xx_i2c.c ****   /* Check the parameters */
1058:./lib/src/at32f4xx_i2c.c ****   assert_param(IS_I2C_ALL_PERIPH(I2Cx));
 1475              		.loc 1 1058 3 is_stmt 1 view .LVU405
1059:./lib/src/at32f4xx_i2c.c ****   assert_param(IS_I2C_GET_FLAG(I2C_FLAG));
 1476              		.loc 1 1059 3 view .LVU406
1060:./lib/src/at32f4xx_i2c.c **** 
1061:./lib/src/at32f4xx_i2c.c ****   /* Get the I2Cx peripheral base address */
1062:./lib/src/at32f4xx_i2c.c ****   i2cxbase = (uint32_t)I2Cx;
 1477              		.loc 1 1062 3 view .LVU407
 1478              		.loc 1 1062 12 is_stmt 0 view .LVU408
 1479 0008 0090     		str	r0, [sp]
1063:./lib/src/at32f4xx_i2c.c **** 
1064:./lib/src/at32f4xx_i2c.c ****   /* Read flag register index */
1065:./lib/src/at32f4xx_i2c.c ****   i2creg = I2C_FLAG >> 28;
 1480              		.loc 1 1065 3 is_stmt 1 view .LVU409
 1481              		.loc 1 1065 21 is_stmt 0 view .LVU410
 1482 000a 0B0F     		lsrs	r3, r1, #28
 1483              		.loc 1 1065 10 view .LVU411
 1484 000c 0193     		str	r3, [sp, #4]
1066:./lib/src/at32f4xx_i2c.c **** 
1067:./lib/src/at32f4xx_i2c.c ****   /* Get bit[23:0] of the flag */
1068:./lib/src/at32f4xx_i2c.c ****   I2C_FLAG &= FLAG_Mask;
 1485              		.loc 1 1068 3 is_stmt 1 view .LVU412
 1486              		.loc 1 1068 12 is_stmt 0 view .LVU413
 1487 000e 21F07F41 		bic	r1, r1, #-16777216
 1488              	.LVL95:
1069:./lib/src/at32f4xx_i2c.c **** 
1070:./lib/src/at32f4xx_i2c.c ****   if(i2creg != 0)
 1489              		.loc 1 1070 3 is_stmt 1 view .LVU414
 1490              		.loc 1 1070 13 is_stmt 0 view .LVU415
 1491 0012 019B     		ldr	r3, [sp, #4]
 1492              		.loc 1 1070 5 view .LVU416
 1493 0014 4BB1     		cbz	r3, .L94
1071:./lib/src/at32f4xx_i2c.c ****   {
1072:./lib/src/at32f4xx_i2c.c ****     /* Get the I2Cx SR1 register address */
1073:./lib/src/at32f4xx_i2c.c ****     i2cxbase += 0x14;
 1494              		.loc 1 1073 5 is_stmt 1 view .LVU417
 1495              		.loc 1 1073 14 is_stmt 0 view .LVU418
 1496 0016 009B     		ldr	r3, [sp]
 1497 0018 1433     		adds	r3, r3, #20
 1498 001a 0093     		str	r3, [sp]
 1499              	.L95:
1074:./lib/src/at32f4xx_i2c.c ****   }
1075:./lib/src/at32f4xx_i2c.c ****   else
1076:./lib/src/at32f4xx_i2c.c ****   {
1077:./lib/src/at32f4xx_i2c.c ****     /* Flag in I2Cx SR2 Register */
1078:./lib/src/at32f4xx_i2c.c ****     I2C_FLAG = (uint32_t)(I2C_FLAG >> 16);
1079:./lib/src/at32f4xx_i2c.c ****     /* Get the I2Cx SR2 register address */
1080:./lib/src/at32f4xx_i2c.c ****     i2cxbase += 0x18;
1081:./lib/src/at32f4xx_i2c.c ****   }
1082:./lib/src/at32f4xx_i2c.c **** 
ARM GAS  /tmp/cctayums.s 			page 46


1083:./lib/src/at32f4xx_i2c.c ****   if(((*(__IO uint32_t *)i2cxbase) & I2C_FLAG) != (uint32_t)RESET)
 1500              		.loc 1 1083 3 is_stmt 1 view .LVU419
 1501              		.loc 1 1083 9 is_stmt 0 view .LVU420
 1502 001c 009B     		ldr	r3, [sp]
 1503              		.loc 1 1083 8 view .LVU421
 1504 001e 1B68     		ldr	r3, [r3]
 1505              		.loc 1 1083 5 view .LVU422
 1506 0020 0B42     		tst	r3, r1
 1507 0022 07D0     		beq	.L97
1084:./lib/src/at32f4xx_i2c.c ****   {
1085:./lib/src/at32f4xx_i2c.c ****     /* I2C_FLAG is set */
1086:./lib/src/at32f4xx_i2c.c ****     bitstatus = SET;
 1508              		.loc 1 1086 15 view .LVU423
 1509 0024 0120     		movs	r0, #1
 1510              	.LVL96:
 1511              	.L96:
1087:./lib/src/at32f4xx_i2c.c ****   }
1088:./lib/src/at32f4xx_i2c.c ****   else
1089:./lib/src/at32f4xx_i2c.c ****   {
1090:./lib/src/at32f4xx_i2c.c ****     /* I2C_FLAG is reset */
1091:./lib/src/at32f4xx_i2c.c ****     bitstatus = RESET;
1092:./lib/src/at32f4xx_i2c.c ****   }
1093:./lib/src/at32f4xx_i2c.c **** 
1094:./lib/src/at32f4xx_i2c.c ****   /* Return the I2C_FLAG status */
1095:./lib/src/at32f4xx_i2c.c ****   return  bitstatus;
 1512              		.loc 1 1095 3 is_stmt 1 view .LVU424
1096:./lib/src/at32f4xx_i2c.c **** }
 1513              		.loc 1 1096 1 is_stmt 0 view .LVU425
 1514 0026 02B0     		add	sp, sp, #8
 1515              	.LCFI8:
 1516              		.cfi_remember_state
 1517              		.cfi_def_cfa_offset 0
 1518              		@ sp needed
 1519 0028 7047     		bx	lr
 1520              	.LVL97:
 1521              	.L94:
 1522              	.LCFI9:
 1523              		.cfi_restore_state
1078:./lib/src/at32f4xx_i2c.c ****     /* Get the I2Cx SR2 register address */
 1524              		.loc 1 1078 5 is_stmt 1 view .LVU426
1078:./lib/src/at32f4xx_i2c.c ****     /* Get the I2Cx SR2 register address */
 1525              		.loc 1 1078 14 is_stmt 0 view .LVU427
 1526 002a 090C     		lsrs	r1, r1, #16
 1527              	.LVL98:
1080:./lib/src/at32f4xx_i2c.c ****   }
 1528              		.loc 1 1080 5 is_stmt 1 view .LVU428
1080:./lib/src/at32f4xx_i2c.c ****   }
 1529              		.loc 1 1080 14 is_stmt 0 view .LVU429
 1530 002c 009B     		ldr	r3, [sp]
 1531 002e 1833     		adds	r3, r3, #24
 1532 0030 0093     		str	r3, [sp]
 1533 0032 F3E7     		b	.L95
 1534              	.L97:
1091:./lib/src/at32f4xx_i2c.c ****   }
 1535              		.loc 1 1091 15 view .LVU430
 1536 0034 0020     		movs	r0, #0
 1537              	.LVL99:
ARM GAS  /tmp/cctayums.s 			page 47


1091:./lib/src/at32f4xx_i2c.c ****   }
 1538              		.loc 1 1091 15 view .LVU431
 1539 0036 F6E7     		b	.L96
 1540              		.cfi_endproc
 1541              	.LFE152:
 1543              		.section	.text.I2C_ClearFlag,"ax",%progbits
 1544              		.align	1
 1545              		.global	I2C_ClearFlag
 1546              		.syntax unified
 1547              		.thumb
 1548              		.thumb_func
 1549              		.fpu fpv4-sp-d16
 1551              	I2C_ClearFlag:
 1552              	.LVL100:
 1553              	.LFB153:
1097:./lib/src/at32f4xx_i2c.c **** 
1098:./lib/src/at32f4xx_i2c.c **** 
1099:./lib/src/at32f4xx_i2c.c **** 
1100:./lib/src/at32f4xx_i2c.c **** /**
1101:./lib/src/at32f4xx_i2c.c ****   * @brief  Clears the I2Cx's pending flags.
1102:./lib/src/at32f4xx_i2c.c ****   * @param  I2Cx: where x can be 1, 2 or 3 to select the I2C peripheral.
1103:./lib/src/at32f4xx_i2c.c ****   * @param  I2C_FLAG: specifies the flag to clear.
1104:./lib/src/at32f4xx_i2c.c ****   *   This parameter can be any combination of the following values:
1105:./lib/src/at32f4xx_i2c.c ****   *     @arg I2C_FLAG_SMBALERTF: SMBus Alert flag
1106:./lib/src/at32f4xx_i2c.c ****   *     @arg I2C_FLAG_TIMOUT: Timeout or Tlow error flag
1107:./lib/src/at32f4xx_i2c.c ****   *     @arg I2C_FLAG_PECERR: PEC error in reception flag
1108:./lib/src/at32f4xx_i2c.c ****   *     @arg I2C_FLAG_OVRUN: Overrun/Underrun flag (Slave mode)
1109:./lib/src/at32f4xx_i2c.c ****   *     @arg I2C_FLAG_ACKFAIL: Acknowledge failure flag
1110:./lib/src/at32f4xx_i2c.c ****   *     @arg I2C_FLAG_ARLOST: Arbitration lost flag (Master mode)
1111:./lib/src/at32f4xx_i2c.c ****   *     @arg I2C_FLAG_BUSERR: Bus error flag
1112:./lib/src/at32f4xx_i2c.c ****   *
1113:./lib/src/at32f4xx_i2c.c ****   * @note
1114:./lib/src/at32f4xx_i2c.c ****   *   - STOPF (STOP detection) is cleared by software sequence: a read operation
1115:./lib/src/at32f4xx_i2c.c ****   *     to I2C_SR1 register (I2C_GetFlagStatus()) followed by a write operation
1116:./lib/src/at32f4xx_i2c.c ****   *     to I2C_CTRL1 register (I2C_Cmd() to re-enable the I2C peripheral).
1117:./lib/src/at32f4xx_i2c.c ****   *   - ADD10 (10-bit header sent) is cleared by software sequence: a read
1118:./lib/src/at32f4xx_i2c.c ****   *     operation to I2C_SR1 (I2C_GetFlagStatus()) followed by writing the
1119:./lib/src/at32f4xx_i2c.c ****   *     second byte of the address in DR register.
1120:./lib/src/at32f4xx_i2c.c ****   *   - BTF (Byte Transfer Finished) is cleared by software sequence: a read
1121:./lib/src/at32f4xx_i2c.c ****   *     operation to I2C_SR1 register (I2C_GetFlagStatus()) followed by a
1122:./lib/src/at32f4xx_i2c.c ****   *     read/write to I2C_DR register (I2C_SendData()).
1123:./lib/src/at32f4xx_i2c.c ****   *   - ADDR (Address sent) is cleared by software sequence: a read operation to
1124:./lib/src/at32f4xx_i2c.c ****   *     I2C_SR1 register (I2C_GetFlagStatus()) followed by a read operation to
1125:./lib/src/at32f4xx_i2c.c ****   *     I2C_SR2 register ((void)(I2Cx->SR2)).
1126:./lib/src/at32f4xx_i2c.c ****   *   - SB (Start Bit) is cleared software sequence: a read operation to I2C_SR1
1127:./lib/src/at32f4xx_i2c.c ****   *     register (I2C_GetFlagStatus()) followed by a write operation to I2C_DR
1128:./lib/src/at32f4xx_i2c.c ****   *     register  (I2C_SendData()).
1129:./lib/src/at32f4xx_i2c.c ****   * @retval None
1130:./lib/src/at32f4xx_i2c.c ****   */
1131:./lib/src/at32f4xx_i2c.c **** void I2C_ClearFlag(I2C_Type* I2Cx, uint32_t I2C_FLAG)
1132:./lib/src/at32f4xx_i2c.c **** {
 1554              		.loc 1 1132 1 is_stmt 1 view -0
 1555              		.cfi_startproc
 1556              		@ args = 0, pretend = 0, frame = 0
 1557              		@ frame_needed = 0, uses_anonymous_args = 0
 1558              		@ link register save eliminated.
1133:./lib/src/at32f4xx_i2c.c ****   uint32_t flagpos = 0;
ARM GAS  /tmp/cctayums.s 			page 48


 1559              		.loc 1 1133 3 view .LVU433
1134:./lib/src/at32f4xx_i2c.c ****   /* Check the parameters */
1135:./lib/src/at32f4xx_i2c.c ****   assert_param(IS_I2C_ALL_PERIPH(I2Cx));
 1560              		.loc 1 1135 3 view .LVU434
1136:./lib/src/at32f4xx_i2c.c ****   assert_param(IS_I2C_CLEAR_FLAG(I2C_FLAG));
 1561              		.loc 1 1136 3 view .LVU435
1137:./lib/src/at32f4xx_i2c.c ****   /* Get the I2C flag position */
1138:./lib/src/at32f4xx_i2c.c ****   flagpos = I2C_FLAG & FLAG_Mask;
 1562              		.loc 1 1138 3 view .LVU436
 1563              		.loc 1 1138 11 is_stmt 0 view .LVU437
 1564 0000 21F07F41 		bic	r1, r1, #-16777216
 1565              	.LVL101:
1139:./lib/src/at32f4xx_i2c.c ****   /* Clear the selected I2C flag */
1140:./lib/src/at32f4xx_i2c.c ****   I2Cx->STS1 = (uint16_t)~flagpos;
 1566              		.loc 1 1140 3 is_stmt 1 view .LVU438
 1567              		.loc 1 1140 16 is_stmt 0 view .LVU439
 1568 0004 C943     		mvns	r1, r1
 1569              	.LVL102:
 1570              		.loc 1 1140 16 view .LVU440
 1571 0006 89B2     		uxth	r1, r1
 1572              	.LVL103:
 1573              		.loc 1 1140 14 view .LVU441
 1574 0008 8182     		strh	r1, [r0, #20]	@ movhi
1141:./lib/src/at32f4xx_i2c.c **** }
 1575              		.loc 1 1141 1 view .LVU442
 1576 000a 7047     		bx	lr
 1577              		.cfi_endproc
 1578              	.LFE153:
 1580              		.section	.text.I2C_GetINTStatus,"ax",%progbits
 1581              		.align	1
 1582              		.global	I2C_GetINTStatus
 1583              		.syntax unified
 1584              		.thumb
 1585              		.thumb_func
 1586              		.fpu fpv4-sp-d16
 1588              	I2C_GetINTStatus:
 1589              	.LVL104:
 1590              	.LFB154:
1142:./lib/src/at32f4xx_i2c.c **** 
1143:./lib/src/at32f4xx_i2c.c **** /**
1144:./lib/src/at32f4xx_i2c.c ****   * @brief  Checks whether the specified I2C interrupt has occurred or not.
1145:./lib/src/at32f4xx_i2c.c ****   * @param  I2Cx: where x can be 1, 2 or 3 to select the I2C peripheral.
1146:./lib/src/at32f4xx_i2c.c ****   * @param  I2C_INT: specifies the interrupt source to check.
1147:./lib/src/at32f4xx_i2c.c ****   *   This parameter can be one of the following values:
1148:./lib/src/at32f4xx_i2c.c ****   *     @arg I2C_INT_SMBALERTF: SMBus Alert flag
1149:./lib/src/at32f4xx_i2c.c ****   *     @arg I2C_INT_TIMOUT: Timeout or Tlow error flag
1150:./lib/src/at32f4xx_i2c.c ****   *     @arg I2C_INT_PECERR: PEC error in reception flag
1151:./lib/src/at32f4xx_i2c.c ****   *     @arg I2C_INT_OVRUN: Overrun/Underrun flag (Slave mode)
1152:./lib/src/at32f4xx_i2c.c ****   *     @arg I2C_INT_ACKFAIL: Acknowledge failure flag
1153:./lib/src/at32f4xx_i2c.c ****   *     @arg I2C_INT_ARLOST: Arbitration lost flag (Master mode)
1154:./lib/src/at32f4xx_i2c.c ****   *     @arg I2C_INT_BUSERR: Bus error flag
1155:./lib/src/at32f4xx_i2c.c ****   *     @arg I2C_INT_TDE: Data register empty flag (Transmitter)
1156:./lib/src/at32f4xx_i2c.c ****   *     @arg I2C_INT_RDNE: Data register not empty (Receiver) flag
1157:./lib/src/at32f4xx_i2c.c ****   *     @arg I2C_INT_STOPF: Stop detection flag (Slave mode)
1158:./lib/src/at32f4xx_i2c.c ****   *     @arg I2C_INT_ADDR10F: 10-bit header sent flag (Master mode)
1159:./lib/src/at32f4xx_i2c.c ****   *     @arg I2C_INT_BTFF: Byte transfer finished flag
1160:./lib/src/at32f4xx_i2c.c ****   *     @arg I2C_INT_ADDRF: Address sent flag (Master mode) "ADSL"
ARM GAS  /tmp/cctayums.s 			page 49


1161:./lib/src/at32f4xx_i2c.c ****   *                       Address matched flag (Slave mode)"ENDAD"
1162:./lib/src/at32f4xx_i2c.c ****   *     @arg I2C_INT_STARTF: Start bit flag (Master mode)
1163:./lib/src/at32f4xx_i2c.c ****   * @retval The new state of I2C_INT (SET or RESET).
1164:./lib/src/at32f4xx_i2c.c ****   */
1165:./lib/src/at32f4xx_i2c.c **** ITStatus I2C_GetINTStatus(I2C_Type* I2Cx, uint32_t I2C_INT)
1166:./lib/src/at32f4xx_i2c.c **** {
 1591              		.loc 1 1166 1 is_stmt 1 view -0
 1592              		.cfi_startproc
 1593              		@ args = 0, pretend = 0, frame = 0
 1594              		@ frame_needed = 0, uses_anonymous_args = 0
 1595              		@ link register save eliminated.
1167:./lib/src/at32f4xx_i2c.c ****   ITStatus bitstatus = RESET;
 1596              		.loc 1 1167 3 view .LVU444
1168:./lib/src/at32f4xx_i2c.c ****   uint32_t enablestatus = 0;
 1597              		.loc 1 1168 3 view .LVU445
1169:./lib/src/at32f4xx_i2c.c **** 
1170:./lib/src/at32f4xx_i2c.c ****   /* Check the parameters */
1171:./lib/src/at32f4xx_i2c.c ****   assert_param(IS_I2C_ALL_PERIPH(I2Cx));
 1598              		.loc 1 1171 3 view .LVU446
1172:./lib/src/at32f4xx_i2c.c ****   assert_param(IS_I2C_GET_INT(I2C_INT));
 1599              		.loc 1 1172 3 view .LVU447
1173:./lib/src/at32f4xx_i2c.c **** 
1174:./lib/src/at32f4xx_i2c.c ****   /* Check if the interrupt source is enabled or not */
1175:./lib/src/at32f4xx_i2c.c ****   enablestatus = (uint32_t)(((I2C_INT & INTEN_Mask) >> 16) & (I2Cx->CTRL2)) ;
 1600              		.loc 1 1175 3 view .LVU448
 1601              		.loc 1 1175 67 is_stmt 0 view .LVU449
 1602 0000 8388     		ldrh	r3, [r0, #4]
 1603              		.loc 1 1175 18 view .LVU450
 1604 0002 03EA1143 		and	r3, r3, r1, lsr #16
 1605              		.loc 1 1175 16 view .LVU451
 1606 0006 03F4E063 		and	r3, r3, #1792
 1607              	.LVL105:
1176:./lib/src/at32f4xx_i2c.c **** 
1177:./lib/src/at32f4xx_i2c.c ****   /* Get bit[23:0] of the flag */
1178:./lib/src/at32f4xx_i2c.c ****   I2C_INT &= FLAG_Mask;
 1608              		.loc 1 1178 3 is_stmt 1 view .LVU452
1179:./lib/src/at32f4xx_i2c.c **** 
1180:./lib/src/at32f4xx_i2c.c ****   /* Check the status of the specified I2C flag */
1181:./lib/src/at32f4xx_i2c.c ****   if (((I2Cx->STS1 & I2C_INT) != (uint32_t)RESET) && enablestatus)
 1609              		.loc 1 1181 3 view .LVU453
 1610              		.loc 1 1181 13 is_stmt 0 view .LVU454
 1611 000a 828A     		ldrh	r2, [r0, #20]
 1612 000c 92B2     		uxth	r2, r2
 1613              		.loc 1 1181 6 view .LVU455
 1614 000e 1142     		tst	r1, r2
 1615 0010 02D0     		beq	.L102
 1616              		.loc 1 1181 51 discriminator 1 view .LVU456
 1617 0012 1BB9     		cbnz	r3, .L103
1182:./lib/src/at32f4xx_i2c.c ****   {
1183:./lib/src/at32f4xx_i2c.c ****     /* I2C_INT is set */
1184:./lib/src/at32f4xx_i2c.c ****     bitstatus = SET;
1185:./lib/src/at32f4xx_i2c.c ****   }
1186:./lib/src/at32f4xx_i2c.c ****   else
1187:./lib/src/at32f4xx_i2c.c ****   {
1188:./lib/src/at32f4xx_i2c.c ****     /* I2C_INT is reset */
1189:./lib/src/at32f4xx_i2c.c ****     bitstatus = RESET;
 1618              		.loc 1 1189 15 view .LVU457
ARM GAS  /tmp/cctayums.s 			page 50


 1619 0014 0020     		movs	r0, #0
 1620              	.LVL106:
 1621              		.loc 1 1189 15 view .LVU458
 1622 0016 7047     		bx	lr
 1623              	.LVL107:
 1624              	.L102:
 1625              		.loc 1 1189 15 view .LVU459
 1626 0018 0020     		movs	r0, #0
 1627              	.LVL108:
 1628              		.loc 1 1189 15 view .LVU460
 1629 001a 7047     		bx	lr
 1630              	.LVL109:
 1631              	.L103:
1184:./lib/src/at32f4xx_i2c.c ****   }
 1632              		.loc 1 1184 15 view .LVU461
 1633 001c 0120     		movs	r0, #1
 1634              	.LVL110:
1190:./lib/src/at32f4xx_i2c.c ****   }
1191:./lib/src/at32f4xx_i2c.c **** 
1192:./lib/src/at32f4xx_i2c.c ****   /* Return the I2C_INT status */
1193:./lib/src/at32f4xx_i2c.c ****   return  bitstatus;
 1635              		.loc 1 1193 3 is_stmt 1 view .LVU462
1194:./lib/src/at32f4xx_i2c.c **** }
 1636              		.loc 1 1194 1 is_stmt 0 view .LVU463
 1637 001e 7047     		bx	lr
 1638              		.cfi_endproc
 1639              	.LFE154:
 1641              		.section	.text.I2C_ClearITPendingBit,"ax",%progbits
 1642              		.align	1
 1643              		.global	I2C_ClearITPendingBit
 1644              		.syntax unified
 1645              		.thumb
 1646              		.thumb_func
 1647              		.fpu fpv4-sp-d16
 1649              	I2C_ClearITPendingBit:
 1650              	.LVL111:
 1651              	.LFB155:
1195:./lib/src/at32f4xx_i2c.c **** 
1196:./lib/src/at32f4xx_i2c.c **** /**
1197:./lib/src/at32f4xx_i2c.c ****   * @brief  Clears the I2Cx interrupt pending bits.
1198:./lib/src/at32f4xx_i2c.c ****   * @param  I2Cx: where x can be 1, 2 or 3 to select the I2C peripheral.
1199:./lib/src/at32f4xx_i2c.c ****   * @param  I2C_INT: specifies the interrupt pending bit to clear.
1200:./lib/src/at32f4xx_i2c.c ****   *   This parameter can be any combination of the following values:
1201:./lib/src/at32f4xx_i2c.c ****   *     @arg I2C_INT_SMBALERTF: SMBus Alert interrupt
1202:./lib/src/at32f4xx_i2c.c ****   *     @arg I2C_INT_TIMOUT: Timeout or Tlow error interrupt
1203:./lib/src/at32f4xx_i2c.c ****   *     @arg I2C_INT_PECERR: PEC error in reception  interrupt
1204:./lib/src/at32f4xx_i2c.c ****   *     @arg I2C_INT_OVRUN: Overrun/Underrun interrupt (Slave mode)
1205:./lib/src/at32f4xx_i2c.c ****   *     @arg I2C_INT_ACKFAIL: Acknowledge failure interrupt
1206:./lib/src/at32f4xx_i2c.c ****   *     @arg I2C_INT_ARLOST: Arbitration lost interrupt (Master mode)
1207:./lib/src/at32f4xx_i2c.c ****   *     @arg I2C_INT_BUSERR: Bus error interrupt
1208:./lib/src/at32f4xx_i2c.c ****   *
1209:./lib/src/at32f4xx_i2c.c ****   * @note
1210:./lib/src/at32f4xx_i2c.c ****   *   - STOPF (STOP detection) is cleared by software sequence: a read operation
1211:./lib/src/at32f4xx_i2c.c ****   *     to I2C_SR1 register (I2C_GetINTStatus()) followed by a write operation to
1212:./lib/src/at32f4xx_i2c.c ****   *     I2C_CTRL1 register (I2C_Cmd() to re-enable the I2C peripheral).
1213:./lib/src/at32f4xx_i2c.c ****   *   - ADD10 (10-bit header sent) is cleared by software sequence: a read
1214:./lib/src/at32f4xx_i2c.c ****   *     operation to I2C_SR1 (I2C_GetINTStatus()) followed by writing the second
ARM GAS  /tmp/cctayums.s 			page 51


1215:./lib/src/at32f4xx_i2c.c ****   *     byte of the address in I2C_DR register.
1216:./lib/src/at32f4xx_i2c.c ****   *   - BTF (Byte Transfer Finished) is cleared by software sequence: a read
1217:./lib/src/at32f4xx_i2c.c ****   *     operation to I2C_SR1 register (I2C_GetINTStatus()) followed by a
1218:./lib/src/at32f4xx_i2c.c ****   *     read/write to I2C_DR register (I2C_SendData()).
1219:./lib/src/at32f4xx_i2c.c ****   *   - ADDR (Address sent) is cleared by software sequence: a read operation to
1220:./lib/src/at32f4xx_i2c.c ****   *     I2C_SR1 register (I2C_GetINTStatus()) followed by a read operation to
1221:./lib/src/at32f4xx_i2c.c ****   *     I2C_SR2 register ((void)(I2Cx->SR2)).
1222:./lib/src/at32f4xx_i2c.c ****   *   - SB (Start Bit) is cleared by software sequence: a read operation to
1223:./lib/src/at32f4xx_i2c.c ****   *     I2C_SR1 register (I2C_GetINTStatus()) followed by a write operation to
1224:./lib/src/at32f4xx_i2c.c ****   *     I2C_DR register (I2C_SendData()).
1225:./lib/src/at32f4xx_i2c.c ****   * @retval None
1226:./lib/src/at32f4xx_i2c.c ****   */
1227:./lib/src/at32f4xx_i2c.c **** void I2C_ClearITPendingBit(I2C_Type* I2Cx, uint32_t I2C_INT)
1228:./lib/src/at32f4xx_i2c.c **** {
 1652              		.loc 1 1228 1 is_stmt 1 view -0
 1653              		.cfi_startproc
 1654              		@ args = 0, pretend = 0, frame = 0
 1655              		@ frame_needed = 0, uses_anonymous_args = 0
 1656              		@ link register save eliminated.
1229:./lib/src/at32f4xx_i2c.c ****   uint32_t flagpos = 0;
 1657              		.loc 1 1229 3 view .LVU465
1230:./lib/src/at32f4xx_i2c.c ****   /* Check the parameters */
1231:./lib/src/at32f4xx_i2c.c ****   assert_param(IS_I2C_ALL_PERIPH(I2Cx));
 1658              		.loc 1 1231 3 view .LVU466
1232:./lib/src/at32f4xx_i2c.c ****   assert_param(IS_I2C_CLEAR_INT(I2C_INT));
 1659              		.loc 1 1232 3 view .LVU467
1233:./lib/src/at32f4xx_i2c.c ****   /* Get the I2C flag position */
1234:./lib/src/at32f4xx_i2c.c ****   flagpos = I2C_INT & FLAG_Mask;
 1660              		.loc 1 1234 3 view .LVU468
 1661              		.loc 1 1234 11 is_stmt 0 view .LVU469
 1662 0000 21F07F41 		bic	r1, r1, #-16777216
 1663              	.LVL112:
1235:./lib/src/at32f4xx_i2c.c ****   /* Clear the selected I2C flag */
1236:./lib/src/at32f4xx_i2c.c ****   I2Cx->STS1 = (uint16_t)~flagpos;
 1664              		.loc 1 1236 3 is_stmt 1 view .LVU470
 1665              		.loc 1 1236 16 is_stmt 0 view .LVU471
 1666 0004 C943     		mvns	r1, r1
 1667              	.LVL113:
 1668              		.loc 1 1236 16 view .LVU472
 1669 0006 89B2     		uxth	r1, r1
 1670              	.LVL114:
 1671              		.loc 1 1236 14 view .LVU473
 1672 0008 8182     		strh	r1, [r0, #20]	@ movhi
1237:./lib/src/at32f4xx_i2c.c **** }
 1673              		.loc 1 1237 1 view .LVU474
 1674 000a 7047     		bx	lr
 1675              		.cfi_endproc
 1676              	.LFE155:
 1678              		.text
 1679              	.Letext0:
 1680              		.file 2 "/usr/lib/gcc/arm-none-eabi/10.3.1/include/stdint.h"
 1681              		.file 3 "CMSIS/at32f4xx.h"
 1682              		.file 4 "lib/inc/at32f4xx_rcc.h"
 1683              		.file 5 "lib/inc/at32f4xx_i2c.h"
ARM GAS  /tmp/cctayums.s 			page 52


DEFINED SYMBOLS
                            *ABS*:0000000000000000 at32f4xx_i2c.c
     /tmp/cctayums.s:18     .text.I2C_DeInit:0000000000000000 $t
     /tmp/cctayums.s:26     .text.I2C_DeInit:0000000000000000 I2C_DeInit
     /tmp/cctayums.s:89     .text.I2C_DeInit:000000000000003c $d
     /tmp/cctayums.s:95     .text.I2C_Init:0000000000000000 $t
     /tmp/cctayums.s:102    .text.I2C_Init:0000000000000000 I2C_Init
     /tmp/cctayums.s:329    .text.I2C_Init:00000000000000cc $d
     /tmp/cctayums.s:336    .text.I2C_StructInit:0000000000000000 $t
     /tmp/cctayums.s:343    .text.I2C_StructInit:0000000000000000 I2C_StructInit
     /tmp/cctayums.s:379    .text.I2C_Cmd:0000000000000000 $t
     /tmp/cctayums.s:386    .text.I2C_Cmd:0000000000000000 I2C_Cmd
     /tmp/cctayums.s:420    .text.I2C_DMACmd:0000000000000000 $t
     /tmp/cctayums.s:427    .text.I2C_DMACmd:0000000000000000 I2C_DMACmd
     /tmp/cctayums.s:461    .text.I2C_DMALastTransferCmd:0000000000000000 $t
     /tmp/cctayums.s:468    .text.I2C_DMALastTransferCmd:0000000000000000 I2C_DMALastTransferCmd
     /tmp/cctayums.s:502    .text.I2C_GenerateSTART:0000000000000000 $t
     /tmp/cctayums.s:509    .text.I2C_GenerateSTART:0000000000000000 I2C_GenerateSTART
     /tmp/cctayums.s:543    .text.I2C_GenerateSTOP:0000000000000000 $t
     /tmp/cctayums.s:550    .text.I2C_GenerateSTOP:0000000000000000 I2C_GenerateSTOP
     /tmp/cctayums.s:584    .text.I2C_AcknowledgeConfig:0000000000000000 $t
     /tmp/cctayums.s:591    .text.I2C_AcknowledgeConfig:0000000000000000 I2C_AcknowledgeConfig
     /tmp/cctayums.s:625    .text.I2C_OwnAddress2Config:0000000000000000 $t
     /tmp/cctayums.s:632    .text.I2C_OwnAddress2Config:0000000000000000 I2C_OwnAddress2Config
     /tmp/cctayums.s:667    .text.I2C_DualAddressCmd:0000000000000000 $t
     /tmp/cctayums.s:674    .text.I2C_DualAddressCmd:0000000000000000 I2C_DualAddressCmd
     /tmp/cctayums.s:708    .text.I2C_GeneralCallCmd:0000000000000000 $t
     /tmp/cctayums.s:715    .text.I2C_GeneralCallCmd:0000000000000000 I2C_GeneralCallCmd
     /tmp/cctayums.s:749    .text.I2C_INTConfig:0000000000000000 $t
     /tmp/cctayums.s:756    .text.I2C_INTConfig:0000000000000000 I2C_INTConfig
     /tmp/cctayums.s:798    .text.I2C_SendData:0000000000000000 $t
     /tmp/cctayums.s:805    .text.I2C_SendData:0000000000000000 I2C_SendData
     /tmp/cctayums.s:823    .text.I2C_ReceiveData:0000000000000000 $t
     /tmp/cctayums.s:830    .text.I2C_ReceiveData:0000000000000000 I2C_ReceiveData
     /tmp/cctayums.s:850    .text.I2C_Send7bitAddress:0000000000000000 $t
     /tmp/cctayums.s:857    .text.I2C_Send7bitAddress:0000000000000000 I2C_Send7bitAddress
     /tmp/cctayums.s:895    .text.I2C_ReadRegister:0000000000000000 $t
     /tmp/cctayums.s:902    .text.I2C_ReadRegister:0000000000000000 I2C_ReadRegister
     /tmp/cctayums.s:947    .text.I2C_SoftwareResetCmd:0000000000000000 $t
     /tmp/cctayums.s:954    .text.I2C_SoftwareResetCmd:0000000000000000 I2C_SoftwareResetCmd
     /tmp/cctayums.s:987    .text.I2C_NACKPositionConfig:0000000000000000 $t
     /tmp/cctayums.s:994    .text.I2C_NACKPositionConfig:0000000000000000 I2C_NACKPositionConfig
     /tmp/cctayums.s:1029   .text.I2C_SMBusAlertConfig:0000000000000000 $t
     /tmp/cctayums.s:1036   .text.I2C_SMBusAlertConfig:0000000000000000 I2C_SMBusAlertConfig
     /tmp/cctayums.s:1071   .text.I2C_TransmitPEC:0000000000000000 $t
     /tmp/cctayums.s:1078   .text.I2C_TransmitPEC:0000000000000000 I2C_TransmitPEC
     /tmp/cctayums.s:1112   .text.I2C_PECPositionConfig:0000000000000000 $t
     /tmp/cctayums.s:1119   .text.I2C_PECPositionConfig:0000000000000000 I2C_PECPositionConfig
     /tmp/cctayums.s:1154   .text.I2C_CalculatePEC:0000000000000000 $t
     /tmp/cctayums.s:1161   .text.I2C_CalculatePEC:0000000000000000 I2C_CalculatePEC
     /tmp/cctayums.s:1195   .text.I2C_GetPEC:0000000000000000 $t
     /tmp/cctayums.s:1202   .text.I2C_GetPEC:0000000000000000 I2C_GetPEC
     /tmp/cctayums.s:1222   .text.I2C_ARPCmd:0000000000000000 $t
     /tmp/cctayums.s:1229   .text.I2C_ARPCmd:0000000000000000 I2C_ARPCmd
     /tmp/cctayums.s:1263   .text.I2C_StretchClockCmd:0000000000000000 $t
     /tmp/cctayums.s:1270   .text.I2C_StretchClockCmd:0000000000000000 I2C_StretchClockCmd
     /tmp/cctayums.s:1304   .text.I2C_FastModeDutyCycleConfig:0000000000000000 $t
ARM GAS  /tmp/cctayums.s 			page 53


     /tmp/cctayums.s:1311   .text.I2C_FastModeDutyCycleConfig:0000000000000000 I2C_FastModeDutyCycleConfig
     /tmp/cctayums.s:1346   .text.I2C_CheckEvent:0000000000000000 $t
     /tmp/cctayums.s:1353   .text.I2C_CheckEvent:0000000000000000 I2C_CheckEvent
     /tmp/cctayums.s:1406   .text.I2C_GetLastEvent:0000000000000000 $t
     /tmp/cctayums.s:1413   .text.I2C_GetLastEvent:0000000000000000 I2C_GetLastEvent
     /tmp/cctayums.s:1448   .text.I2C_GetFlagStatus:0000000000000000 $t
     /tmp/cctayums.s:1455   .text.I2C_GetFlagStatus:0000000000000000 I2C_GetFlagStatus
     /tmp/cctayums.s:1544   .text.I2C_ClearFlag:0000000000000000 $t
     /tmp/cctayums.s:1551   .text.I2C_ClearFlag:0000000000000000 I2C_ClearFlag
     /tmp/cctayums.s:1581   .text.I2C_GetINTStatus:0000000000000000 $t
     /tmp/cctayums.s:1588   .text.I2C_GetINTStatus:0000000000000000 I2C_GetINTStatus
     /tmp/cctayums.s:1642   .text.I2C_ClearITPendingBit:0000000000000000 $t
     /tmp/cctayums.s:1649   .text.I2C_ClearITPendingBit:0000000000000000 I2C_ClearITPendingBit

UNDEFINED SYMBOLS
RCC_APB1PeriphResetCmd
RCC_GetClocksFreq
